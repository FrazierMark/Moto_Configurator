var W8=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var PPe=W8((Ii,Di)=>{function j8(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Qg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var wp={},J8={get exports(){return wp},set exports(t){wp=t}},Yy={},T={},K8={get exports(){return T},set exports(t){T=t}},Ot={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cm=Symbol.for("react.element"),X8=Symbol.for("react.portal"),Y8=Symbol.for("react.fragment"),Q8=Symbol.for("react.strict_mode"),Z8=Symbol.for("react.profiler"),q8=Symbol.for("react.provider"),e6=Symbol.for("react.context"),t6=Symbol.for("react.forward_ref"),n6=Symbol.for("react.suspense"),r6=Symbol.for("react.memo"),i6=Symbol.for("react.lazy"),iP=Symbol.iterator;function s6(t){return t===null||typeof t!="object"?null:(t=iP&&t[iP]||t["@@iterator"],typeof t=="function"?t:null)}var sF={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},oF=Object.assign,aF={};function ad(t,e,n){this.props=t,this.context=e,this.refs=aF,this.updater=n||sF}ad.prototype.isReactComponent={};ad.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ad.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function lF(){}lF.prototype=ad.prototype;function QM(t,e,n){this.props=t,this.context=e,this.refs=aF,this.updater=n||sF}var ZM=QM.prototype=new lF;ZM.constructor=QM;oF(ZM,ad.prototype);ZM.isPureReactComponent=!0;var sP=Array.isArray,uF=Object.prototype.hasOwnProperty,qM={current:null},cF={key:!0,ref:!0,__self:!0,__source:!0};function fF(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)uF.call(e,r)&&!cF.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:cm,type:t,key:s,ref:o,props:i,_owner:qM.current}}function o6(t,e){return{$$typeof:cm,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function eA(t){return typeof t=="object"&&t!==null&&t.$$typeof===cm}function a6(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var oP=/\/+/g;function f_(t,e){return typeof t=="object"&&t!==null&&t.key!=null?a6(""+t.key):e.toString(36)}function wv(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case cm:case X8:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+f_(o,0):r,sP(i)?(n="",t!=null&&(n=t.replace(oP,"$&/")+"/"),wv(i,e,n,"",function(u){return u})):i!=null&&(eA(i)&&(i=o6(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(oP,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",sP(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+f_(s,a);o+=wv(s,e,n,l,i)}else if(l=s6(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+f_(s,a++),o+=wv(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Zg(t,e,n){if(t==null)return t;var r=[],i=0;return wv(t,r,"","",function(s){return e.call(n,s,i++)}),r}function l6(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Qr={current:null},Mv={transition:null},u6={ReactCurrentDispatcher:Qr,ReactCurrentBatchConfig:Mv,ReactCurrentOwner:qM};Ot.Children={map:Zg,forEach:function(t,e,n){Zg(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Zg(t,function(){e++}),e},toArray:function(t){return Zg(t,function(e){return e})||[]},only:function(t){if(!eA(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ot.Component=ad;Ot.Fragment=Y8;Ot.Profiler=Z8;Ot.PureComponent=QM;Ot.StrictMode=Q8;Ot.Suspense=n6;Ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=u6;Ot.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=oF({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=qM.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)uF.call(e,l)&&!cF.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:cm,type:t.type,key:i,ref:s,props:r,_owner:o}};Ot.createContext=function(t){return t={$$typeof:e6,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:q8,_context:t},t.Consumer=t};Ot.createElement=fF;Ot.createFactory=function(t){var e=fF.bind(null,t);return e.type=t,e};Ot.createRef=function(){return{current:null}};Ot.forwardRef=function(t){return{$$typeof:t6,render:t}};Ot.isValidElement=eA;Ot.lazy=function(t){return{$$typeof:i6,_payload:{_status:-1,_result:t},_init:l6}};Ot.memo=function(t,e){return{$$typeof:r6,type:t,compare:e===void 0?null:e}};Ot.startTransition=function(t){var e=Mv.transition;Mv.transition={};try{t()}finally{Mv.transition=e}};Ot.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ot.useCallback=function(t,e){return Qr.current.useCallback(t,e)};Ot.useContext=function(t){return Qr.current.useContext(t)};Ot.useDebugValue=function(){};Ot.useDeferredValue=function(t){return Qr.current.useDeferredValue(t)};Ot.useEffect=function(t,e){return Qr.current.useEffect(t,e)};Ot.useId=function(){return Qr.current.useId()};Ot.useImperativeHandle=function(t,e,n){return Qr.current.useImperativeHandle(t,e,n)};Ot.useInsertionEffect=function(t,e){return Qr.current.useInsertionEffect(t,e)};Ot.useLayoutEffect=function(t,e){return Qr.current.useLayoutEffect(t,e)};Ot.useMemo=function(t,e){return Qr.current.useMemo(t,e)};Ot.useReducer=function(t,e,n){return Qr.current.useReducer(t,e,n)};Ot.useRef=function(t){return Qr.current.useRef(t)};Ot.useState=function(t){return Qr.current.useState(t)};Ot.useSyncExternalStore=function(t,e,n){return Qr.current.useSyncExternalStore(t,e,n)};Ot.useTransition=function(){return Qr.current.useTransition()};Ot.version="18.2.0";(function(t){t.exports=Ot})(K8);const D=Xy(T),c6=j8({__proto__:null,default:D},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f6=T,d6=Symbol.for("react.element"),h6=Symbol.for("react.fragment"),p6=Object.prototype.hasOwnProperty,m6=f6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,g6={key:!0,ref:!0,__self:!0,__source:!0};function dF(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)p6.call(e,r)&&!g6.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:d6,type:t,key:s,ref:o,props:i,_owner:m6.current}}Yy.Fragment=h6;Yy.jsx=dF;Yy.jsxs=dF;(function(t){t.exports=Yy})(J8);const v6=wp.Fragment,W=wp.jsx,Rt=wp.jsxs;var fb={},Jv={},y6={get exports(){return Jv},set exports(t){Jv=t}},zi={},db={},x6={get exports(){return db},set exports(t){db=t}},hF={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,J){var K=z.length;z.push(J);e:for(;0<K;){var ie=K-1>>>1,re=z[ie];if(0<i(re,J))z[ie]=J,z[K]=re,K=ie;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var J=z[0],K=z.pop();if(K!==J){z[0]=K;e:for(var ie=0,re=z.length,se=re>>>1;ie<se;){var le=2*(ie+1)-1,Me=z[le],be=le+1,ee=z[be];if(0>i(Me,K))be<re&&0>i(ee,Me)?(z[ie]=ee,z[be]=K,ie=be):(z[ie]=Me,z[le]=K,ie=le);else if(be<re&&0>i(ee,K))z[ie]=ee,z[be]=K,ie=be;else break e}}return J}function i(z,J){var K=z.sortIndex-J.sortIndex;return K!==0?K:z.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,p=3,m=!1,v=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(z){for(var J=n(u);J!==null;){if(J.callback===null)r(u);else if(J.startTime<=z)r(u),J.sortIndex=J.expirationTime,e(l,J);else break;J=n(u)}}function M(z){if(y=!1,S(z),!v)if(n(l)!==null)v=!0,Z(C);else{var J=n(u);J!==null&&ne(M,J.startTime-z)}}function C(z,J){v=!1,y&&(y=!1,g(I),I=-1),m=!0;var K=p;try{for(S(J),d=n(l);d!==null&&(!(d.expirationTime>J)||z&&!O());){var ie=d.callback;if(typeof ie=="function"){d.callback=null,p=d.priorityLevel;var re=ie(d.expirationTime<=J);J=t.unstable_now(),typeof re=="function"?d.callback=re:d===n(l)&&r(l),S(J)}else r(l);d=n(l)}if(d!==null)var se=!0;else{var le=n(u);le!==null&&ne(M,le.startTime-J),se=!1}return se}finally{d=null,p=K,m=!1}}var E=!1,R=null,I=-1,P=5,B=-1;function O(){return!(t.unstable_now()-B<P)}function H(){if(R!==null){var z=t.unstable_now();B=z;var J=!0;try{J=R(!0,z)}finally{J?U():(E=!1,R=null)}}else E=!1}var U;if(typeof b=="function")U=function(){b(H)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,j=V.port2;V.port1.onmessage=H,U=function(){j.postMessage(null)}}else U=function(){x(H,0)};function Z(z){R=z,E||(E=!0,U())}function ne(z,J){I=x(function(){z(t.unstable_now())},J)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,Z(C))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(z){switch(p){case 1:case 2:case 3:var J=3;break;default:J=p}var K=p;p=J;try{return z()}finally{p=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,J){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var K=p;p=z;try{return J()}finally{p=K}},t.unstable_scheduleCallback=function(z,J,K){var ie=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ie+K:ie):K=ie,z){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=K+re,z={id:c++,callback:J,priorityLevel:z,startTime:K,expirationTime:re,sortIndex:-1},K>ie?(z.sortIndex=K,e(u,z),n(l)===null&&z===n(u)&&(y?(g(I),I=-1):y=!0,ne(M,K-ie))):(z.sortIndex=re,e(l,z),v||m||(v=!0,Z(C))),z},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(z){var J=p;return function(){var K=p;p=J;try{return z.apply(this,arguments)}finally{p=K}}}})(hF);(function(t){t.exports=hF})(x6);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pF=T,Fi=db;function Ee(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var mF=new Set,Mp={};function Fu(t,e){Nf(t,e),Nf(t+"Capture",e)}function Nf(t,e){for(Mp[t]=e,t=0;t<e.length;t++)mF.add(e[t])}var ta=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hb=Object.prototype.hasOwnProperty,_6=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,aP={},lP={};function S6(t){return hb.call(lP,t)?!0:hb.call(aP,t)?!1:_6.test(t)?lP[t]=!0:(aP[t]=!0,!1)}function b6(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function w6(t,e,n,r){if(e===null||typeof e>"u"||b6(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Zr(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var br={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){br[t]=new Zr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];br[e]=new Zr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){br[t]=new Zr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){br[t]=new Zr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){br[t]=new Zr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){br[t]=new Zr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){br[t]=new Zr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){br[t]=new Zr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){br[t]=new Zr(t,5,!1,t.toLowerCase(),null,!1,!1)});var tA=/[\-:]([a-z])/g;function nA(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(tA,nA);br[e]=new Zr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(tA,nA);br[e]=new Zr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(tA,nA);br[e]=new Zr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){br[t]=new Zr(t,1,!1,t.toLowerCase(),null,!1,!1)});br.xlinkHref=new Zr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){br[t]=new Zr(t,1,!1,t.toLowerCase(),null,!0,!0)});function rA(t,e,n,r){var i=br.hasOwnProperty(e)?br[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(w6(e,n,i,r)&&(n=null),r||i===null?S6(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var la=pF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,qg=Symbol.for("react.element"),uf=Symbol.for("react.portal"),cf=Symbol.for("react.fragment"),iA=Symbol.for("react.strict_mode"),pb=Symbol.for("react.profiler"),gF=Symbol.for("react.provider"),vF=Symbol.for("react.context"),sA=Symbol.for("react.forward_ref"),mb=Symbol.for("react.suspense"),gb=Symbol.for("react.suspense_list"),oA=Symbol.for("react.memo"),ka=Symbol.for("react.lazy"),yF=Symbol.for("react.offscreen"),uP=Symbol.iterator;function rh(t){return t===null||typeof t!="object"?null:(t=uP&&t[uP]||t["@@iterator"],typeof t=="function"?t:null)}var Pn=Object.assign,d_;function zh(t){if(d_===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);d_=e&&e[1]||""}return`
`+d_+t}var h_=!1;function p_(t,e){if(!t||h_)return"";h_=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{h_=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?zh(t):""}function M6(t){switch(t.tag){case 5:return zh(t.type);case 16:return zh("Lazy");case 13:return zh("Suspense");case 19:return zh("SuspenseList");case 0:case 2:case 15:return t=p_(t.type,!1),t;case 11:return t=p_(t.type.render,!1),t;case 1:return t=p_(t.type,!0),t;default:return""}}function vb(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case cf:return"Fragment";case uf:return"Portal";case pb:return"Profiler";case iA:return"StrictMode";case mb:return"Suspense";case gb:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case vF:return(t.displayName||"Context")+".Consumer";case gF:return(t._context.displayName||"Context")+".Provider";case sA:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case oA:return e=t.displayName||null,e!==null?e:vb(t.type)||"Memo";case ka:e=t._payload,t=t._init;try{return vb(t(e))}catch{}}return null}function A6(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return vb(e);case 8:return e===iA?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function al(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function xF(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function E6(t){var e=xF(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function e0(t){t._valueTracker||(t._valueTracker=E6(t))}function _F(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=xF(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Kv(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function yb(t,e){var n=e.checked;return Pn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function cP(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=al(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function SF(t,e){e=e.checked,e!=null&&rA(t,"checked",e,!1)}function xb(t,e){SF(t,e);var n=al(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?_b(t,e.type,n):e.hasOwnProperty("defaultValue")&&_b(t,e.type,al(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function fP(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function _b(t,e,n){(e!=="number"||Kv(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Hh=Array.isArray;function Tf(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+al(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Sb(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ee(91));return Pn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function dP(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Ee(92));if(Hh(n)){if(1<n.length)throw Error(Ee(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:al(n)}}function bF(t,e){var n=al(e.value),r=al(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function hP(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function wF(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bb(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?wF(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var t0,MF=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(t0=t0||document.createElement("div"),t0.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=t0.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ap(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Zh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},C6=["Webkit","ms","Moz","O"];Object.keys(Zh).forEach(function(t){C6.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Zh[e]=Zh[t]})});function AF(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Zh.hasOwnProperty(t)&&Zh[t]?(""+e).trim():e+"px"}function EF(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=AF(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var T6=Pn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wb(t,e){if(e){if(T6[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ee(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ee(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ee(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ee(62))}}function Mb(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ab=null;function aA(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Eb=null,Pf=null,Rf=null;function pP(t){if(t=hm(t)){if(typeof Eb!="function")throw Error(Ee(280));var e=t.stateNode;e&&(e=tx(e),Eb(t.stateNode,t.type,e))}}function CF(t){Pf?Rf?Rf.push(t):Rf=[t]:Pf=t}function TF(){if(Pf){var t=Pf,e=Rf;if(Rf=Pf=null,pP(t),e)for(t=0;t<e.length;t++)pP(e[t])}}function PF(t,e){return t(e)}function RF(){}var m_=!1;function BF(t,e,n){if(m_)return t(e,n);m_=!0;try{return PF(t,e,n)}finally{m_=!1,(Pf!==null||Rf!==null)&&(RF(),TF())}}function Ep(t,e){var n=t.stateNode;if(n===null)return null;var r=tx(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Ee(231,e,typeof n));return n}var Cb=!1;if(ta)try{var ih={};Object.defineProperty(ih,"passive",{get:function(){Cb=!0}}),window.addEventListener("test",ih,ih),window.removeEventListener("test",ih,ih)}catch{Cb=!1}function P6(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var qh=!1,Xv=null,Yv=!1,Tb=null,R6={onError:function(t){qh=!0,Xv=t}};function B6(t,e,n,r,i,s,o,a,l){qh=!1,Xv=null,P6.apply(R6,arguments)}function I6(t,e,n,r,i,s,o,a,l){if(B6.apply(this,arguments),qh){if(qh){var u=Xv;qh=!1,Xv=null}else throw Error(Ee(198));Yv||(Yv=!0,Tb=u)}}function ku(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function IF(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function mP(t){if(ku(t)!==t)throw Error(Ee(188))}function D6(t){var e=t.alternate;if(!e){if(e=ku(t),e===null)throw Error(Ee(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return mP(i),t;if(s===r)return mP(i),e;s=s.sibling}throw Error(Ee(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Ee(189))}}if(n.alternate!==r)throw Error(Ee(190))}if(n.tag!==3)throw Error(Ee(188));return n.stateNode.current===n?t:e}function DF(t){return t=D6(t),t!==null?LF(t):null}function LF(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=LF(t);if(e!==null)return e;t=t.sibling}return null}var OF=Fi.unstable_scheduleCallback,gP=Fi.unstable_cancelCallback,L6=Fi.unstable_shouldYield,O6=Fi.unstable_requestPaint,zn=Fi.unstable_now,F6=Fi.unstable_getCurrentPriorityLevel,lA=Fi.unstable_ImmediatePriority,FF=Fi.unstable_UserBlockingPriority,Qv=Fi.unstable_NormalPriority,k6=Fi.unstable_LowPriority,kF=Fi.unstable_IdlePriority,Qy=null,uo=null;function N6(t){if(uo&&typeof uo.onCommitFiberRoot=="function")try{uo.onCommitFiberRoot(Qy,t,void 0,(t.current.flags&128)===128)}catch{}}var Fs=Math.clz32?Math.clz32:H6,U6=Math.log,z6=Math.LN2;function H6(t){return t>>>=0,t===0?32:31-(U6(t)/z6|0)|0}var n0=64,r0=4194304;function Gh(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Zv(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Gh(a):(s&=o,s!==0&&(r=Gh(s)))}else o=n&~i,o!==0?r=Gh(o):s!==0&&(r=Gh(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Fs(e),i=1<<n,r|=t[n],e&=~i;return r}function G6(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $6(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Fs(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=G6(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Pb(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function NF(){var t=n0;return n0<<=1,!(n0&4194240)&&(n0=64),t}function g_(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function fm(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Fs(e),t[e]=n}function V6(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Fs(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function uA(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Fs(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Yt=0;function UF(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var zF,cA,HF,GF,$F,Rb=!1,i0=[],Ja=null,Ka=null,Xa=null,Cp=new Map,Tp=new Map,Ga=[],W6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vP(t,e){switch(t){case"focusin":case"focusout":Ja=null;break;case"dragenter":case"dragleave":Ka=null;break;case"mouseover":case"mouseout":Xa=null;break;case"pointerover":case"pointerout":Cp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tp.delete(e.pointerId)}}function sh(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=hm(e),e!==null&&cA(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function j6(t,e,n,r,i){switch(e){case"focusin":return Ja=sh(Ja,t,e,n,r,i),!0;case"dragenter":return Ka=sh(Ka,t,e,n,r,i),!0;case"mouseover":return Xa=sh(Xa,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Cp.set(s,sh(Cp.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Tp.set(s,sh(Tp.get(s)||null,t,e,n,r,i)),!0}return!1}function VF(t){var e=iu(t.target);if(e!==null){var n=ku(e);if(n!==null){if(e=n.tag,e===13){if(e=IF(n),e!==null){t.blockedOn=e,$F(t.priority,function(){HF(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Av(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Bb(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ab=r,n.target.dispatchEvent(r),Ab=null}else return e=hm(n),e!==null&&cA(e),t.blockedOn=n,!1;e.shift()}return!0}function yP(t,e,n){Av(t)&&n.delete(e)}function J6(){Rb=!1,Ja!==null&&Av(Ja)&&(Ja=null),Ka!==null&&Av(Ka)&&(Ka=null),Xa!==null&&Av(Xa)&&(Xa=null),Cp.forEach(yP),Tp.forEach(yP)}function oh(t,e){t.blockedOn===e&&(t.blockedOn=null,Rb||(Rb=!0,Fi.unstable_scheduleCallback(Fi.unstable_NormalPriority,J6)))}function Pp(t){function e(i){return oh(i,t)}if(0<i0.length){oh(i0[0],t);for(var n=1;n<i0.length;n++){var r=i0[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ja!==null&&oh(Ja,t),Ka!==null&&oh(Ka,t),Xa!==null&&oh(Xa,t),Cp.forEach(e),Tp.forEach(e),n=0;n<Ga.length;n++)r=Ga[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ga.length&&(n=Ga[0],n.blockedOn===null);)VF(n),n.blockedOn===null&&Ga.shift()}var Bf=la.ReactCurrentBatchConfig,qv=!0;function K6(t,e,n,r){var i=Yt,s=Bf.transition;Bf.transition=null;try{Yt=1,fA(t,e,n,r)}finally{Yt=i,Bf.transition=s}}function X6(t,e,n,r){var i=Yt,s=Bf.transition;Bf.transition=null;try{Yt=4,fA(t,e,n,r)}finally{Yt=i,Bf.transition=s}}function fA(t,e,n,r){if(qv){var i=Bb(t,e,n,r);if(i===null)E_(t,e,r,ey,n),vP(t,r);else if(j6(i,t,e,n,r))r.stopPropagation();else if(vP(t,r),e&4&&-1<W6.indexOf(t)){for(;i!==null;){var s=hm(i);if(s!==null&&zF(s),s=Bb(t,e,n,r),s===null&&E_(t,e,r,ey,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else E_(t,e,r,null,n)}}var ey=null;function Bb(t,e,n,r){if(ey=null,t=aA(r),t=iu(t),t!==null)if(e=ku(t),e===null)t=null;else if(n=e.tag,n===13){if(t=IF(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ey=t,null}function WF(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(F6()){case lA:return 1;case FF:return 4;case Qv:case k6:return 16;case kF:return 536870912;default:return 16}default:return 16}}var Va=null,dA=null,Ev=null;function jF(){if(Ev)return Ev;var t,e=dA,n=e.length,r,i="value"in Va?Va.value:Va.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Ev=i.slice(t,1<r?1-r:void 0)}function Cv(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function s0(){return!0}function xP(){return!1}function Hi(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?s0:xP,this.isPropagationStopped=xP,this}return Pn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=s0)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=s0)},persist:function(){},isPersistent:s0}),e}var ld={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hA=Hi(ld),dm=Pn({},ld,{view:0,detail:0}),Y6=Hi(dm),v_,y_,ah,Zy=Pn({},dm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pA,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ah&&(ah&&t.type==="mousemove"?(v_=t.screenX-ah.screenX,y_=t.screenY-ah.screenY):y_=v_=0,ah=t),v_)},movementY:function(t){return"movementY"in t?t.movementY:y_}}),_P=Hi(Zy),Q6=Pn({},Zy,{dataTransfer:0}),Z6=Hi(Q6),q6=Pn({},dm,{relatedTarget:0}),x_=Hi(q6),e9=Pn({},ld,{animationName:0,elapsedTime:0,pseudoElement:0}),t9=Hi(e9),n9=Pn({},ld,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),r9=Hi(n9),i9=Pn({},ld,{data:0}),SP=Hi(i9),s9={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},o9={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},a9={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function l9(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=a9[t])?!!e[t]:!1}function pA(){return l9}var u9=Pn({},dm,{key:function(t){if(t.key){var e=s9[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Cv(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?o9[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pA,charCode:function(t){return t.type==="keypress"?Cv(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Cv(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),c9=Hi(u9),f9=Pn({},Zy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bP=Hi(f9),d9=Pn({},dm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pA}),h9=Hi(d9),p9=Pn({},ld,{propertyName:0,elapsedTime:0,pseudoElement:0}),m9=Hi(p9),g9=Pn({},Zy,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),v9=Hi(g9),y9=[9,13,27,32],mA=ta&&"CompositionEvent"in window,ep=null;ta&&"documentMode"in document&&(ep=document.documentMode);var x9=ta&&"TextEvent"in window&&!ep,JF=ta&&(!mA||ep&&8<ep&&11>=ep),wP=String.fromCharCode(32),MP=!1;function KF(t,e){switch(t){case"keyup":return y9.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function XF(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ff=!1;function _9(t,e){switch(t){case"compositionend":return XF(e);case"keypress":return e.which!==32?null:(MP=!0,wP);case"textInput":return t=e.data,t===wP&&MP?null:t;default:return null}}function S9(t,e){if(ff)return t==="compositionend"||!mA&&KF(t,e)?(t=jF(),Ev=dA=Va=null,ff=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return JF&&e.locale!=="ko"?null:e.data;default:return null}}var b9={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function AP(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!b9[t.type]:e==="textarea"}function YF(t,e,n,r){CF(r),e=ty(e,"onChange"),0<e.length&&(n=new hA("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var tp=null,Rp=null;function w9(t){ak(t,0)}function qy(t){var e=pf(t);if(_F(e))return t}function M9(t,e){if(t==="change")return e}var QF=!1;if(ta){var __;if(ta){var S_="oninput"in document;if(!S_){var EP=document.createElement("div");EP.setAttribute("oninput","return;"),S_=typeof EP.oninput=="function"}__=S_}else __=!1;QF=__&&(!document.documentMode||9<document.documentMode)}function CP(){tp&&(tp.detachEvent("onpropertychange",ZF),Rp=tp=null)}function ZF(t){if(t.propertyName==="value"&&qy(Rp)){var e=[];YF(e,Rp,t,aA(t)),BF(w9,e)}}function A9(t,e,n){t==="focusin"?(CP(),tp=e,Rp=n,tp.attachEvent("onpropertychange",ZF)):t==="focusout"&&CP()}function E9(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return qy(Rp)}function C9(t,e){if(t==="click")return qy(e)}function T9(t,e){if(t==="input"||t==="change")return qy(e)}function P9(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var zs=typeof Object.is=="function"?Object.is:P9;function Bp(t,e){if(zs(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!hb.call(e,i)||!zs(t[i],e[i]))return!1}return!0}function TP(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function PP(t,e){var n=TP(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=TP(n)}}function qF(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?qF(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ek(){for(var t=window,e=Kv();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Kv(t.document)}return e}function gA(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function R9(t){var e=ek(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&qF(n.ownerDocument.documentElement,n)){if(r!==null&&gA(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=PP(n,s);var o=PP(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var B9=ta&&"documentMode"in document&&11>=document.documentMode,df=null,Ib=null,np=null,Db=!1;function RP(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Db||df==null||df!==Kv(r)||(r=df,"selectionStart"in r&&gA(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),np&&Bp(np,r)||(np=r,r=ty(Ib,"onSelect"),0<r.length&&(e=new hA("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=df)))}function o0(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var hf={animationend:o0("Animation","AnimationEnd"),animationiteration:o0("Animation","AnimationIteration"),animationstart:o0("Animation","AnimationStart"),transitionend:o0("Transition","TransitionEnd")},b_={},tk={};ta&&(tk=document.createElement("div").style,"AnimationEvent"in window||(delete hf.animationend.animation,delete hf.animationiteration.animation,delete hf.animationstart.animation),"TransitionEvent"in window||delete hf.transitionend.transition);function ex(t){if(b_[t])return b_[t];if(!hf[t])return t;var e=hf[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in tk)return b_[t]=e[n];return t}var nk=ex("animationend"),rk=ex("animationiteration"),ik=ex("animationstart"),sk=ex("transitionend"),ok=new Map,BP="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yl(t,e){ok.set(t,e),Fu(e,[t])}for(var w_=0;w_<BP.length;w_++){var M_=BP[w_],I9=M_.toLowerCase(),D9=M_[0].toUpperCase()+M_.slice(1);yl(I9,"on"+D9)}yl(nk,"onAnimationEnd");yl(rk,"onAnimationIteration");yl(ik,"onAnimationStart");yl("dblclick","onDoubleClick");yl("focusin","onFocus");yl("focusout","onBlur");yl(sk,"onTransitionEnd");Nf("onMouseEnter",["mouseout","mouseover"]);Nf("onMouseLeave",["mouseout","mouseover"]);Nf("onPointerEnter",["pointerout","pointerover"]);Nf("onPointerLeave",["pointerout","pointerover"]);Fu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fu("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $h="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),L9=new Set("cancel close invalid load scroll toggle".split(" ").concat($h));function IP(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,I6(r,e,void 0,t),t.currentTarget=null}function ak(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;IP(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;IP(i,a,u),s=l}}}if(Yv)throw t=Tb,Yv=!1,Tb=null,t}function fn(t,e){var n=e[Nb];n===void 0&&(n=e[Nb]=new Set);var r=t+"__bubble";n.has(r)||(lk(e,t,2,!1),n.add(r))}function A_(t,e,n){var r=0;e&&(r|=4),lk(n,t,r,e)}var a0="_reactListening"+Math.random().toString(36).slice(2);function Ip(t){if(!t[a0]){t[a0]=!0,mF.forEach(function(n){n!=="selectionchange"&&(L9.has(n)||A_(n,!1,t),A_(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[a0]||(e[a0]=!0,A_("selectionchange",!1,e))}}function lk(t,e,n,r){switch(WF(e)){case 1:var i=K6;break;case 4:i=X6;break;default:i=fA}n=i.bind(null,e,n,t),i=void 0,!Cb||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function E_(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=iu(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}BF(function(){var u=s,c=aA(n),d=[];e:{var p=ok.get(t);if(p!==void 0){var m=hA,v=t;switch(t){case"keypress":if(Cv(n)===0)break e;case"keydown":case"keyup":m=c9;break;case"focusin":v="focus",m=x_;break;case"focusout":v="blur",m=x_;break;case"beforeblur":case"afterblur":m=x_;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=_P;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Z6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=h9;break;case nk:case rk:case ik:m=t9;break;case sk:m=m9;break;case"scroll":m=Y6;break;case"wheel":m=v9;break;case"copy":case"cut":case"paste":m=r9;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=bP}var y=(e&4)!==0,x=!y&&t==="scroll",g=y?p!==null?p+"Capture":null:p;y=[];for(var b=u,S;b!==null;){S=b;var M=S.stateNode;if(S.tag===5&&M!==null&&(S=M,g!==null&&(M=Ep(b,g),M!=null&&y.push(Dp(b,M,S)))),x)break;b=b.return}0<y.length&&(p=new m(p,v,null,n,c),d.push({event:p,listeners:y}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==Ab&&(v=n.relatedTarget||n.fromElement)&&(iu(v)||v[na]))break e;if((m||p)&&(p=c.window===c?c:(p=c.ownerDocument)?p.defaultView||p.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=u,v=v?iu(v):null,v!==null&&(x=ku(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(y=_P,M="onMouseLeave",g="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(y=bP,M="onPointerLeave",g="onPointerEnter",b="pointer"),x=m==null?p:pf(m),S=v==null?p:pf(v),p=new y(M,b+"leave",m,n,c),p.target=x,p.relatedTarget=S,M=null,iu(c)===u&&(y=new y(g,b+"enter",v,n,c),y.target=S,y.relatedTarget=x,M=y),x=M,m&&v)t:{for(y=m,g=v,b=0,S=y;S;S=fc(S))b++;for(S=0,M=g;M;M=fc(M))S++;for(;0<b-S;)y=fc(y),b--;for(;0<S-b;)g=fc(g),S--;for(;b--;){if(y===g||g!==null&&y===g.alternate)break t;y=fc(y),g=fc(g)}y=null}else y=null;m!==null&&DP(d,p,m,y,!1),v!==null&&x!==null&&DP(d,x,v,y,!0)}}e:{if(p=u?pf(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var C=M9;else if(AP(p))if(QF)C=T9;else{C=E9;var E=A9}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(C=C9);if(C&&(C=C(t,u))){YF(d,C,n,c);break e}E&&E(t,p,u),t==="focusout"&&(E=p._wrapperState)&&E.controlled&&p.type==="number"&&_b(p,"number",p.value)}switch(E=u?pf(u):window,t){case"focusin":(AP(E)||E.contentEditable==="true")&&(df=E,Ib=u,np=null);break;case"focusout":np=Ib=df=null;break;case"mousedown":Db=!0;break;case"contextmenu":case"mouseup":case"dragend":Db=!1,RP(d,n,c);break;case"selectionchange":if(B9)break;case"keydown":case"keyup":RP(d,n,c)}var R;if(mA)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else ff?KF(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(JF&&n.locale!=="ko"&&(ff||I!=="onCompositionStart"?I==="onCompositionEnd"&&ff&&(R=jF()):(Va=c,dA="value"in Va?Va.value:Va.textContent,ff=!0)),E=ty(u,I),0<E.length&&(I=new SP(I,t,null,n,c),d.push({event:I,listeners:E}),R?I.data=R:(R=XF(n),R!==null&&(I.data=R)))),(R=x9?_9(t,n):S9(t,n))&&(u=ty(u,"onBeforeInput"),0<u.length&&(c=new SP("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=R))}ak(d,e)})}function Dp(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ty(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ep(t,n),s!=null&&r.unshift(Dp(t,s,i)),s=Ep(t,e),s!=null&&r.push(Dp(t,s,i))),t=t.return}return r}function fc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function DP(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Ep(n,s),l!=null&&o.unshift(Dp(n,l,a))):i||(l=Ep(n,s),l!=null&&o.push(Dp(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var O9=/\r\n?/g,F9=/\u0000|\uFFFD/g;function LP(t){return(typeof t=="string"?t:""+t).replace(O9,`
`).replace(F9,"")}function l0(t,e,n){if(e=LP(e),LP(t)!==e&&n)throw Error(Ee(425))}function ny(){}var Lb=null,Ob=null;function Fb(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var kb=typeof setTimeout=="function"?setTimeout:void 0,k9=typeof clearTimeout=="function"?clearTimeout:void 0,OP=typeof Promise=="function"?Promise:void 0,N9=typeof queueMicrotask=="function"?queueMicrotask:typeof OP<"u"?function(t){return OP.resolve(null).then(t).catch(U9)}:kb;function U9(t){setTimeout(function(){throw t})}function C_(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Pp(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Pp(e)}function Ya(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function FP(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ud=Math.random().toString(36).slice(2),ao="__reactFiber$"+ud,Lp="__reactProps$"+ud,na="__reactContainer$"+ud,Nb="__reactEvents$"+ud,z9="__reactListeners$"+ud,H9="__reactHandles$"+ud;function iu(t){var e=t[ao];if(e)return e;for(var n=t.parentNode;n;){if(e=n[na]||n[ao]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=FP(t);t!==null;){if(n=t[ao])return n;t=FP(t)}return e}t=n,n=t.parentNode}return null}function hm(t){return t=t[ao]||t[na],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function pf(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Ee(33))}function tx(t){return t[Lp]||null}var Ub=[],mf=-1;function xl(t){return{current:t}}function mn(t){0>mf||(t.current=Ub[mf],Ub[mf]=null,mf--)}function an(t,e){mf++,Ub[mf]=t.current,t.current=e}var ll={},kr=xl(ll),fi=xl(!1),Mu=ll;function Uf(t,e){var n=t.type.contextTypes;if(!n)return ll;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function di(t){return t=t.childContextTypes,t!=null}function ry(){mn(fi),mn(kr)}function kP(t,e,n){if(kr.current!==ll)throw Error(Ee(168));an(kr,e),an(fi,n)}function uk(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Ee(108,A6(t)||"Unknown",i));return Pn({},n,r)}function iy(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ll,Mu=kr.current,an(kr,t),an(fi,fi.current),!0}function NP(t,e,n){var r=t.stateNode;if(!r)throw Error(Ee(169));n?(t=uk(t,e,Mu),r.__reactInternalMemoizedMergedChildContext=t,mn(fi),mn(kr),an(kr,t)):mn(fi),an(fi,n)}var Ho=null,nx=!1,T_=!1;function ck(t){Ho===null?Ho=[t]:Ho.push(t)}function G9(t){nx=!0,ck(t)}function _l(){if(!T_&&Ho!==null){T_=!0;var t=0,e=Yt;try{var n=Ho;for(Yt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ho=null,nx=!1}catch(i){throw Ho!==null&&(Ho=Ho.slice(t+1)),OF(lA,_l),i}finally{Yt=e,T_=!1}}return null}var gf=[],vf=0,sy=null,oy=0,rs=[],is=0,Au=null,jo=1,Jo="";function Jl(t,e){gf[vf++]=oy,gf[vf++]=sy,sy=t,oy=e}function fk(t,e,n){rs[is++]=jo,rs[is++]=Jo,rs[is++]=Au,Au=t;var r=jo;t=Jo;var i=32-Fs(r)-1;r&=~(1<<i),n+=1;var s=32-Fs(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,jo=1<<32-Fs(e)+i|n<<i|r,Jo=s+t}else jo=1<<s|n<<i|r,Jo=t}function vA(t){t.return!==null&&(Jl(t,1),fk(t,1,0))}function yA(t){for(;t===sy;)sy=gf[--vf],gf[vf]=null,oy=gf[--vf],gf[vf]=null;for(;t===Au;)Au=rs[--is],rs[is]=null,Jo=rs[--is],rs[is]=null,jo=rs[--is],rs[is]=null}var Li=null,Ti=null,xn=!1,Ds=null;function dk(t,e){var n=as(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function UP(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Li=t,Ti=Ya(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Li=t,Ti=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Au!==null?{id:jo,overflow:Jo}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=as(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Li=t,Ti=null,!0):!1;default:return!1}}function zb(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Hb(t){if(xn){var e=Ti;if(e){var n=e;if(!UP(t,e)){if(zb(t))throw Error(Ee(418));e=Ya(n.nextSibling);var r=Li;e&&UP(t,e)?dk(r,n):(t.flags=t.flags&-4097|2,xn=!1,Li=t)}}else{if(zb(t))throw Error(Ee(418));t.flags=t.flags&-4097|2,xn=!1,Li=t}}}function zP(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Li=t}function u0(t){if(t!==Li)return!1;if(!xn)return zP(t),xn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Fb(t.type,t.memoizedProps)),e&&(e=Ti)){if(zb(t))throw hk(),Error(Ee(418));for(;e;)dk(t,e),e=Ya(e.nextSibling)}if(zP(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Ee(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ti=Ya(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ti=null}}else Ti=Li?Ya(t.stateNode.nextSibling):null;return!0}function hk(){for(var t=Ti;t;)t=Ya(t.nextSibling)}function zf(){Ti=Li=null,xn=!1}function xA(t){Ds===null?Ds=[t]:Ds.push(t)}var $9=la.ReactCurrentBatchConfig;function Rs(t,e){if(t&&t.defaultProps){e=Pn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var ay=xl(null),ly=null,yf=null,_A=null;function SA(){_A=yf=ly=null}function bA(t){var e=ay.current;mn(ay),t._currentValue=e}function Gb(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function If(t,e){ly=t,_A=yf=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ui=!0),t.firstContext=null)}function fs(t){var e=t._currentValue;if(_A!==t)if(t={context:t,memoizedValue:e,next:null},yf===null){if(ly===null)throw Error(Ee(308));yf=t,ly.dependencies={lanes:0,firstContext:t}}else yf=yf.next=t;return e}var su=null;function wA(t){su===null?su=[t]:su.push(t)}function pk(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,wA(e)):(n.next=i.next,i.next=n),e.interleaved=n,ra(t,r)}function ra(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Na=!1;function MA(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mk(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Qo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Qa(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Gt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ra(t,n)}return i=r.interleaved,i===null?(e.next=e,wA(r)):(e.next=i.next,i.next=e),r.interleaved=e,ra(t,n)}function Tv(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,uA(t,n)}}function HP(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function uy(t,e,n,r){var i=t.updateQueue;Na=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var p=a.lane,m=a.eventTime;if((r&p)===p){c!==null&&(c=c.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,y=a;switch(p=e,m=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){d=v.call(m,d,p);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,p=typeof v=="function"?v.call(m,d,p):v,p==null)break e;d=Pn({},d,p);break e;case 2:Na=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=m,l=d):c=c.next=m,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Cu|=o,t.lanes=o,t.memoizedState=d}}function GP(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Ee(191,i));i.call(r)}}}var gk=new pF.Component().refs;function $b(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Pn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var rx={isMounted:function(t){return(t=t._reactInternals)?ku(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Yr(),i=qa(t),s=Qo(r,i);s.payload=e,n!=null&&(s.callback=n),e=Qa(t,s,i),e!==null&&(ks(e,t,i,r),Tv(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Yr(),i=qa(t),s=Qo(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Qa(t,s,i),e!==null&&(ks(e,t,i,r),Tv(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Yr(),r=qa(t),i=Qo(n,r);i.tag=2,e!=null&&(i.callback=e),e=Qa(t,i,r),e!==null&&(ks(e,t,r,n),Tv(e,t,r))}};function $P(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Bp(n,r)||!Bp(i,s):!0}function vk(t,e,n){var r=!1,i=ll,s=e.contextType;return typeof s=="object"&&s!==null?s=fs(s):(i=di(e)?Mu:kr.current,r=e.contextTypes,s=(r=r!=null)?Uf(t,i):ll),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=rx,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function VP(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&rx.enqueueReplaceState(e,e.state,null)}function Vb(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=gk,MA(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=fs(s):(s=di(e)?Mu:kr.current,i.context=Uf(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&($b(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&rx.enqueueReplaceState(i,i.state,null),uy(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function lh(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ee(309));var r=n.stateNode}if(!r)throw Error(Ee(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===gk&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Ee(284));if(!n._owner)throw Error(Ee(290,t))}return t}function c0(t,e){throw t=Object.prototype.toString.call(e),Error(Ee(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function WP(t){var e=t._init;return e(t._payload)}function yk(t){function e(g,b){if(t){var S=g.deletions;S===null?(g.deletions=[b],g.flags|=16):S.push(b)}}function n(g,b){if(!t)return null;for(;b!==null;)e(g,b),b=b.sibling;return null}function r(g,b){for(g=new Map;b!==null;)b.key!==null?g.set(b.key,b):g.set(b.index,b),b=b.sibling;return g}function i(g,b){return g=el(g,b),g.index=0,g.sibling=null,g}function s(g,b,S){return g.index=S,t?(S=g.alternate,S!==null?(S=S.index,S<b?(g.flags|=2,b):S):(g.flags|=2,b)):(g.flags|=1048576,b)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,b,S,M){return b===null||b.tag!==6?(b=O_(S,g.mode,M),b.return=g,b):(b=i(b,S),b.return=g,b)}function l(g,b,S,M){var C=S.type;return C===cf?c(g,b,S.props.children,M,S.key):b!==null&&(b.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===ka&&WP(C)===b.type)?(M=i(b,S.props),M.ref=lh(g,b,S),M.return=g,M):(M=Lv(S.type,S.key,S.props,null,g.mode,M),M.ref=lh(g,b,S),M.return=g,M)}function u(g,b,S,M){return b===null||b.tag!==4||b.stateNode.containerInfo!==S.containerInfo||b.stateNode.implementation!==S.implementation?(b=F_(S,g.mode,M),b.return=g,b):(b=i(b,S.children||[]),b.return=g,b)}function c(g,b,S,M,C){return b===null||b.tag!==7?(b=gu(S,g.mode,M,C),b.return=g,b):(b=i(b,S),b.return=g,b)}function d(g,b,S){if(typeof b=="string"&&b!==""||typeof b=="number")return b=O_(""+b,g.mode,S),b.return=g,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case qg:return S=Lv(b.type,b.key,b.props,null,g.mode,S),S.ref=lh(g,null,b),S.return=g,S;case uf:return b=F_(b,g.mode,S),b.return=g,b;case ka:var M=b._init;return d(g,M(b._payload),S)}if(Hh(b)||rh(b))return b=gu(b,g.mode,S,null),b.return=g,b;c0(g,b)}return null}function p(g,b,S,M){var C=b!==null?b.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return C!==null?null:a(g,b,""+S,M);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case qg:return S.key===C?l(g,b,S,M):null;case uf:return S.key===C?u(g,b,S,M):null;case ka:return C=S._init,p(g,b,C(S._payload),M)}if(Hh(S)||rh(S))return C!==null?null:c(g,b,S,M,null);c0(g,S)}return null}function m(g,b,S,M,C){if(typeof M=="string"&&M!==""||typeof M=="number")return g=g.get(S)||null,a(b,g,""+M,C);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case qg:return g=g.get(M.key===null?S:M.key)||null,l(b,g,M,C);case uf:return g=g.get(M.key===null?S:M.key)||null,u(b,g,M,C);case ka:var E=M._init;return m(g,b,S,E(M._payload),C)}if(Hh(M)||rh(M))return g=g.get(S)||null,c(b,g,M,C,null);c0(b,M)}return null}function v(g,b,S,M){for(var C=null,E=null,R=b,I=b=0,P=null;R!==null&&I<S.length;I++){R.index>I?(P=R,R=null):P=R.sibling;var B=p(g,R,S[I],M);if(B===null){R===null&&(R=P);break}t&&R&&B.alternate===null&&e(g,R),b=s(B,b,I),E===null?C=B:E.sibling=B,E=B,R=P}if(I===S.length)return n(g,R),xn&&Jl(g,I),C;if(R===null){for(;I<S.length;I++)R=d(g,S[I],M),R!==null&&(b=s(R,b,I),E===null?C=R:E.sibling=R,E=R);return xn&&Jl(g,I),C}for(R=r(g,R);I<S.length;I++)P=m(R,g,I,S[I],M),P!==null&&(t&&P.alternate!==null&&R.delete(P.key===null?I:P.key),b=s(P,b,I),E===null?C=P:E.sibling=P,E=P);return t&&R.forEach(function(O){return e(g,O)}),xn&&Jl(g,I),C}function y(g,b,S,M){var C=rh(S);if(typeof C!="function")throw Error(Ee(150));if(S=C.call(S),S==null)throw Error(Ee(151));for(var E=C=null,R=b,I=b=0,P=null,B=S.next();R!==null&&!B.done;I++,B=S.next()){R.index>I?(P=R,R=null):P=R.sibling;var O=p(g,R,B.value,M);if(O===null){R===null&&(R=P);break}t&&R&&O.alternate===null&&e(g,R),b=s(O,b,I),E===null?C=O:E.sibling=O,E=O,R=P}if(B.done)return n(g,R),xn&&Jl(g,I),C;if(R===null){for(;!B.done;I++,B=S.next())B=d(g,B.value,M),B!==null&&(b=s(B,b,I),E===null?C=B:E.sibling=B,E=B);return xn&&Jl(g,I),C}for(R=r(g,R);!B.done;I++,B=S.next())B=m(R,g,I,B.value,M),B!==null&&(t&&B.alternate!==null&&R.delete(B.key===null?I:B.key),b=s(B,b,I),E===null?C=B:E.sibling=B,E=B);return t&&R.forEach(function(H){return e(g,H)}),xn&&Jl(g,I),C}function x(g,b,S,M){if(typeof S=="object"&&S!==null&&S.type===cf&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case qg:e:{for(var C=S.key,E=b;E!==null;){if(E.key===C){if(C=S.type,C===cf){if(E.tag===7){n(g,E.sibling),b=i(E,S.props.children),b.return=g,g=b;break e}}else if(E.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===ka&&WP(C)===E.type){n(g,E.sibling),b=i(E,S.props),b.ref=lh(g,E,S),b.return=g,g=b;break e}n(g,E);break}else e(g,E);E=E.sibling}S.type===cf?(b=gu(S.props.children,g.mode,M,S.key),b.return=g,g=b):(M=Lv(S.type,S.key,S.props,null,g.mode,M),M.ref=lh(g,b,S),M.return=g,g=M)}return o(g);case uf:e:{for(E=S.key;b!==null;){if(b.key===E)if(b.tag===4&&b.stateNode.containerInfo===S.containerInfo&&b.stateNode.implementation===S.implementation){n(g,b.sibling),b=i(b,S.children||[]),b.return=g,g=b;break e}else{n(g,b);break}else e(g,b);b=b.sibling}b=F_(S,g.mode,M),b.return=g,g=b}return o(g);case ka:return E=S._init,x(g,b,E(S._payload),M)}if(Hh(S))return v(g,b,S,M);if(rh(S))return y(g,b,S,M);c0(g,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,b!==null&&b.tag===6?(n(g,b.sibling),b=i(b,S),b.return=g,g=b):(n(g,b),b=O_(S,g.mode,M),b.return=g,g=b),o(g)):n(g,b)}return x}var Hf=yk(!0),xk=yk(!1),pm={},co=xl(pm),Op=xl(pm),Fp=xl(pm);function ou(t){if(t===pm)throw Error(Ee(174));return t}function AA(t,e){switch(an(Fp,e),an(Op,t),an(co,pm),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:bb(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=bb(e,t)}mn(co),an(co,e)}function Gf(){mn(co),mn(Op),mn(Fp)}function _k(t){ou(Fp.current);var e=ou(co.current),n=bb(e,t.type);e!==n&&(an(Op,t),an(co,n))}function EA(t){Op.current===t&&(mn(co),mn(Op))}var Mn=xl(0);function cy(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var P_=[];function CA(){for(var t=0;t<P_.length;t++)P_[t]._workInProgressVersionPrimary=null;P_.length=0}var Pv=la.ReactCurrentDispatcher,R_=la.ReactCurrentBatchConfig,Eu=0,Tn=null,Yn=null,ur=null,fy=!1,rp=!1,kp=0,V9=0;function Tr(){throw Error(Ee(321))}function TA(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!zs(t[n],e[n]))return!1;return!0}function PA(t,e,n,r,i,s){if(Eu=s,Tn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Pv.current=t===null||t.memoizedState===null?K9:X9,t=n(r,i),rp){s=0;do{if(rp=!1,kp=0,25<=s)throw Error(Ee(301));s+=1,ur=Yn=null,e.updateQueue=null,Pv.current=Y9,t=n(r,i)}while(rp)}if(Pv.current=dy,e=Yn!==null&&Yn.next!==null,Eu=0,ur=Yn=Tn=null,fy=!1,e)throw Error(Ee(300));return t}function RA(){var t=kp!==0;return kp=0,t}function so(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ur===null?Tn.memoizedState=ur=t:ur=ur.next=t,ur}function ds(){if(Yn===null){var t=Tn.alternate;t=t!==null?t.memoizedState:null}else t=Yn.next;var e=ur===null?Tn.memoizedState:ur.next;if(e!==null)ur=e,Yn=t;else{if(t===null)throw Error(Ee(310));Yn=t,t={memoizedState:Yn.memoizedState,baseState:Yn.baseState,baseQueue:Yn.baseQueue,queue:Yn.queue,next:null},ur===null?Tn.memoizedState=ur=t:ur=ur.next=t}return ur}function Np(t,e){return typeof e=="function"?e(t):e}function B_(t){var e=ds(),n=e.queue;if(n===null)throw Error(Ee(311));n.lastRenderedReducer=t;var r=Yn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Eu&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Tn.lanes|=c,Cu|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,zs(r,e.memoizedState)||(ui=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Tn.lanes|=s,Cu|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function I_(t){var e=ds(),n=e.queue;if(n===null)throw Error(Ee(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);zs(s,e.memoizedState)||(ui=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Sk(){}function bk(t,e){var n=Tn,r=ds(),i=e(),s=!zs(r.memoizedState,i);if(s&&(r.memoizedState=i,ui=!0),r=r.queue,BA(Ak.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ur!==null&&ur.memoizedState.tag&1){if(n.flags|=2048,Up(9,Mk.bind(null,n,r,i,e),void 0,null),hr===null)throw Error(Ee(349));Eu&30||wk(n,e,i)}return i}function wk(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Tn.updateQueue,e===null?(e={lastEffect:null,stores:null},Tn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Mk(t,e,n,r){e.value=n,e.getSnapshot=r,Ek(e)&&Ck(t)}function Ak(t,e,n){return n(function(){Ek(e)&&Ck(t)})}function Ek(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!zs(t,n)}catch{return!0}}function Ck(t){var e=ra(t,1);e!==null&&ks(e,t,1,-1)}function jP(t){var e=so();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Np,lastRenderedState:t},e.queue=t,t=t.dispatch=J9.bind(null,Tn,t),[e.memoizedState,t]}function Up(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Tn.updateQueue,e===null?(e={lastEffect:null,stores:null},Tn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Tk(){return ds().memoizedState}function Rv(t,e,n,r){var i=so();Tn.flags|=t,i.memoizedState=Up(1|e,n,void 0,r===void 0?null:r)}function ix(t,e,n,r){var i=ds();r=r===void 0?null:r;var s=void 0;if(Yn!==null){var o=Yn.memoizedState;if(s=o.destroy,r!==null&&TA(r,o.deps)){i.memoizedState=Up(e,n,s,r);return}}Tn.flags|=t,i.memoizedState=Up(1|e,n,s,r)}function JP(t,e){return Rv(8390656,8,t,e)}function BA(t,e){return ix(2048,8,t,e)}function Pk(t,e){return ix(4,2,t,e)}function Rk(t,e){return ix(4,4,t,e)}function Bk(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Ik(t,e,n){return n=n!=null?n.concat([t]):null,ix(4,4,Bk.bind(null,e,t),n)}function IA(){}function Dk(t,e){var n=ds();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&TA(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Lk(t,e){var n=ds();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&TA(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Ok(t,e,n){return Eu&21?(zs(n,e)||(n=NF(),Tn.lanes|=n,Cu|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ui=!0),t.memoizedState=n)}function W9(t,e){var n=Yt;Yt=n!==0&&4>n?n:4,t(!0);var r=R_.transition;R_.transition={};try{t(!1),e()}finally{Yt=n,R_.transition=r}}function Fk(){return ds().memoizedState}function j9(t,e,n){var r=qa(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},kk(t))Nk(e,n);else if(n=pk(t,e,n,r),n!==null){var i=Yr();ks(n,t,r,i),Uk(n,e,r)}}function J9(t,e,n){var r=qa(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(kk(t))Nk(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,zs(a,o)){var l=e.interleaved;l===null?(i.next=i,wA(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=pk(t,e,i,r),n!==null&&(i=Yr(),ks(n,t,r,i),Uk(n,e,r))}}function kk(t){var e=t.alternate;return t===Tn||e!==null&&e===Tn}function Nk(t,e){rp=fy=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Uk(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,uA(t,n)}}var dy={readContext:fs,useCallback:Tr,useContext:Tr,useEffect:Tr,useImperativeHandle:Tr,useInsertionEffect:Tr,useLayoutEffect:Tr,useMemo:Tr,useReducer:Tr,useRef:Tr,useState:Tr,useDebugValue:Tr,useDeferredValue:Tr,useTransition:Tr,useMutableSource:Tr,useSyncExternalStore:Tr,useId:Tr,unstable_isNewReconciler:!1},K9={readContext:fs,useCallback:function(t,e){return so().memoizedState=[t,e===void 0?null:e],t},useContext:fs,useEffect:JP,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Rv(4194308,4,Bk.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Rv(4194308,4,t,e)},useInsertionEffect:function(t,e){return Rv(4,2,t,e)},useMemo:function(t,e){var n=so();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=so();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=j9.bind(null,Tn,t),[r.memoizedState,t]},useRef:function(t){var e=so();return t={current:t},e.memoizedState=t},useState:jP,useDebugValue:IA,useDeferredValue:function(t){return so().memoizedState=t},useTransition:function(){var t=jP(!1),e=t[0];return t=W9.bind(null,t[1]),so().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Tn,i=so();if(xn){if(n===void 0)throw Error(Ee(407));n=n()}else{if(n=e(),hr===null)throw Error(Ee(349));Eu&30||wk(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,JP(Ak.bind(null,r,s,t),[t]),r.flags|=2048,Up(9,Mk.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=so(),e=hr.identifierPrefix;if(xn){var n=Jo,r=jo;n=(r&~(1<<32-Fs(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=kp++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=V9++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},X9={readContext:fs,useCallback:Dk,useContext:fs,useEffect:BA,useImperativeHandle:Ik,useInsertionEffect:Pk,useLayoutEffect:Rk,useMemo:Lk,useReducer:B_,useRef:Tk,useState:function(){return B_(Np)},useDebugValue:IA,useDeferredValue:function(t){var e=ds();return Ok(e,Yn.memoizedState,t)},useTransition:function(){var t=B_(Np)[0],e=ds().memoizedState;return[t,e]},useMutableSource:Sk,useSyncExternalStore:bk,useId:Fk,unstable_isNewReconciler:!1},Y9={readContext:fs,useCallback:Dk,useContext:fs,useEffect:BA,useImperativeHandle:Ik,useInsertionEffect:Pk,useLayoutEffect:Rk,useMemo:Lk,useReducer:I_,useRef:Tk,useState:function(){return I_(Np)},useDebugValue:IA,useDeferredValue:function(t){var e=ds();return Yn===null?e.memoizedState=t:Ok(e,Yn.memoizedState,t)},useTransition:function(){var t=I_(Np)[0],e=ds().memoizedState;return[t,e]},useMutableSource:Sk,useSyncExternalStore:bk,useId:Fk,unstable_isNewReconciler:!1};function $f(t,e){try{var n="",r=e;do n+=M6(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function D_(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Wb(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Q9=typeof WeakMap=="function"?WeakMap:Map;function zk(t,e,n){n=Qo(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){py||(py=!0,tw=r),Wb(t,e)},n}function Hk(t,e,n){n=Qo(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Wb(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Wb(t,e),typeof r!="function"&&(Za===null?Za=new Set([this]):Za.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function KP(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Q9;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=f$.bind(null,t,e,n),e.then(t,t))}function XP(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function YP(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Qo(-1,1),e.tag=2,Qa(n,e,1))),n.lanes|=1),t)}var Z9=la.ReactCurrentOwner,ui=!1;function Jr(t,e,n,r){e.child=t===null?xk(e,null,n,r):Hf(e,t.child,n,r)}function QP(t,e,n,r,i){n=n.render;var s=e.ref;return If(e,i),r=PA(t,e,n,r,s,i),n=RA(),t!==null&&!ui?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ia(t,e,i)):(xn&&n&&vA(e),e.flags|=1,Jr(t,e,r,i),e.child)}function ZP(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!zA(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Gk(t,e,s,r,i)):(t=Lv(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Bp,n(o,r)&&t.ref===e.ref)return ia(t,e,i)}return e.flags|=1,t=el(s,r),t.ref=e.ref,t.return=e,e.child=t}function Gk(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Bp(s,r)&&t.ref===e.ref)if(ui=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(ui=!0);else return e.lanes=t.lanes,ia(t,e,i)}return jb(t,e,n,r,i)}function $k(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},an(_f,Ei),Ei|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,an(_f,Ei),Ei|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,an(_f,Ei),Ei|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,an(_f,Ei),Ei|=r;return Jr(t,e,i,n),e.child}function Vk(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function jb(t,e,n,r,i){var s=di(n)?Mu:kr.current;return s=Uf(e,s),If(e,i),n=PA(t,e,n,r,s,i),r=RA(),t!==null&&!ui?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ia(t,e,i)):(xn&&r&&vA(e),e.flags|=1,Jr(t,e,n,i),e.child)}function qP(t,e,n,r,i){if(di(n)){var s=!0;iy(e)}else s=!1;if(If(e,i),e.stateNode===null)Bv(t,e),vk(e,n,r),Vb(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=fs(u):(u=di(n)?Mu:kr.current,u=Uf(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&VP(e,o,r,u),Na=!1;var p=e.memoizedState;o.state=p,uy(e,r,o,i),l=e.memoizedState,a!==r||p!==l||fi.current||Na?(typeof c=="function"&&($b(e,n,c,r),l=e.memoizedState),(a=Na||$P(e,n,a,r,p,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,mk(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Rs(e.type,a),o.props=u,d=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=fs(l):(l=di(n)?Mu:kr.current,l=Uf(e,l));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||p!==l)&&VP(e,o,r,l),Na=!1,p=e.memoizedState,o.state=p,uy(e,r,o,i);var v=e.memoizedState;a!==d||p!==v||fi.current||Na?(typeof m=="function"&&($b(e,n,m,r),v=e.memoizedState),(u=Na||$P(e,n,u,r,p,v,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Jb(t,e,n,r,s,i)}function Jb(t,e,n,r,i,s){Vk(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&NP(e,n,!1),ia(t,e,s);r=e.stateNode,Z9.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Hf(e,t.child,null,s),e.child=Hf(e,null,a,s)):Jr(t,e,a,s),e.memoizedState=r.state,i&&NP(e,n,!0),e.child}function Wk(t){var e=t.stateNode;e.pendingContext?kP(t,e.pendingContext,e.pendingContext!==e.context):e.context&&kP(t,e.context,!1),AA(t,e.containerInfo)}function eR(t,e,n,r,i){return zf(),xA(i),e.flags|=256,Jr(t,e,n,r),e.child}var Kb={dehydrated:null,treeContext:null,retryLane:0};function Xb(t){return{baseLanes:t,cachePool:null,transitions:null}}function jk(t,e,n){var r=e.pendingProps,i=Mn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),an(Mn,i&1),t===null)return Hb(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=ax(o,r,0,null),t=gu(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Xb(n),e.memoizedState=Kb,t):DA(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return q9(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=el(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=el(a,s):(s=gu(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Xb(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Kb,r}return s=t.child,t=s.sibling,r=el(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function DA(t,e){return e=ax({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function f0(t,e,n,r){return r!==null&&xA(r),Hf(e,t.child,null,n),t=DA(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function q9(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=D_(Error(Ee(422))),f0(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=ax({mode:"visible",children:r.children},i,0,null),s=gu(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Hf(e,t.child,null,o),e.child.memoizedState=Xb(o),e.memoizedState=Kb,s);if(!(e.mode&1))return f0(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Ee(419)),r=D_(s,r,void 0),f0(t,e,o,r)}if(a=(o&t.childLanes)!==0,ui||a){if(r=hr,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ra(t,i),ks(r,t,i,-1))}return UA(),r=D_(Error(Ee(421))),f0(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=d$.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Ti=Ya(i.nextSibling),Li=e,xn=!0,Ds=null,t!==null&&(rs[is++]=jo,rs[is++]=Jo,rs[is++]=Au,jo=t.id,Jo=t.overflow,Au=e),e=DA(e,r.children),e.flags|=4096,e)}function tR(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Gb(t.return,e,n)}function L_(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Jk(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Jr(t,e,r.children,n),r=Mn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&tR(t,n,e);else if(t.tag===19)tR(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(an(Mn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&cy(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),L_(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&cy(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}L_(e,!0,n,null,s);break;case"together":L_(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Bv(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ia(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Cu|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Ee(153));if(e.child!==null){for(t=e.child,n=el(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=el(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function e$(t,e,n){switch(e.tag){case 3:Wk(e),zf();break;case 5:_k(e);break;case 1:di(e.type)&&iy(e);break;case 4:AA(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;an(ay,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(an(Mn,Mn.current&1),e.flags|=128,null):n&e.child.childLanes?jk(t,e,n):(an(Mn,Mn.current&1),t=ia(t,e,n),t!==null?t.sibling:null);an(Mn,Mn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Jk(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),an(Mn,Mn.current),r)break;return null;case 22:case 23:return e.lanes=0,$k(t,e,n)}return ia(t,e,n)}var Kk,Yb,Xk,Yk;Kk=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Yb=function(){};Xk=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ou(co.current);var s=null;switch(n){case"input":i=yb(t,i),r=yb(t,r),s=[];break;case"select":i=Pn({},i,{value:void 0}),r=Pn({},r,{value:void 0}),s=[];break;case"textarea":i=Sb(t,i),r=Sb(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ny)}wb(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Mp.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Mp.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&fn("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};Yk=function(t,e,n,r){n!==r&&(e.flags|=4)};function uh(t,e){if(!xn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Pr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function t$(t,e,n){var r=e.pendingProps;switch(yA(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pr(e),null;case 1:return di(e.type)&&ry(),Pr(e),null;case 3:return r=e.stateNode,Gf(),mn(fi),mn(kr),CA(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(u0(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ds!==null&&(iw(Ds),Ds=null))),Yb(t,e),Pr(e),null;case 5:EA(e);var i=ou(Fp.current);if(n=e.type,t!==null&&e.stateNode!=null)Xk(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Ee(166));return Pr(e),null}if(t=ou(co.current),u0(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[ao]=e,r[Lp]=s,t=(e.mode&1)!==0,n){case"dialog":fn("cancel",r),fn("close",r);break;case"iframe":case"object":case"embed":fn("load",r);break;case"video":case"audio":for(i=0;i<$h.length;i++)fn($h[i],r);break;case"source":fn("error",r);break;case"img":case"image":case"link":fn("error",r),fn("load",r);break;case"details":fn("toggle",r);break;case"input":cP(r,s),fn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},fn("invalid",r);break;case"textarea":dP(r,s),fn("invalid",r)}wb(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&l0(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&l0(r.textContent,a,t),i=["children",""+a]):Mp.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&fn("scroll",r)}switch(n){case"input":e0(r),fP(r,s,!0);break;case"textarea":e0(r),hP(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ny)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=wF(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ao]=e,t[Lp]=r,Kk(t,e,!1,!1),e.stateNode=t;e:{switch(o=Mb(n,r),n){case"dialog":fn("cancel",t),fn("close",t),i=r;break;case"iframe":case"object":case"embed":fn("load",t),i=r;break;case"video":case"audio":for(i=0;i<$h.length;i++)fn($h[i],t);i=r;break;case"source":fn("error",t),i=r;break;case"img":case"image":case"link":fn("error",t),fn("load",t),i=r;break;case"details":fn("toggle",t),i=r;break;case"input":cP(t,r),i=yb(t,r),fn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Pn({},r,{value:void 0}),fn("invalid",t);break;case"textarea":dP(t,r),i=Sb(t,r),fn("invalid",t);break;default:i=r}wb(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?EF(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&MF(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ap(t,l):typeof l=="number"&&Ap(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Mp.hasOwnProperty(s)?l!=null&&s==="onScroll"&&fn("scroll",t):l!=null&&rA(t,s,l,o))}switch(n){case"input":e0(t),fP(t,r,!1);break;case"textarea":e0(t),hP(t);break;case"option":r.value!=null&&t.setAttribute("value",""+al(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Tf(t,!!r.multiple,s,!1):r.defaultValue!=null&&Tf(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ny)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Pr(e),null;case 6:if(t&&e.stateNode!=null)Yk(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Ee(166));if(n=ou(Fp.current),ou(co.current),u0(e)){if(r=e.stateNode,n=e.memoizedProps,r[ao]=e,(s=r.nodeValue!==n)&&(t=Li,t!==null))switch(t.tag){case 3:l0(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&l0(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ao]=e,e.stateNode=r}return Pr(e),null;case 13:if(mn(Mn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(xn&&Ti!==null&&e.mode&1&&!(e.flags&128))hk(),zf(),e.flags|=98560,s=!1;else if(s=u0(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Ee(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ee(317));s[ao]=e}else zf(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Pr(e),s=!1}else Ds!==null&&(iw(Ds),Ds=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Mn.current&1?Qn===0&&(Qn=3):UA())),e.updateQueue!==null&&(e.flags|=4),Pr(e),null);case 4:return Gf(),Yb(t,e),t===null&&Ip(e.stateNode.containerInfo),Pr(e),null;case 10:return bA(e.type._context),Pr(e),null;case 17:return di(e.type)&&ry(),Pr(e),null;case 19:if(mn(Mn),s=e.memoizedState,s===null)return Pr(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)uh(s,!1);else{if(Qn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=cy(t),o!==null){for(e.flags|=128,uh(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return an(Mn,Mn.current&1|2),e.child}t=t.sibling}s.tail!==null&&zn()>Vf&&(e.flags|=128,r=!0,uh(s,!1),e.lanes=4194304)}else{if(!r)if(t=cy(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),uh(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!xn)return Pr(e),null}else 2*zn()-s.renderingStartTime>Vf&&n!==1073741824&&(e.flags|=128,r=!0,uh(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=zn(),e.sibling=null,n=Mn.current,an(Mn,r?n&1|2:n&1),e):(Pr(e),null);case 22:case 23:return NA(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ei&1073741824&&(Pr(e),e.subtreeFlags&6&&(e.flags|=8192)):Pr(e),null;case 24:return null;case 25:return null}throw Error(Ee(156,e.tag))}function n$(t,e){switch(yA(e),e.tag){case 1:return di(e.type)&&ry(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Gf(),mn(fi),mn(kr),CA(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return EA(e),null;case 13:if(mn(Mn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Ee(340));zf()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return mn(Mn),null;case 4:return Gf(),null;case 10:return bA(e.type._context),null;case 22:case 23:return NA(),null;case 24:return null;default:return null}}var d0=!1,Ir=!1,r$=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function xf(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){In(t,e,r)}else n.current=null}function Qb(t,e,n){try{n()}catch(r){In(t,e,r)}}var nR=!1;function i$(t,e){if(Lb=qv,t=ek(),gA(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,p=null;t:for(;;){for(var m;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)p=d,d=m;for(;;){if(d===t)break t;if(p===n&&++u===i&&(a=o),p===s&&++c===r&&(l=o),(m=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ob={focusedElem:t,selectionRange:n},qv=!1,Ue=e;Ue!==null;)if(e=Ue,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ue=t;else for(;Ue!==null;){e=Ue;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,x=v.memoizedState,g=e.stateNode,b=g.getSnapshotBeforeUpdate(e.elementType===e.type?y:Rs(e.type,y),x);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ee(163))}}catch(M){In(e,e.return,M)}if(t=e.sibling,t!==null){t.return=e.return,Ue=t;break}Ue=e.return}return v=nR,nR=!1,v}function ip(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Qb(e,n,s)}i=i.next}while(i!==r)}}function sx(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Zb(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Qk(t){var e=t.alternate;e!==null&&(t.alternate=null,Qk(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ao],delete e[Lp],delete e[Nb],delete e[z9],delete e[H9])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Zk(t){return t.tag===5||t.tag===3||t.tag===4}function rR(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Zk(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function qb(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ny));else if(r!==4&&(t=t.child,t!==null))for(qb(t,e,n),t=t.sibling;t!==null;)qb(t,e,n),t=t.sibling}function ew(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ew(t,e,n),t=t.sibling;t!==null;)ew(t,e,n),t=t.sibling}var yr=null,Bs=!1;function Ea(t,e,n){for(n=n.child;n!==null;)qk(t,e,n),n=n.sibling}function qk(t,e,n){if(uo&&typeof uo.onCommitFiberUnmount=="function")try{uo.onCommitFiberUnmount(Qy,n)}catch{}switch(n.tag){case 5:Ir||xf(n,e);case 6:var r=yr,i=Bs;yr=null,Ea(t,e,n),yr=r,Bs=i,yr!==null&&(Bs?(t=yr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):yr.removeChild(n.stateNode));break;case 18:yr!==null&&(Bs?(t=yr,n=n.stateNode,t.nodeType===8?C_(t.parentNode,n):t.nodeType===1&&C_(t,n),Pp(t)):C_(yr,n.stateNode));break;case 4:r=yr,i=Bs,yr=n.stateNode.containerInfo,Bs=!0,Ea(t,e,n),yr=r,Bs=i;break;case 0:case 11:case 14:case 15:if(!Ir&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Qb(n,e,o),i=i.next}while(i!==r)}Ea(t,e,n);break;case 1:if(!Ir&&(xf(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){In(n,e,a)}Ea(t,e,n);break;case 21:Ea(t,e,n);break;case 22:n.mode&1?(Ir=(r=Ir)||n.memoizedState!==null,Ea(t,e,n),Ir=r):Ea(t,e,n);break;default:Ea(t,e,n)}}function iR(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new r$),e.forEach(function(r){var i=h$.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ms(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:yr=a.stateNode,Bs=!1;break e;case 3:yr=a.stateNode.containerInfo,Bs=!0;break e;case 4:yr=a.stateNode.containerInfo,Bs=!0;break e}a=a.return}if(yr===null)throw Error(Ee(160));qk(s,o,i),yr=null,Bs=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){In(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)eN(e,t),e=e.sibling}function eN(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ms(e,t),no(t),r&4){try{ip(3,t,t.return),sx(3,t)}catch(y){In(t,t.return,y)}try{ip(5,t,t.return)}catch(y){In(t,t.return,y)}}break;case 1:Ms(e,t),no(t),r&512&&n!==null&&xf(n,n.return);break;case 5:if(Ms(e,t),no(t),r&512&&n!==null&&xf(n,n.return),t.flags&32){var i=t.stateNode;try{Ap(i,"")}catch(y){In(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&SF(i,s),Mb(a,o);var u=Mb(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?EF(i,d):c==="dangerouslySetInnerHTML"?MF(i,d):c==="children"?Ap(i,d):rA(i,c,d,u)}switch(a){case"input":xb(i,s);break;case"textarea":bF(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Tf(i,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?Tf(i,!!s.multiple,s.defaultValue,!0):Tf(i,!!s.multiple,s.multiple?[]:"",!1))}i[Lp]=s}catch(y){In(t,t.return,y)}}break;case 6:if(Ms(e,t),no(t),r&4){if(t.stateNode===null)throw Error(Ee(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){In(t,t.return,y)}}break;case 3:if(Ms(e,t),no(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Pp(e.containerInfo)}catch(y){In(t,t.return,y)}break;case 4:Ms(e,t),no(t);break;case 13:Ms(e,t),no(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(FA=zn())),r&4&&iR(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Ir=(u=Ir)||c,Ms(e,t),Ir=u):Ms(e,t),no(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(Ue=t,c=t.child;c!==null;){for(d=Ue=c;Ue!==null;){switch(p=Ue,m=p.child,p.tag){case 0:case 11:case 14:case 15:ip(4,p,p.return);break;case 1:xf(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){In(r,n,y)}}break;case 5:xf(p,p.return);break;case 22:if(p.memoizedState!==null){oR(d);continue}}m!==null?(m.return=p,Ue=m):oR(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=AF("display",o))}catch(y){In(t,t.return,y)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(y){In(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Ms(e,t),no(t),r&4&&iR(t);break;case 21:break;default:Ms(e,t),no(t)}}function no(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Zk(n)){var r=n;break e}n=n.return}throw Error(Ee(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ap(i,""),r.flags&=-33);var s=rR(t);ew(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=rR(t);qb(t,a,o);break;default:throw Error(Ee(161))}}catch(l){In(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function s$(t,e,n){Ue=t,tN(t)}function tN(t,e,n){for(var r=(t.mode&1)!==0;Ue!==null;){var i=Ue,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||d0;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ir;a=d0;var u=Ir;if(d0=o,(Ir=l)&&!u)for(Ue=i;Ue!==null;)o=Ue,l=o.child,o.tag===22&&o.memoizedState!==null?aR(i):l!==null?(l.return=o,Ue=l):aR(i);for(;s!==null;)Ue=s,tN(s),s=s.sibling;Ue=i,d0=a,Ir=u}sR(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Ue=s):sR(t)}}function sR(t){for(;Ue!==null;){var e=Ue;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ir||sx(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ir)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Rs(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&GP(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}GP(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Pp(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ee(163))}Ir||e.flags&512&&Zb(e)}catch(p){In(e,e.return,p)}}if(e===t){Ue=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ue=n;break}Ue=e.return}}function oR(t){for(;Ue!==null;){var e=Ue;if(e===t){Ue=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ue=n;break}Ue=e.return}}function aR(t){for(;Ue!==null;){var e=Ue;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{sx(4,e)}catch(l){In(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){In(e,i,l)}}var s=e.return;try{Zb(e)}catch(l){In(e,s,l)}break;case 5:var o=e.return;try{Zb(e)}catch(l){In(e,o,l)}}}catch(l){In(e,e.return,l)}if(e===t){Ue=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Ue=a;break}Ue=e.return}}var o$=Math.ceil,hy=la.ReactCurrentDispatcher,LA=la.ReactCurrentOwner,cs=la.ReactCurrentBatchConfig,Gt=0,hr=null,Kn=null,Sr=0,Ei=0,_f=xl(0),Qn=0,zp=null,Cu=0,ox=0,OA=0,sp=null,ai=null,FA=0,Vf=1/0,zo=null,py=!1,tw=null,Za=null,h0=!1,Wa=null,my=0,op=0,nw=null,Iv=-1,Dv=0;function Yr(){return Gt&6?zn():Iv!==-1?Iv:Iv=zn()}function qa(t){return t.mode&1?Gt&2&&Sr!==0?Sr&-Sr:$9.transition!==null?(Dv===0&&(Dv=NF()),Dv):(t=Yt,t!==0||(t=window.event,t=t===void 0?16:WF(t.type)),t):1}function ks(t,e,n,r){if(50<op)throw op=0,nw=null,Error(Ee(185));fm(t,n,r),(!(Gt&2)||t!==hr)&&(t===hr&&(!(Gt&2)&&(ox|=n),Qn===4&&$a(t,Sr)),hi(t,r),n===1&&Gt===0&&!(e.mode&1)&&(Vf=zn()+500,nx&&_l()))}function hi(t,e){var n=t.callbackNode;$6(t,e);var r=Zv(t,t===hr?Sr:0);if(r===0)n!==null&&gP(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&gP(n),e===1)t.tag===0?G9(lR.bind(null,t)):ck(lR.bind(null,t)),N9(function(){!(Gt&6)&&_l()}),n=null;else{switch(UF(r)){case 1:n=lA;break;case 4:n=FF;break;case 16:n=Qv;break;case 536870912:n=kF;break;default:n=Qv}n=uN(n,nN.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function nN(t,e){if(Iv=-1,Dv=0,Gt&6)throw Error(Ee(327));var n=t.callbackNode;if(Df()&&t.callbackNode!==n)return null;var r=Zv(t,t===hr?Sr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=gy(t,r);else{e=r;var i=Gt;Gt|=2;var s=iN();(hr!==t||Sr!==e)&&(zo=null,Vf=zn()+500,mu(t,e));do try{u$();break}catch(a){rN(t,a)}while(1);SA(),hy.current=s,Gt=i,Kn!==null?e=0:(hr=null,Sr=0,e=Qn)}if(e!==0){if(e===2&&(i=Pb(t),i!==0&&(r=i,e=rw(t,i))),e===1)throw n=zp,mu(t,0),$a(t,r),hi(t,zn()),n;if(e===6)$a(t,r);else{if(i=t.current.alternate,!(r&30)&&!a$(i)&&(e=gy(t,r),e===2&&(s=Pb(t),s!==0&&(r=s,e=rw(t,s))),e===1))throw n=zp,mu(t,0),$a(t,r),hi(t,zn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Ee(345));case 2:Kl(t,ai,zo);break;case 3:if($a(t,r),(r&130023424)===r&&(e=FA+500-zn(),10<e)){if(Zv(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Yr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=kb(Kl.bind(null,t,ai,zo),e);break}Kl(t,ai,zo);break;case 4:if($a(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Fs(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=zn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*o$(r/1960))-r,10<r){t.timeoutHandle=kb(Kl.bind(null,t,ai,zo),r);break}Kl(t,ai,zo);break;case 5:Kl(t,ai,zo);break;default:throw Error(Ee(329))}}}return hi(t,zn()),t.callbackNode===n?nN.bind(null,t):null}function rw(t,e){var n=sp;return t.current.memoizedState.isDehydrated&&(mu(t,e).flags|=256),t=gy(t,e),t!==2&&(e=ai,ai=n,e!==null&&iw(e)),t}function iw(t){ai===null?ai=t:ai.push.apply(ai,t)}function a$(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!zs(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function $a(t,e){for(e&=~OA,e&=~ox,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Fs(e),r=1<<n;t[n]=-1,e&=~r}}function lR(t){if(Gt&6)throw Error(Ee(327));Df();var e=Zv(t,0);if(!(e&1))return hi(t,zn()),null;var n=gy(t,e);if(t.tag!==0&&n===2){var r=Pb(t);r!==0&&(e=r,n=rw(t,r))}if(n===1)throw n=zp,mu(t,0),$a(t,e),hi(t,zn()),n;if(n===6)throw Error(Ee(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Kl(t,ai,zo),hi(t,zn()),null}function kA(t,e){var n=Gt;Gt|=1;try{return t(e)}finally{Gt=n,Gt===0&&(Vf=zn()+500,nx&&_l())}}function Tu(t){Wa!==null&&Wa.tag===0&&!(Gt&6)&&Df();var e=Gt;Gt|=1;var n=cs.transition,r=Yt;try{if(cs.transition=null,Yt=1,t)return t()}finally{Yt=r,cs.transition=n,Gt=e,!(Gt&6)&&_l()}}function NA(){Ei=_f.current,mn(_f)}function mu(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,k9(n)),Kn!==null)for(n=Kn.return;n!==null;){var r=n;switch(yA(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ry();break;case 3:Gf(),mn(fi),mn(kr),CA();break;case 5:EA(r);break;case 4:Gf();break;case 13:mn(Mn);break;case 19:mn(Mn);break;case 10:bA(r.type._context);break;case 22:case 23:NA()}n=n.return}if(hr=t,Kn=t=el(t.current,null),Sr=Ei=e,Qn=0,zp=null,OA=ox=Cu=0,ai=sp=null,su!==null){for(e=0;e<su.length;e++)if(n=su[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}su=null}return t}function rN(t,e){do{var n=Kn;try{if(SA(),Pv.current=dy,fy){for(var r=Tn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}fy=!1}if(Eu=0,ur=Yn=Tn=null,rp=!1,kp=0,LA.current=null,n===null||n.return===null){Qn=1,zp=e,Kn=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Sr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=XP(o);if(m!==null){m.flags&=-257,YP(m,o,a,s,e),m.mode&1&&KP(s,u,e),e=m,l=u;var v=e.updateQueue;if(v===null){var y=new Set;y.add(l),e.updateQueue=y}else v.add(l);break e}else{if(!(e&1)){KP(s,u,e),UA();break e}l=Error(Ee(426))}}else if(xn&&a.mode&1){var x=XP(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),YP(x,o,a,s,e),xA($f(l,a));break e}}s=l=$f(l,a),Qn!==4&&(Qn=2),sp===null?sp=[s]:sp.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=zk(s,l,e);HP(s,g);break e;case 1:a=l;var b=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Za===null||!Za.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var M=Hk(s,a,e);HP(s,M);break e}}s=s.return}while(s!==null)}oN(n)}catch(C){e=C,Kn===n&&n!==null&&(Kn=n=n.return);continue}break}while(1)}function iN(){var t=hy.current;return hy.current=dy,t===null?dy:t}function UA(){(Qn===0||Qn===3||Qn===2)&&(Qn=4),hr===null||!(Cu&268435455)&&!(ox&268435455)||$a(hr,Sr)}function gy(t,e){var n=Gt;Gt|=2;var r=iN();(hr!==t||Sr!==e)&&(zo=null,mu(t,e));do try{l$();break}catch(i){rN(t,i)}while(1);if(SA(),Gt=n,hy.current=r,Kn!==null)throw Error(Ee(261));return hr=null,Sr=0,Qn}function l$(){for(;Kn!==null;)sN(Kn)}function u$(){for(;Kn!==null&&!L6();)sN(Kn)}function sN(t){var e=lN(t.alternate,t,Ei);t.memoizedProps=t.pendingProps,e===null?oN(t):Kn=e,LA.current=null}function oN(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=n$(n,e),n!==null){n.flags&=32767,Kn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Qn=6,Kn=null;return}}else if(n=t$(n,e,Ei),n!==null){Kn=n;return}if(e=e.sibling,e!==null){Kn=e;return}Kn=e=t}while(e!==null);Qn===0&&(Qn=5)}function Kl(t,e,n){var r=Yt,i=cs.transition;try{cs.transition=null,Yt=1,c$(t,e,n,r)}finally{cs.transition=i,Yt=r}return null}function c$(t,e,n,r){do Df();while(Wa!==null);if(Gt&6)throw Error(Ee(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Ee(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(V6(t,s),t===hr&&(Kn=hr=null,Sr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||h0||(h0=!0,uN(Qv,function(){return Df(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=cs.transition,cs.transition=null;var o=Yt;Yt=1;var a=Gt;Gt|=4,LA.current=null,i$(t,n),eN(n,t),R9(Ob),qv=!!Lb,Ob=Lb=null,t.current=n,s$(n),O6(),Gt=a,Yt=o,cs.transition=s}else t.current=n;if(h0&&(h0=!1,Wa=t,my=i),s=t.pendingLanes,s===0&&(Za=null),N6(n.stateNode),hi(t,zn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(py)throw py=!1,t=tw,tw=null,t;return my&1&&t.tag!==0&&Df(),s=t.pendingLanes,s&1?t===nw?op++:(op=0,nw=t):op=0,_l(),null}function Df(){if(Wa!==null){var t=UF(my),e=cs.transition,n=Yt;try{if(cs.transition=null,Yt=16>t?16:t,Wa===null)var r=!1;else{if(t=Wa,Wa=null,my=0,Gt&6)throw Error(Ee(331));var i=Gt;for(Gt|=4,Ue=t.current;Ue!==null;){var s=Ue,o=s.child;if(Ue.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Ue=u;Ue!==null;){var c=Ue;switch(c.tag){case 0:case 11:case 15:ip(8,c,s)}var d=c.child;if(d!==null)d.return=c,Ue=d;else for(;Ue!==null;){c=Ue;var p=c.sibling,m=c.return;if(Qk(c),c===u){Ue=null;break}if(p!==null){p.return=m,Ue=p;break}Ue=m}}}var v=s.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}Ue=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Ue=o;else e:for(;Ue!==null;){if(s=Ue,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ip(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,Ue=g;break e}Ue=s.return}}var b=t.current;for(Ue=b;Ue!==null;){o=Ue;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,Ue=S;else e:for(o=b;Ue!==null;){if(a=Ue,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:sx(9,a)}}catch(C){In(a,a.return,C)}if(a===o){Ue=null;break e}var M=a.sibling;if(M!==null){M.return=a.return,Ue=M;break e}Ue=a.return}}if(Gt=i,_l(),uo&&typeof uo.onPostCommitFiberRoot=="function")try{uo.onPostCommitFiberRoot(Qy,t)}catch{}r=!0}return r}finally{Yt=n,cs.transition=e}}return!1}function uR(t,e,n){e=$f(n,e),e=zk(t,e,1),t=Qa(t,e,1),e=Yr(),t!==null&&(fm(t,1,e),hi(t,e))}function In(t,e,n){if(t.tag===3)uR(t,t,n);else for(;e!==null;){if(e.tag===3){uR(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Za===null||!Za.has(r))){t=$f(n,t),t=Hk(e,t,1),e=Qa(e,t,1),t=Yr(),e!==null&&(fm(e,1,t),hi(e,t));break}}e=e.return}}function f$(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Yr(),t.pingedLanes|=t.suspendedLanes&n,hr===t&&(Sr&n)===n&&(Qn===4||Qn===3&&(Sr&130023424)===Sr&&500>zn()-FA?mu(t,0):OA|=n),hi(t,e)}function aN(t,e){e===0&&(t.mode&1?(e=r0,r0<<=1,!(r0&130023424)&&(r0=4194304)):e=1);var n=Yr();t=ra(t,e),t!==null&&(fm(t,e,n),hi(t,n))}function d$(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),aN(t,n)}function h$(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Ee(314))}r!==null&&r.delete(e),aN(t,n)}var lN;lN=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||fi.current)ui=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ui=!1,e$(t,e,n);ui=!!(t.flags&131072)}else ui=!1,xn&&e.flags&1048576&&fk(e,oy,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Bv(t,e),t=e.pendingProps;var i=Uf(e,kr.current);If(e,n),i=PA(null,e,r,t,i,n);var s=RA();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,di(r)?(s=!0,iy(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,MA(e),i.updater=rx,e.stateNode=i,i._reactInternals=e,Vb(e,r,t,n),e=Jb(null,e,r,!0,s,n)):(e.tag=0,xn&&s&&vA(e),Jr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Bv(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=m$(r),t=Rs(r,t),i){case 0:e=jb(null,e,r,t,n);break e;case 1:e=qP(null,e,r,t,n);break e;case 11:e=QP(null,e,r,t,n);break e;case 14:e=ZP(null,e,r,Rs(r.type,t),n);break e}throw Error(Ee(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Rs(r,i),jb(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Rs(r,i),qP(t,e,r,i,n);case 3:e:{if(Wk(e),t===null)throw Error(Ee(387));r=e.pendingProps,s=e.memoizedState,i=s.element,mk(t,e),uy(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=$f(Error(Ee(423)),e),e=eR(t,e,r,n,i);break e}else if(r!==i){i=$f(Error(Ee(424)),e),e=eR(t,e,r,n,i);break e}else for(Ti=Ya(e.stateNode.containerInfo.firstChild),Li=e,xn=!0,Ds=null,n=xk(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(zf(),r===i){e=ia(t,e,n);break e}Jr(t,e,r,n)}e=e.child}return e;case 5:return _k(e),t===null&&Hb(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Fb(r,i)?o=null:s!==null&&Fb(r,s)&&(e.flags|=32),Vk(t,e),Jr(t,e,o,n),e.child;case 6:return t===null&&Hb(e),null;case 13:return jk(t,e,n);case 4:return AA(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Hf(e,null,r,n):Jr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Rs(r,i),QP(t,e,r,i,n);case 7:return Jr(t,e,e.pendingProps,n),e.child;case 8:return Jr(t,e,e.pendingProps.children,n),e.child;case 12:return Jr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,an(ay,r._currentValue),r._currentValue=o,s!==null)if(zs(s.value,o)){if(s.children===i.children&&!fi.current){e=ia(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Qo(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Gb(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Ee(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Gb(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Jr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,If(e,n),i=fs(i),r=r(i),e.flags|=1,Jr(t,e,r,n),e.child;case 14:return r=e.type,i=Rs(r,e.pendingProps),i=Rs(r.type,i),ZP(t,e,r,i,n);case 15:return Gk(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Rs(r,i),Bv(t,e),e.tag=1,di(r)?(t=!0,iy(e)):t=!1,If(e,n),vk(e,r,i),Vb(e,r,i,n),Jb(null,e,r,!0,t,n);case 19:return Jk(t,e,n);case 22:return $k(t,e,n)}throw Error(Ee(156,e.tag))};function uN(t,e){return OF(t,e)}function p$(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function as(t,e,n,r){return new p$(t,e,n,r)}function zA(t){return t=t.prototype,!(!t||!t.isReactComponent)}function m$(t){if(typeof t=="function")return zA(t)?1:0;if(t!=null){if(t=t.$$typeof,t===sA)return 11;if(t===oA)return 14}return 2}function el(t,e){var n=t.alternate;return n===null?(n=as(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Lv(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")zA(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case cf:return gu(n.children,i,s,e);case iA:o=8,i|=8;break;case pb:return t=as(12,n,e,i|2),t.elementType=pb,t.lanes=s,t;case mb:return t=as(13,n,e,i),t.elementType=mb,t.lanes=s,t;case gb:return t=as(19,n,e,i),t.elementType=gb,t.lanes=s,t;case yF:return ax(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case gF:o=10;break e;case vF:o=9;break e;case sA:o=11;break e;case oA:o=14;break e;case ka:o=16,r=null;break e}throw Error(Ee(130,t==null?t:typeof t,""))}return e=as(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function gu(t,e,n,r){return t=as(7,t,r,e),t.lanes=n,t}function ax(t,e,n,r){return t=as(22,t,r,e),t.elementType=yF,t.lanes=n,t.stateNode={isHidden:!1},t}function O_(t,e,n){return t=as(6,t,null,e),t.lanes=n,t}function F_(t,e,n){return e=as(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function g$(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=g_(0),this.expirationTimes=g_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=g_(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function HA(t,e,n,r,i,s,o,a,l){return t=new g$(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=as(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},MA(s),t}function v$(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:uf,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function cN(t){if(!t)return ll;t=t._reactInternals;e:{if(ku(t)!==t||t.tag!==1)throw Error(Ee(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(di(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ee(171))}if(t.tag===1){var n=t.type;if(di(n))return uk(t,n,e)}return e}function fN(t,e,n,r,i,s,o,a,l){return t=HA(n,r,!0,t,i,s,o,a,l),t.context=cN(null),n=t.current,r=Yr(),i=qa(n),s=Qo(r,i),s.callback=e??null,Qa(n,s,i),t.current.lanes=i,fm(t,i,r),hi(t,r),t}function lx(t,e,n,r){var i=e.current,s=Yr(),o=qa(i);return n=cN(n),e.context===null?e.context=n:e.pendingContext=n,e=Qo(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Qa(i,e,o),t!==null&&(ks(t,i,o,s),Tv(t,i,o)),o}function vy(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function cR(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function GA(t,e){cR(t,e),(t=t.alternate)&&cR(t,e)}function y$(){return null}var dN=typeof reportError=="function"?reportError:function(t){console.error(t)};function $A(t){this._internalRoot=t}ux.prototype.render=$A.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Ee(409));lx(t,e,null,null)};ux.prototype.unmount=$A.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Tu(function(){lx(null,t,null,null)}),e[na]=null}};function ux(t){this._internalRoot=t}ux.prototype.unstable_scheduleHydration=function(t){if(t){var e=GF();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ga.length&&e!==0&&e<Ga[n].priority;n++);Ga.splice(n,0,t),n===0&&VF(t)}};function VA(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function cx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function fR(){}function x$(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=vy(o);s.call(u)}}var o=fN(e,r,t,0,null,!1,!1,"",fR);return t._reactRootContainer=o,t[na]=o.current,Ip(t.nodeType===8?t.parentNode:t),Tu(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=vy(l);a.call(u)}}var l=HA(t,0,!1,null,null,!1,!1,"",fR);return t._reactRootContainer=l,t[na]=l.current,Ip(t.nodeType===8?t.parentNode:t),Tu(function(){lx(e,l,n,r)}),l}function fx(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=vy(o);a.call(l)}}lx(e,o,t,i)}else o=x$(n,e,t,i,r);return vy(o)}zF=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Gh(e.pendingLanes);n!==0&&(uA(e,n|1),hi(e,zn()),!(Gt&6)&&(Vf=zn()+500,_l()))}break;case 13:Tu(function(){var r=ra(t,1);if(r!==null){var i=Yr();ks(r,t,1,i)}}),GA(t,1)}};cA=function(t){if(t.tag===13){var e=ra(t,134217728);if(e!==null){var n=Yr();ks(e,t,134217728,n)}GA(t,134217728)}};HF=function(t){if(t.tag===13){var e=qa(t),n=ra(t,e);if(n!==null){var r=Yr();ks(n,t,e,r)}GA(t,e)}};GF=function(){return Yt};$F=function(t,e){var n=Yt;try{return Yt=t,e()}finally{Yt=n}};Eb=function(t,e,n){switch(e){case"input":if(xb(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=tx(r);if(!i)throw Error(Ee(90));_F(r),xb(r,i)}}}break;case"textarea":bF(t,n);break;case"select":e=n.value,e!=null&&Tf(t,!!n.multiple,e,!1)}};PF=kA;RF=Tu;var _$={usingClientEntryPoint:!1,Events:[hm,pf,tx,CF,TF,kA]},ch={findFiberByHostInstance:iu,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},S$={bundleType:ch.bundleType,version:ch.version,rendererPackageName:ch.rendererPackageName,rendererConfig:ch.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:la.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=DF(t),t===null?null:t.stateNode},findFiberByHostInstance:ch.findFiberByHostInstance||y$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var p0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!p0.isDisabled&&p0.supportsFiber)try{Qy=p0.inject(S$),uo=p0}catch{}}zi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_$;zi.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!VA(e))throw Error(Ee(200));return v$(t,e,null,n)};zi.createRoot=function(t,e){if(!VA(t))throw Error(Ee(299));var n=!1,r="",i=dN;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=HA(t,1,!1,null,null,n,!1,r,i),t[na]=e.current,Ip(t.nodeType===8?t.parentNode:t),new $A(e)};zi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Ee(188)):(t=Object.keys(t).join(","),Error(Ee(268,t)));return t=DF(e),t=t===null?null:t.stateNode,t};zi.flushSync=function(t){return Tu(t)};zi.hydrate=function(t,e,n){if(!cx(e))throw Error(Ee(200));return fx(null,t,e,!0,n)};zi.hydrateRoot=function(t,e,n){if(!VA(t))throw Error(Ee(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=dN;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=fN(e,null,t,1,n??null,i,!1,s,o),t[na]=e.current,Ip(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new ux(e)};zi.render=function(t,e,n){if(!cx(e))throw Error(Ee(200));return fx(null,t,e,!1,n)};zi.unmountComponentAtNode=function(t){if(!cx(t))throw Error(Ee(40));return t._reactRootContainer?(Tu(function(){fx(null,null,t,!1,function(){t._reactRootContainer=null,t[na]=null})}),!0):!1};zi.unstable_batchedUpdates=kA;zi.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!cx(n))throw Error(Ee(200));if(t==null||t._reactInternals===void 0)throw Error(Ee(38));return fx(t,e,n,!1,r)};zi.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=zi})(y6);const WA=Xy(Jv);var dR=Jv;fb.createRoot=dR.createRoot,fb.hydrateRoot=dR.hydrateRoot;/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const cd="151",b$={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},w$={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},hN=0,sw=1,pN=2,M$=3,mN=0,dx=1,ap=2,au=3,Hs=0,Zn=1,Dr=2,A$=2,Fr=0,vu=1,ow=2,aw=3,lw=4,gN=5,nu=100,vN=101,yN=102,uw=103,cw=104,xN=200,_N=201,SN=202,bN=203,jA=204,JA=205,wN=206,MN=207,AN=208,EN=209,CN=210,TN=0,PN=1,RN=2,yy=3,BN=4,IN=5,DN=6,LN=7,mm=0,ON=1,FN=2,Ns=0,kN=1,NN=2,UN=3,KA=4,zN=5,hx=300,sa=301,ul=302,Wf=303,Hp=304,fd=306,go=1e3,xr=1001,jf=1002,en=1003,Gp=1004,E$=1004,Lf=1005,C$=1005,Xt=1006,px=1007,T$=1007,vo=1008,P$=1008,er=1009,HN=1010,GN=1011,XA=1012,$N=1013,Ko=1014,Pi=1015,ls=1016,VN=1017,WN=1018,tl=1020,jN=1021,_r=1023,mx=1024,JN=1025,nl=1026,cl=1027,YA=1028,KN=1029,QA=1030,XN=1031,YN=1033,Ov=33776,Fv=33777,kv=33778,Nv=33779,fw=35840,dw=35841,hw=35842,pw=35843,QN=36196,mw=37492,gw=37496,vw=37808,yw=37809,xw=37810,_w=37811,Sw=37812,bw=37813,ww=37814,Mw=37815,Aw=37816,Ew=37817,Cw=37818,Tw=37819,Pw=37820,Rw=37821,Uv=36492,ZN=36283,Bw=36284,Iw=36285,Dw=36286,qN=2200,e4=2201,t4=2202,Jf=2300,Pu=2301,zv=2302,lu=2400,uu=2401,$p=2402,gx=2500,ZA=2501,R$=0,n4=1,qA=2,pi=3e3,lt=3001,_o=3200,Vp=3201,ua=0,r4=1,B$="",Is="srgb",Kf="srgb-linear",eE="display-p3",I$=0,Hv=7680,D$=7681,L$=7682,O$=7683,F$=34055,k$=34056,N$=5386,U$=512,z$=513,H$=514,G$=515,$$=516,V$=517,W$=518,i4=519,Wp=35044,j$=35048,J$=35040,K$=35045,X$=35049,Y$=35041,Q$=35046,Z$=35050,q$=35042,eV="100",Lw="300 es",xy=1035;class ps{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}const Rr=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let hR=1234567;const yu=Math.PI/180,Xf=180/Math.PI;function Oi(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Rr[t&255]+Rr[t>>8&255]+Rr[t>>16&255]+Rr[t>>24&255]+"-"+Rr[e&255]+Rr[e>>8&255]+"-"+Rr[e>>16&15|64]+Rr[e>>24&255]+"-"+Rr[n&63|128]+Rr[n>>8&255]+"-"+Rr[n>>16&255]+Rr[n>>24&255]+Rr[r&255]+Rr[r>>8&255]+Rr[r>>16&255]+Rr[r>>24&255]).toLowerCase()}function Dn(t,e,n){return Math.max(e,Math.min(n,t))}function tE(t,e){return(t%e+e)%e}function tV(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function nV(t,e,n){return t!==e?(n-t)/(e-t):0}function lp(t,e,n){return(1-n)*t+n*e}function rV(t,e,n,r){return lp(t,e,1-Math.exp(-n*r))}function iV(t,e=1){return e-Math.abs(tE(t,e*2)-e)}function sV(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function oV(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function aV(t,e){return t+Math.floor(Math.random()*(e-t+1))}function lV(t,e){return t+Math.random()*(e-t)}function uV(t){return t*(.5-Math.random())}function cV(t){t!==void 0&&(hR=t);let e=hR+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function fV(t){return t*yu}function dV(t){return t*Xf}function Ow(t){return(t&t-1)===0&&t!==0}function s4(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function o4(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function hV(t,e,n,r,i){const s=Math.cos,o=Math.sin,a=s(n/2),l=o(n/2),u=s((e+r)/2),c=o((e+r)/2),d=s((e-r)/2),p=o((e-r)/2),m=s((r-e)/2),v=o((r-e)/2);switch(i){case"XYX":t.set(a*c,l*d,l*p,a*u);break;case"YZY":t.set(l*p,a*c,l*d,a*u);break;case"ZXZ":t.set(l*d,l*p,a*c,a*u);break;case"XZX":t.set(a*c,l*v,l*m,a*u);break;case"YXY":t.set(l*m,a*c,l*v,a*u);break;case"ZYZ":t.set(l*v,l*m,a*c,a*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Ri(t,e){switch(e.constructor){case Float32Array:return t;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function At(t,e){switch(e.constructor){case Float32Array:return t;case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const lo={DEG2RAD:yu,RAD2DEG:Xf,generateUUID:Oi,clamp:Dn,euclideanModulo:tE,mapLinear:tV,inverseLerp:nV,lerp:lp,damp:rV,pingpong:iV,smoothstep:sV,smootherstep:oV,randInt:aV,randFloat:lV,randFloatSpread:uV,seededRandom:cV,degToRad:fV,radToDeg:dV,isPowerOfTwo:Ow,ceilPowerOfTwo:s4,floorPowerOfTwo:o4,setQuaternionFromProperEuler:hV,normalize:At,denormalize:Ri};class fe{constructor(e=0,n=0){fe.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Dn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Dt{constructor(){Dt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,n,r,i,s,o,a,l,u){const c=this.elements;return c[0]=e,c[1]=i,c[2]=a,c[3]=n,c[4]=s,c[5]=l,c[6]=r,c[7]=o,c[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[3],l=r[6],u=r[1],c=r[4],d=r[7],p=r[2],m=r[5],v=r[8],y=i[0],x=i[3],g=i[6],b=i[1],S=i[4],M=i[7],C=i[2],E=i[5],R=i[8];return s[0]=o*y+a*b+l*C,s[3]=o*x+a*S+l*E,s[6]=o*g+a*M+l*R,s[1]=u*y+c*b+d*C,s[4]=u*x+c*S+d*E,s[7]=u*g+c*M+d*R,s[2]=p*y+m*b+v*C,s[5]=p*x+m*S+v*E,s[8]=p*g+m*M+v*R,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],c=e[8];return n*o*c-n*a*u-r*s*c+r*a*l+i*s*u-i*o*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],c=e[8],d=c*o-a*u,p=a*l-c*s,m=u*s-o*l,v=n*d+r*p+i*m;if(v===0)return this.set(0,0,0,0,0,0,0,0,0);const y=1/v;return e[0]=d*y,e[1]=(i*u-c*r)*y,e[2]=(a*r-i*o)*y,e[3]=p*y,e[4]=(c*n-i*l)*y,e[5]=(i*s-a*n)*y,e[6]=m*y,e[7]=(r*l-u*n)*y,e[8]=(o*n-r*s)*y,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,s,o,a){const l=Math.cos(s),u=Math.sin(s);return this.set(r*l,r*u,-r*(l*o+u*a)+o+e,-i*u,i*l,-i*(-u*o+l*a)+a+n,0,0,1),this}scale(e,n){return this.premultiply(k_.makeScale(e,n)),this}rotate(e){return this.premultiply(k_.makeRotation(-e)),this}translate(e,n){return this.premultiply(k_.makeTranslation(e,n)),this}makeTranslation(e,n){return this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const k_=new Dt;function a4(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const pV={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Sf(t,e){return new pV[t](e)}function jp(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function Of(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function N_(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}const mV=new Dt().fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),gV=new Dt().fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]);function vV(t){return t.convertSRGBToLinear().applyMatrix3(gV)}function yV(t){return t.applyMatrix3(mV).convertLinearToSRGB()}const xV={[Kf]:t=>t,[Is]:t=>t.convertSRGBToLinear(),[eE]:vV},_V={[Kf]:t=>t,[Is]:t=>t.convertLinearToSRGB(),[eE]:yV},ii={enabled:!1,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(t){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!t},get workingColorSpace(){return Kf},set workingColorSpace(t){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(t,e,n){if(this.enabled===!1||e===n||!e||!n)return t;const r=xV[e],i=_V[n];if(r===void 0||i===void 0)throw new Error(`Unsupported color space conversion, "${e}" to "${n}".`);return i(r(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this.workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this.workingColorSpace)}};let dc;class nE{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{dc===void 0&&(dc=jp("canvas")),dc.width=e.width,dc.height=e.height;const r=dc.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=dc}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=jp("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=Of(s[o]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(Of(n[r]/255)*255):n[r]=Of(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class cu{constructor(e=null){this.isSource=!0,this.uuid=Oi(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(U_(i[o].image)):s.push(U_(i[o]))}else s=U_(i);r.url=s}return n||(e.images[this.uuid]=r),r}}function U_(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?nE.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let SV=0;class ln extends ps{constructor(e=ln.DEFAULT_IMAGE,n=ln.DEFAULT_MAPPING,r=xr,i=xr,s=Xt,o=vo,a=_r,l=er,u=ln.DEFAULT_ANISOTROPY,c=pi){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:SV++}),this.uuid=Oi(),this.name="",this.source=new cu(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=u,this.format=a,this.internalFormat=null,this.type=l,this.offset=new fe(0,0),this.repeat=new fe(1,1),this.center=new fe(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Dt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=c,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==hx)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case go:e.x=e.x-Math.floor(e.x);break;case xr:e.x=e.x<0?0:1;break;case jf:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case go:e.y=e.y-Math.floor(e.y);break;case xr:e.y=e.y<0?0:1;break;case jf:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}ln.DEFAULT_IMAGE=null;ln.DEFAULT_MAPPING=hx;ln.DEFAULT_ANISOTROPY=1;class Nt{constructor(e=0,n=0,r=0,i=1){Nt.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*n+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*n+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*n+o[7]*r+o[11]*i+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,s;const l=e.elements,u=l[0],c=l[4],d=l[8],p=l[1],m=l[5],v=l[9],y=l[2],x=l[6],g=l[10];if(Math.abs(c-p)<.01&&Math.abs(d-y)<.01&&Math.abs(v-x)<.01){if(Math.abs(c+p)<.1&&Math.abs(d+y)<.1&&Math.abs(v+x)<.1&&Math.abs(u+m+g-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const S=(u+1)/2,M=(m+1)/2,C=(g+1)/2,E=(c+p)/4,R=(d+y)/4,I=(v+x)/4;return S>M&&S>C?S<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(S),i=E/r,s=R/r):M>C?M<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(M),r=E/i,s=I/i):C<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(C),r=R/s,i=I/s),this.set(r,i,s,n),this}let b=Math.sqrt((x-v)*(x-v)+(d-y)*(d-y)+(p-c)*(p-c));return Math.abs(b)<.001&&(b=1),this.x=(x-v)/b,this.y=(d-y)/b,this.z=(p-c)/b,this.w=Math.acos((u+m+g-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Fn extends ps{constructor(e=1,n=1,r={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new Nt(0,0,e,n),this.scissorTest=!1,this.viewport=new Nt(0,0,e,n);const i={width:e,height:n,depth:1};this.texture=new ln(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:Xt,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null,this.samples=r.samples!==void 0?r.samples:0}setSize(e,n,r=1){(this.width!==e||this.height!==n||this.depth!==r)&&(this.width=e,this.height=n,this.depth=r,this.texture.image.width=e,this.texture.image.height=n,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new cu(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class vx extends ln{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=en,this.minFilter=en,this.wrapR=xr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class bV extends Fn{constructor(e=1,n=1,r=1){super(e,n),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new vx(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class rE extends ln{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=en,this.minFilter=en,this.wrapR=xr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class wV extends Fn{constructor(e=1,n=1,r=1){super(e,n),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new rE(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class MV extends Fn{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<r;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,s=this.texture.length;i<s;i++)this.texture[i].image.width=e,this.texture[i].image.height=n,this.texture[i].image.depth=r;this.dispose()}return this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let n=0,r=e.texture.length;n<r;n++)this.texture[n]=e.texture[n].clone(),this.texture[n].isRenderTargetTexture=!0;return this}}class pr{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,s,o,a){let l=r[i+0],u=r[i+1],c=r[i+2],d=r[i+3];const p=s[o+0],m=s[o+1],v=s[o+2],y=s[o+3];if(a===0){e[n+0]=l,e[n+1]=u,e[n+2]=c,e[n+3]=d;return}if(a===1){e[n+0]=p,e[n+1]=m,e[n+2]=v,e[n+3]=y;return}if(d!==y||l!==p||u!==m||c!==v){let x=1-a;const g=l*p+u*m+c*v+d*y,b=g>=0?1:-1,S=1-g*g;if(S>Number.EPSILON){const C=Math.sqrt(S),E=Math.atan2(C,g*b);x=Math.sin(x*E)/C,a=Math.sin(a*E)/C}const M=a*b;if(l=l*x+p*M,u=u*x+m*M,c=c*x+v*M,d=d*x+y*M,x===1-a){const C=1/Math.sqrt(l*l+u*u+c*c+d*d);l*=C,u*=C,c*=C,d*=C}}e[n]=l,e[n+1]=u,e[n+2]=c,e[n+3]=d}static multiplyQuaternionsFlat(e,n,r,i,s,o){const a=r[i],l=r[i+1],u=r[i+2],c=r[i+3],d=s[o],p=s[o+1],m=s[o+2],v=s[o+3];return e[n]=a*v+c*d+l*m-u*p,e[n+1]=l*v+c*p+u*d-a*m,e[n+2]=u*v+c*m+a*p-l*d,e[n+3]=c*v-a*d-l*p-u*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n){const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,u=a(r/2),c=a(i/2),d=a(s/2),p=l(r/2),m=l(i/2),v=l(s/2);switch(o){case"XYZ":this._x=p*c*d+u*m*v,this._y=u*m*d-p*c*v,this._z=u*c*v+p*m*d,this._w=u*c*d-p*m*v;break;case"YXZ":this._x=p*c*d+u*m*v,this._y=u*m*d-p*c*v,this._z=u*c*v-p*m*d,this._w=u*c*d+p*m*v;break;case"ZXY":this._x=p*c*d-u*m*v,this._y=u*m*d+p*c*v,this._z=u*c*v+p*m*d,this._w=u*c*d-p*m*v;break;case"ZYX":this._x=p*c*d-u*m*v,this._y=u*m*d+p*c*v,this._z=u*c*v-p*m*d,this._w=u*c*d+p*m*v;break;case"YZX":this._x=p*c*d+u*m*v,this._y=u*m*d+p*c*v,this._z=u*c*v-p*m*d,this._w=u*c*d-p*m*v;break;case"XZY":this._x=p*c*d-u*m*v,this._y=u*m*d-p*c*v,this._z=u*c*v+p*m*d,this._w=u*c*d+p*m*v;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return n!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],s=n[8],o=n[1],a=n[5],l=n[9],u=n[2],c=n[6],d=n[10],p=r+a+d;if(p>0){const m=.5/Math.sqrt(p+1);this._w=.25/m,this._x=(c-l)*m,this._y=(s-u)*m,this._z=(o-i)*m}else if(r>a&&r>d){const m=2*Math.sqrt(1+r-a-d);this._w=(c-l)/m,this._x=.25*m,this._y=(i+o)/m,this._z=(s+u)/m}else if(a>d){const m=2*Math.sqrt(1+a-r-d);this._w=(s-u)/m,this._x=(i+o)/m,this._y=.25*m,this._z=(l+c)/m}else{const m=2*Math.sqrt(1+d-r-a);this._w=(o-i)/m,this._x=(s+u)/m,this._y=(l+c)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Dn(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,s=e._z,o=e._w,a=n._x,l=n._y,u=n._z,c=n._w;return this._x=r*c+o*a+i*u-s*l,this._y=i*c+o*l+s*a-r*u,this._z=s*c+o*u+r*l-i*a,this._w=o*c-r*a-i*l-s*u,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-n;return this._w=m*o+n*this._w,this._x=m*r+n*this._x,this._y=m*i+n*this._y,this._z=m*s+n*this._z,this.normalize(),this._onChangeCallback(),this}const u=Math.sqrt(l),c=Math.atan2(u,a),d=Math.sin((1-n)*c)/u,p=Math.sin(n*c)/u;return this._w=o*d+this._w*p,this._x=r*d+this._x*p,this._y=i*d+this._y*p,this._z=s*d+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=Math.random(),n=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(n*Math.cos(i),r*Math.sin(s),r*Math.cos(s),n*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class N{constructor(e=0,n=0,r=0){N.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(pR.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(pR.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[3]*r+s[6]*i,this.y=s[1]*n+s[4]*r+s[7]*i,this.z=s[2]*n+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*n+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*n+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*n+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*n+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,u=l*n+o*i-a*r,c=l*r+a*n-s*i,d=l*i+s*r-o*n,p=-s*n-o*r-a*i;return this.x=u*l+p*-s+c*-a-d*-o,this.y=c*l+p*-o+d*-s-u*-a,this.z=d*l+p*-a+u*-o-c*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[4]*r+s[8]*i,this.y=s[1]*n+s[5]*r+s[9]*i,this.z=s[2]*n+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,s=e.z,o=n.x,a=n.y,l=n.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return z_.copy(this).projectOnVector(e),this.sub(z_)}reflect(e){return this.sub(z_.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Dn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,n=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(n),this.y=r*Math.sin(n),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const z_=new N,pR=new pr;class Gi{constructor(e=new N(1/0,1/0,1/0),n=new N(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(Ro.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(Ro.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=Ro.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){if(e.updateWorldMatrix(!1,!1),e.boundingBox!==void 0)e.boundingBox===null&&e.computeBoundingBox(),hc.copy(e.boundingBox),hc.applyMatrix4(e.matrixWorld),this.union(hc);else{const i=e.geometry;if(i!==void 0)if(n&&i.attributes!==void 0&&i.attributes.position!==void 0){const s=i.attributes.position;for(let o=0,a=s.count;o<a;o++)Ro.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(Ro)}else i.boundingBox===null&&i.computeBoundingBox(),hc.copy(i.boundingBox),hc.applyMatrix4(e.matrixWorld),this.union(hc)}const r=e.children;for(let i=0,s=r.length;i<s;i++)this.expandByObject(r[i],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Ro),Ro.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(fh),m0.subVectors(this.max,fh),pc.subVectors(e.a,fh),mc.subVectors(e.b,fh),gc.subVectors(e.c,fh),Ca.subVectors(mc,pc),Ta.subVectors(gc,mc),kl.subVectors(pc,gc);let n=[0,-Ca.z,Ca.y,0,-Ta.z,Ta.y,0,-kl.z,kl.y,Ca.z,0,-Ca.x,Ta.z,0,-Ta.x,kl.z,0,-kl.x,-Ca.y,Ca.x,0,-Ta.y,Ta.x,0,-kl.y,kl.x,0];return!H_(n,pc,mc,gc,m0)||(n=[1,0,0,0,1,0,0,0,1],!H_(n,pc,mc,gc,m0))?!1:(g0.crossVectors(Ca,Ta),n=[g0.x,g0.y,g0.z],H_(n,pc,mc,gc,m0))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Ro).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Ro).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Po[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Po[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Po[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Po[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Po[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Po[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Po[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Po[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Po),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Po=[new N,new N,new N,new N,new N,new N,new N,new N],Ro=new N,hc=new Gi,pc=new N,mc=new N,gc=new N,Ca=new N,Ta=new N,kl=new N,fh=new N,m0=new N,g0=new N,Nl=new N;function H_(t,e,n,r,i){for(let s=0,o=t.length-3;s<=o;s+=3){Nl.fromArray(t,s);const a=i.x*Math.abs(Nl.x)+i.y*Math.abs(Nl.y)+i.z*Math.abs(Nl.z),l=e.dot(Nl),u=n.dot(Nl),c=r.dot(Nl);if(Math.max(-Math.max(l,u,c),Math.min(l,u,c))>a)return!1}return!0}const AV=new Gi,dh=new N,G_=new N;class ms{constructor(e=new N,n=-1){this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):AV.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;dh.subVectors(e,this.center);const n=dh.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(dh,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(G_.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(dh.copy(e.center).add(G_)),this.expandByPoint(dh.copy(e.center).sub(G_))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Bo=new N,$_=new N,v0=new N,Pa=new N,V_=new N,y0=new N,W_=new N;class gm{constructor(e=new N,n=new N(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Bo)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=Bo.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(Bo.copy(this.origin).addScaledVector(this.direction,n),Bo.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){$_.copy(e).add(n).multiplyScalar(.5),v0.copy(n).sub(e).normalize(),Pa.copy(this.origin).sub($_);const s=e.distanceTo(n)*.5,o=-this.direction.dot(v0),a=Pa.dot(this.direction),l=-Pa.dot(v0),u=Pa.lengthSq(),c=Math.abs(1-o*o);let d,p,m,v;if(c>0)if(d=o*l-a,p=o*a-l,v=s*c,d>=0)if(p>=-v)if(p<=v){const y=1/c;d*=y,p*=y,m=d*(d+o*p+2*a)+p*(o*d+p+2*l)+u}else p=s,d=Math.max(0,-(o*p+a)),m=-d*d+p*(p+2*l)+u;else p=-s,d=Math.max(0,-(o*p+a)),m=-d*d+p*(p+2*l)+u;else p<=-v?(d=Math.max(0,-(-o*s+a)),p=d>0?-s:Math.min(Math.max(-s,-l),s),m=-d*d+p*(p+2*l)+u):p<=v?(d=0,p=Math.min(Math.max(-s,-l),s),m=p*(p+2*l)+u):(d=Math.max(0,-(o*s+a)),p=d>0?s:Math.min(Math.max(-s,-l),s),m=-d*d+p*(p+2*l)+u);else p=o>0?-s:s,d=Math.max(0,-(o*p+a)),m=-d*d+p*(p+2*l)+u;return r&&r.copy(this.origin).addScaledVector(this.direction,d),i&&i.copy($_).addScaledVector(v0,p),m}intersectSphere(e,n){Bo.subVectors(e.center,this.origin);const r=Bo.dot(this.direction),i=Bo.dot(Bo)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return l<0?null:a<0?this.at(l,n):this.at(a,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,s,o,a,l;const u=1/this.direction.x,c=1/this.direction.y,d=1/this.direction.z,p=this.origin;return u>=0?(r=(e.min.x-p.x)*u,i=(e.max.x-p.x)*u):(r=(e.max.x-p.x)*u,i=(e.min.x-p.x)*u),c>=0?(s=(e.min.y-p.y)*c,o=(e.max.y-p.y)*c):(s=(e.max.y-p.y)*c,o=(e.min.y-p.y)*c),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),d>=0?(a=(e.min.z-p.z)*d,l=(e.max.z-p.z)*d):(a=(e.max.z-p.z)*d,l=(e.min.z-p.z)*d),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,Bo)!==null}intersectTriangle(e,n,r,i,s){V_.subVectors(n,e),y0.subVectors(r,e),W_.crossVectors(V_,y0);let o=this.direction.dot(W_),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;Pa.subVectors(this.origin,e);const l=a*this.direction.dot(y0.crossVectors(Pa,y0));if(l<0)return null;const u=a*this.direction.dot(V_.cross(Pa));if(u<0||l+u>o)return null;const c=-a*Pa.dot(W_);return c<0?null:this.at(c/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class ut{constructor(){ut.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,n,r,i,s,o,a,l,u,c,d,p,m,v,y,x){const g=this.elements;return g[0]=e,g[4]=n,g[8]=r,g[12]=i,g[1]=s,g[5]=o,g[9]=a,g[13]=l,g[2]=u,g[6]=c,g[10]=d,g[14]=p,g[3]=m,g[7]=v,g[11]=y,g[15]=x,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new ut().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/vc.setFromMatrixColumn(e,0).length(),s=1/vc.setFromMatrixColumn(e,1).length(),o=1/vc.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*s,n[5]=r[5]*s,n[6]=r[6]*s,n[7]=0,n[8]=r[8]*o,n[9]=r[9]*o,n[10]=r[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),u=Math.sin(i),c=Math.cos(s),d=Math.sin(s);if(e.order==="XYZ"){const p=o*c,m=o*d,v=a*c,y=a*d;n[0]=l*c,n[4]=-l*d,n[8]=u,n[1]=m+v*u,n[5]=p-y*u,n[9]=-a*l,n[2]=y-p*u,n[6]=v+m*u,n[10]=o*l}else if(e.order==="YXZ"){const p=l*c,m=l*d,v=u*c,y=u*d;n[0]=p+y*a,n[4]=v*a-m,n[8]=o*u,n[1]=o*d,n[5]=o*c,n[9]=-a,n[2]=m*a-v,n[6]=y+p*a,n[10]=o*l}else if(e.order==="ZXY"){const p=l*c,m=l*d,v=u*c,y=u*d;n[0]=p-y*a,n[4]=-o*d,n[8]=v+m*a,n[1]=m+v*a,n[5]=o*c,n[9]=y-p*a,n[2]=-o*u,n[6]=a,n[10]=o*l}else if(e.order==="ZYX"){const p=o*c,m=o*d,v=a*c,y=a*d;n[0]=l*c,n[4]=v*u-m,n[8]=p*u+y,n[1]=l*d,n[5]=y*u+p,n[9]=m*u-v,n[2]=-u,n[6]=a*l,n[10]=o*l}else if(e.order==="YZX"){const p=o*l,m=o*u,v=a*l,y=a*u;n[0]=l*c,n[4]=y-p*d,n[8]=v*d+m,n[1]=d,n[5]=o*c,n[9]=-a*c,n[2]=-u*c,n[6]=m*d+v,n[10]=p-y*d}else if(e.order==="XZY"){const p=o*l,m=o*u,v=a*l,y=a*u;n[0]=l*c,n[4]=-d,n[8]=u*c,n[1]=p*d+y,n[5]=o*c,n[9]=m*d-v,n[2]=v*d-m,n[6]=a*c,n[10]=y*d+p}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(EV,e,CV)}lookAt(e,n,r){const i=this.elements;return wi.subVectors(e,n),wi.lengthSq()===0&&(wi.z=1),wi.normalize(),Ra.crossVectors(r,wi),Ra.lengthSq()===0&&(Math.abs(r.z)===1?wi.x+=1e-4:wi.z+=1e-4,wi.normalize(),Ra.crossVectors(r,wi)),Ra.normalize(),x0.crossVectors(wi,Ra),i[0]=Ra.x,i[4]=x0.x,i[8]=wi.x,i[1]=Ra.y,i[5]=x0.y,i[9]=wi.y,i[2]=Ra.z,i[6]=x0.z,i[10]=wi.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[4],l=r[8],u=r[12],c=r[1],d=r[5],p=r[9],m=r[13],v=r[2],y=r[6],x=r[10],g=r[14],b=r[3],S=r[7],M=r[11],C=r[15],E=i[0],R=i[4],I=i[8],P=i[12],B=i[1],O=i[5],H=i[9],U=i[13],V=i[2],j=i[6],Z=i[10],ne=i[14],z=i[3],J=i[7],K=i[11],ie=i[15];return s[0]=o*E+a*B+l*V+u*z,s[4]=o*R+a*O+l*j+u*J,s[8]=o*I+a*H+l*Z+u*K,s[12]=o*P+a*U+l*ne+u*ie,s[1]=c*E+d*B+p*V+m*z,s[5]=c*R+d*O+p*j+m*J,s[9]=c*I+d*H+p*Z+m*K,s[13]=c*P+d*U+p*ne+m*ie,s[2]=v*E+y*B+x*V+g*z,s[6]=v*R+y*O+x*j+g*J,s[10]=v*I+y*H+x*Z+g*K,s[14]=v*P+y*U+x*ne+g*ie,s[3]=b*E+S*B+M*V+C*z,s[7]=b*R+S*O+M*j+C*J,s[11]=b*I+S*H+M*Z+C*K,s[15]=b*P+S*U+M*ne+C*ie,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],u=e[13],c=e[2],d=e[6],p=e[10],m=e[14],v=e[3],y=e[7],x=e[11],g=e[15];return v*(+s*l*d-i*u*d-s*a*p+r*u*p+i*a*m-r*l*m)+y*(+n*l*m-n*u*p+s*o*p-i*o*m+i*u*c-s*l*c)+x*(+n*u*d-n*a*m-s*o*d+r*o*m+s*a*c-r*u*c)+g*(-i*a*c-n*l*d+n*a*p+i*o*d-r*o*p+r*l*c)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],c=e[8],d=e[9],p=e[10],m=e[11],v=e[12],y=e[13],x=e[14],g=e[15],b=d*x*u-y*p*u+y*l*m-a*x*m-d*l*g+a*p*g,S=v*p*u-c*x*u-v*l*m+o*x*m+c*l*g-o*p*g,M=c*y*u-v*d*u+v*a*m-o*y*m-c*a*g+o*d*g,C=v*d*l-c*y*l-v*a*p+o*y*p+c*a*x-o*d*x,E=n*b+r*S+i*M+s*C;if(E===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const R=1/E;return e[0]=b*R,e[1]=(y*p*s-d*x*s-y*i*m+r*x*m+d*i*g-r*p*g)*R,e[2]=(a*x*s-y*l*s+y*i*u-r*x*u-a*i*g+r*l*g)*R,e[3]=(d*l*s-a*p*s-d*i*u+r*p*u+a*i*m-r*l*m)*R,e[4]=S*R,e[5]=(c*x*s-v*p*s+v*i*m-n*x*m-c*i*g+n*p*g)*R,e[6]=(v*l*s-o*x*s-v*i*u+n*x*u+o*i*g-n*l*g)*R,e[7]=(o*p*s-c*l*s+c*i*u-n*p*u-o*i*m+n*l*m)*R,e[8]=M*R,e[9]=(v*d*s-c*y*s-v*r*m+n*y*m+c*r*g-n*d*g)*R,e[10]=(o*y*s-v*a*s+v*r*u-n*y*u-o*r*g+n*a*g)*R,e[11]=(c*a*s-o*d*s-c*r*u+n*d*u+o*r*m-n*a*m)*R,e[12]=C*R,e[13]=(c*y*i-v*d*i+v*r*p-n*y*p-c*r*x+n*d*x)*R,e[14]=(v*a*i-o*y*i-v*r*l+n*y*l+o*r*x-n*a*x)*R,e[15]=(o*d*i-c*a*i+c*r*l-n*d*l-o*r*p+n*a*p)*R,this}scale(e){const n=this.elements,r=e.x,i=e.y,s=e.z;return n[0]*=r,n[4]*=i,n[8]*=s,n[1]*=r,n[5]*=i,n[9]*=s,n[2]*=r,n[6]*=i,n[10]*=s,n[3]*=r,n[7]*=i,n[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),s=1-r,o=e.x,a=e.y,l=e.z,u=s*o,c=s*a;return this.set(u*o+r,u*a-i*l,u*l+i*a,0,u*a+i*l,c*a+r,c*l-i*o,0,u*l-i*a,c*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,s=n._x,o=n._y,a=n._z,l=n._w,u=s+s,c=o+o,d=a+a,p=s*u,m=s*c,v=s*d,y=o*c,x=o*d,g=a*d,b=l*u,S=l*c,M=l*d,C=r.x,E=r.y,R=r.z;return i[0]=(1-(y+g))*C,i[1]=(m+M)*C,i[2]=(v-S)*C,i[3]=0,i[4]=(m-M)*E,i[5]=(1-(p+g))*E,i[6]=(x+b)*E,i[7]=0,i[8]=(v+S)*R,i[9]=(x-b)*R,i[10]=(1-(p+y))*R,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let s=vc.set(i[0],i[1],i[2]).length();const o=vc.set(i[4],i[5],i[6]).length(),a=vc.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],As.copy(this);const u=1/s,c=1/o,d=1/a;return As.elements[0]*=u,As.elements[1]*=u,As.elements[2]*=u,As.elements[4]*=c,As.elements[5]*=c,As.elements[6]*=c,As.elements[8]*=d,As.elements[9]*=d,As.elements[10]*=d,n.setFromRotationMatrix(As),r.x=s,r.y=o,r.z=a,this}makePerspective(e,n,r,i,s,o){const a=this.elements,l=2*s/(n-e),u=2*s/(r-i),c=(n+e)/(n-e),d=(r+i)/(r-i),p=-(o+s)/(o-s),m=-2*o*s/(o-s);return a[0]=l,a[4]=0,a[8]=c,a[12]=0,a[1]=0,a[5]=u,a[9]=d,a[13]=0,a[2]=0,a[6]=0,a[10]=p,a[14]=m,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,n,r,i,s,o){const a=this.elements,l=1/(n-e),u=1/(r-i),c=1/(o-s),d=(n+e)*l,p=(r+i)*u,m=(o+s)*c;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-d,a[1]=0,a[5]=2*u,a[9]=0,a[13]=-p,a[2]=0,a[6]=0,a[10]=-2*c,a[14]=-m,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const vc=new N,As=new ut,EV=new N(0,0,0),CV=new N(1,1,1),Ra=new N,x0=new N,wi=new N,mR=new ut,gR=new pr;class Sl{constructor(e=0,n=0,r=0,i=Sl.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],u=i[5],c=i[9],d=i[2],p=i[6],m=i[10];switch(n){case"XYZ":this._y=Math.asin(Dn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-c,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(p,u),this._z=0);break;case"YXZ":this._x=Math.asin(-Dn(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-d,s),this._z=0);break;case"ZXY":this._x=Math.asin(Dn(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-d,m),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Dn(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(p,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,u));break;case"YZX":this._z=Math.asin(Dn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-c,u),this._y=Math.atan2(-d,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-Dn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,u),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-c,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return mR.makeRotationFromQuaternion(e),this.setFromRotationMatrix(mR,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return gR.setFromEuler(this),this.setFromQuaternion(gR,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Sl.DEFAULT_ORDER="XYZ";class xu{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let TV=0;const vR=new N,yc=new pr,Io=new ut,_0=new N,hh=new N,PV=new N,RV=new pr,yR=new N(1,0,0),xR=new N(0,1,0),_R=new N(0,0,1),BV={type:"added"},SR={type:"removed"};class Ht extends ps{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:TV++}),this.uuid=Oi(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Ht.DEFAULT_UP.clone();const e=new N,n=new Sl,r=new pr,i=new N(1,1,1);function s(){r.setFromEuler(n,!1)}function o(){n.setFromQuaternion(r,void 0,!1)}n._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new ut},normalMatrix:{value:new Dt}}),this.matrix=new ut,this.matrixWorld=new ut,this.matrixAutoUpdate=Ht.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Ht.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new xu,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return yc.setFromAxisAngle(e,n),this.quaternion.multiply(yc),this}rotateOnWorldAxis(e,n){return yc.setFromAxisAngle(e,n),this.quaternion.premultiply(yc),this}rotateX(e){return this.rotateOnAxis(yR,e)}rotateY(e){return this.rotateOnAxis(xR,e)}rotateZ(e){return this.rotateOnAxis(_R,e)}translateOnAxis(e,n){return vR.copy(e).applyQuaternion(this.quaternion),this.position.add(vR.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(yR,e)}translateY(e){return this.translateOnAxis(xR,e)}translateZ(e){return this.translateOnAxis(_R,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Io.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?_0.copy(e):_0.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),hh.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Io.lookAt(hh,_0,this.up):Io.lookAt(_0,hh,this.up),this.quaternion.setFromRotationMatrix(Io),i&&(Io.extractRotation(i.matrixWorld),yc.setFromRotationMatrix(Io),this.quaternion.premultiply(yc.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(BV)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(SR)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const n=this.children[e];n.parent=null,n.dispatchEvent(SR)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),Io.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Io.multiply(e.parent.matrixWorld)),e.applyMatrix4(Io),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,n);if(o!==void 0)return o}}getObjectsByProperty(e,n){let r=[];this[e]===n&&r.push(this);for(let i=0,s=this.children.length;i<s;i++){const o=this.children[i].getObjectsByProperty(e,n);o.length>0&&(r=r.concat(o))}return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(hh,e,PV),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(hh,RV,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++){const s=n[r];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++){const a=i[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let u=0,c=l.length;u<c;u++){const d=l[u];s(e.shapes,d)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,u=this.material.length;l<u;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(n){const a=o(e.geometries),l=o(e.materials),u=o(e.textures),c=o(e.images),d=o(e.shapes),p=o(e.skeletons),m=o(e.animations),v=o(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),u.length>0&&(r.textures=u),c.length>0&&(r.images=c),d.length>0&&(r.shapes=d),p.length>0&&(r.skeletons=p),m.length>0&&(r.animations=m),v.length>0&&(r.nodes=v)}return r.object=i,r;function o(a){const l=[];for(const u in a){const c=a[u];delete c.metadata,l.push(c)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}Ht.DEFAULT_UP=new N(0,1,0);Ht.DEFAULT_MATRIX_AUTO_UPDATE=!0;Ht.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Es=new N,Do=new N,j_=new N,Lo=new N,xc=new N,_c=new N,bR=new N,J_=new N,K_=new N,X_=new N;let S0=!1;class li{constructor(e=new N,n=new N,r=new N){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),Es.subVectors(e,n),i.cross(Es);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,n,r,i,s){Es.subVectors(i,n),Do.subVectors(r,n),j_.subVectors(e,n);const o=Es.dot(Es),a=Es.dot(Do),l=Es.dot(j_),u=Do.dot(Do),c=Do.dot(j_),d=o*u-a*a;if(d===0)return s.set(-2,-1,-1);const p=1/d,m=(u*l-a*c)*p,v=(o*c-a*l)*p;return s.set(1-m-v,v,m)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,Lo),Lo.x>=0&&Lo.y>=0&&Lo.x+Lo.y<=1}static getUV(e,n,r,i,s,o,a,l){return S0===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),S0=!0),this.getInterpolation(e,n,r,i,s,o,a,l)}static getInterpolation(e,n,r,i,s,o,a,l){return this.getBarycoord(e,n,r,i,Lo),l.setScalar(0),l.addScaledVector(s,Lo.x),l.addScaledVector(o,Lo.y),l.addScaledVector(a,Lo.z),l}static isFrontFacing(e,n,r,i){return Es.subVectors(r,n),Do.subVectors(e,n),Es.cross(Do).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Es.subVectors(this.c,this.b),Do.subVectors(this.a,this.b),Es.cross(Do).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return li.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return li.getBarycoord(e,this.a,this.b,this.c,n)}getUV(e,n,r,i,s){return S0===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),S0=!0),li.getInterpolation(e,this.a,this.b,this.c,n,r,i,s)}getInterpolation(e,n,r,i,s){return li.getInterpolation(e,this.a,this.b,this.c,n,r,i,s)}containsPoint(e){return li.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return li.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,s=this.c;let o,a;xc.subVectors(i,r),_c.subVectors(s,r),J_.subVectors(e,r);const l=xc.dot(J_),u=_c.dot(J_);if(l<=0&&u<=0)return n.copy(r);K_.subVectors(e,i);const c=xc.dot(K_),d=_c.dot(K_);if(c>=0&&d<=c)return n.copy(i);const p=l*d-c*u;if(p<=0&&l>=0&&c<=0)return o=l/(l-c),n.copy(r).addScaledVector(xc,o);X_.subVectors(e,s);const m=xc.dot(X_),v=_c.dot(X_);if(v>=0&&m<=v)return n.copy(s);const y=m*u-l*v;if(y<=0&&u>=0&&v<=0)return a=u/(u-v),n.copy(r).addScaledVector(_c,a);const x=c*v-m*d;if(x<=0&&d-c>=0&&m-v>=0)return bR.subVectors(s,i),a=(d-c)/(d-c+(m-v)),n.copy(i).addScaledVector(bR,a);const g=1/(x+y+p);return o=y*g,a=p*g,n.copy(r).addScaledVector(xc,o).addScaledVector(_c,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let IV=0,On=class extends ps{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:IV++}),this.uuid=Oi(),this.name="",this.type="Material",this.blending=vu,this.side=Hs,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=jA,this.blendDst=JA,this.blendEquation=nu,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=yy,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=i4,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Hv,this.stencilZFail=Hv,this.stencilZPass=Hv,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==vu&&(r.blending=this.blending),this.side!==Hs&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(r.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(n){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=n[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}};const l4={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Cs={h:0,s:0,l:0},b0={h:0,s:0,l:0};function Y_(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}let Ce=class{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,n===void 0&&r===void 0?this.set(e):this.setRGB(e,n,r)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=Is){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,ii.toWorkingColorSpace(this,n),this}setRGB(e,n,r,i=ii.workingColorSpace){return this.r=e,this.g=n,this.b=r,ii.toWorkingColorSpace(this,i),this}setHSL(e,n,r,i=ii.workingColorSpace){if(e=tE(e,1),n=Dn(n,0,1),r=Dn(r,0,1),n===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+n):r+n-r*n,o=2*r-s;this.r=Y_(o,s,e+1/3),this.g=Y_(o,s,e),this.b=Y_(o,s,e-1/3)}return ii.toWorkingColorSpace(this,i),this}setStyle(e,n=Is){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,ii.toWorkingColorSpace(this,n),r(s[4]),this;if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,ii.toWorkingColorSpace(this,n),r(s[4]),this;break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const l=parseFloat(s[1])/360,u=parseFloat(s[2])/100,c=parseFloat(s[3])/100;return r(s[4]),this.setHSL(l,u,c,n)}break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,n);if(o===6)return this.setHex(parseInt(s,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=Is){const r=l4[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Of(e.r),this.g=Of(e.g),this.b=Of(e.b),this}copyLinearToSRGB(e){return this.r=N_(e.r),this.g=N_(e.g),this.b=N_(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Is){return ii.fromWorkingColorSpace(Br.copy(this),e),Dn(Br.r*255,0,255)<<16^Dn(Br.g*255,0,255)<<8^Dn(Br.b*255,0,255)<<0}getHexString(e=Is){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=ii.workingColorSpace){ii.fromWorkingColorSpace(Br.copy(this),n);const r=Br.r,i=Br.g,s=Br.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,u;const c=(a+o)/2;if(a===o)l=0,u=0;else{const d=o-a;switch(u=c<=.5?d/(o+a):d/(2-o-a),o){case r:l=(i-s)/d+(i<s?6:0);break;case i:l=(s-r)/d+2;break;case s:l=(r-i)/d+4;break}l/=6}return e.h=l,e.s=u,e.l=c,e}getRGB(e,n=ii.workingColorSpace){return ii.fromWorkingColorSpace(Br.copy(this),n),e.r=Br.r,e.g=Br.g,e.b=Br.b,e}getStyle(e=Is){ii.fromWorkingColorSpace(Br.copy(this),e);const n=Br.r,r=Br.g,i=Br.b;return e!==Is?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${n*255|0},${r*255|0},${i*255|0})`}offsetHSL(e,n,r){return this.getHSL(Cs),Cs.h+=e,Cs.s+=n,Cs.l+=r,this.setHSL(Cs.h,Cs.s,Cs.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(Cs),e.getHSL(b0);const r=lp(Cs.h,b0.h,n),i=lp(Cs.s,b0.s,n),s=lp(Cs.l,b0.l,n);return this.setHSL(r,i,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,s=e.elements;return this.r=s[0]*n+s[3]*r+s[6]*i,this.g=s[1]*n+s[4]*r+s[7]*i,this.b=s[2]*n+s[5]*r+s[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const Br=new Ce;Ce.NAMES=l4;class Bi extends On{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Ce(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=mm,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Go=DV();function DV(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const u=l-127;u<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):u<-14?(r[l]=1024>>-u-14,r[l|256]=1024>>-u-14|32768,i[l]=-u-1,i[l|256]=-u-1):u<=15?(r[l]=u+15<<10,r[l|256]=u+15<<10|32768,i[l]=13,i[l|256]=13):u<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let u=l<<13,c=0;for(;!(u&8388608);)u<<=1,c-=8388608;u&=-8388609,c+=947912704,s[l]=u|c}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:o,offsetTable:a}}function si(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=Dn(t,-65504,65504),Go.floatView[0]=t;const e=Go.uint32View[0],n=e>>23&511;return Go.baseTable[n]+((e&8388607)>>Go.shiftTable[n])}function Vh(t){const e=t>>10;return Go.uint32View[0]=Go.mantissaTable[Go.offsetTable[e]+(t&1023)]+Go.exponentTable[e],Go.floatView[0]}const Wh={toHalfFloat:si,fromHalfFloat:Vh},jn=new N,w0=new fe;class Ut{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=Wp,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)w0.fromBufferAttribute(this,n),w0.applyMatrix3(e),this.setXY(n,w0.x,w0.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)jn.fromBufferAttribute(this,n),jn.applyMatrix3(e),this.setXYZ(n,jn.x,jn.y,jn.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)jn.fromBufferAttribute(this,n),jn.applyMatrix4(e),this.setXYZ(n,jn.x,jn.y,jn.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)jn.fromBufferAttribute(this,n),jn.applyNormalMatrix(e),this.setXYZ(n,jn.x,jn.y,jn.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)jn.fromBufferAttribute(this,n),jn.transformDirection(e),this.setXYZ(n,jn.x,jn.y,jn.z);return this}set(e,n=0){return this.array.set(e,n),this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=Ri(n,this.array)),n}setX(e,n){return this.normalized&&(n=At(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=Ri(n,this.array)),n}setY(e,n){return this.normalized&&(n=At(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=Ri(n,this.array)),n}setZ(e,n){return this.normalized&&(n=At(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=Ri(n,this.array)),n}setW(e,n){return this.normalized&&(n=At(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=At(n,this.array),r=At(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=At(n,this.array),r=At(r,this.array),i=At(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=At(n,this.array),r=At(r,this.array),i=At(i,this.array),s=At(s,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Wp&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class LV extends Ut{constructor(e,n,r){super(new Int8Array(e),n,r)}}class OV extends Ut{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class FV extends Ut{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class kV extends Ut{constructor(e,n,r){super(new Int16Array(e),n,r)}}class iE extends Ut{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class NV extends Ut{constructor(e,n,r){super(new Int32Array(e),n,r)}}class sE extends Ut{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class UV extends Ut{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}getX(e){let n=Vh(this.array[e*this.itemSize]);return this.normalized&&(n=Ri(n,this.array)),n}setX(e,n){return this.normalized&&(n=At(n,this.array)),this.array[e*this.itemSize]=si(n),this}getY(e){let n=Vh(this.array[e*this.itemSize+1]);return this.normalized&&(n=Ri(n,this.array)),n}setY(e,n){return this.normalized&&(n=At(n,this.array)),this.array[e*this.itemSize+1]=si(n),this}getZ(e){let n=Vh(this.array[e*this.itemSize+2]);return this.normalized&&(n=Ri(n,this.array)),n}setZ(e,n){return this.normalized&&(n=At(n,this.array)),this.array[e*this.itemSize+2]=si(n),this}getW(e){let n=Vh(this.array[e*this.itemSize+3]);return this.normalized&&(n=Ri(n,this.array)),n}setW(e,n){return this.normalized&&(n=At(n,this.array)),this.array[e*this.itemSize+3]=si(n),this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=At(n,this.array),r=At(r,this.array)),this.array[e+0]=si(n),this.array[e+1]=si(r),this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=At(n,this.array),r=At(r,this.array),i=At(i,this.array)),this.array[e+0]=si(n),this.array[e+1]=si(r),this.array[e+2]=si(i),this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=At(n,this.array),r=At(r,this.array),i=At(i,this.array),s=At(s,this.array)),this.array[e+0]=si(n),this.array[e+1]=si(r),this.array[e+2]=si(i),this.array[e+3]=si(s),this}}class $e extends Ut{constructor(e,n,r){super(new Float32Array(e),n,r)}}class zV extends Ut{constructor(e,n,r){super(new Float64Array(e),n,r)}}let HV=0;const qi=new ut,Q_=new Ht,Sc=new N,Mi=new Gi,ph=new Gi,lr=new N;class gt extends ps{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:HV++}),this.uuid=Oi(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(a4(e)?sE:iE)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new Dt().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return qi.makeRotationFromQuaternion(e),this.applyMatrix4(qi),this}rotateX(e){return qi.makeRotationX(e),this.applyMatrix4(qi),this}rotateY(e){return qi.makeRotationY(e),this.applyMatrix4(qi),this}rotateZ(e){return qi.makeRotationZ(e),this.applyMatrix4(qi),this}translate(e,n,r){return qi.makeTranslation(e,n,r),this.applyMatrix4(qi),this}scale(e,n,r){return qi.makeScale(e,n,r),this.applyMatrix4(qi),this}lookAt(e){return Q_.lookAt(e),Q_.updateMatrix(),this.applyMatrix4(Q_.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Sc).negate(),this.translate(Sc.x,Sc.y,Sc.z),this}setFromPoints(e){const n=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];n.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new $e(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Gi);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new N(-1/0,-1/0,-1/0),new N(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const s=n[r];Mi.setFromBufferAttribute(s),this.morphTargetsRelative?(lr.addVectors(this.boundingBox.min,Mi.min),this.boundingBox.expandByPoint(lr),lr.addVectors(this.boundingBox.max,Mi.max),this.boundingBox.expandByPoint(lr)):(this.boundingBox.expandByPoint(Mi.min),this.boundingBox.expandByPoint(Mi.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new ms);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new N,1/0);return}if(e){const r=this.boundingSphere.center;if(Mi.setFromBufferAttribute(e),n)for(let s=0,o=n.length;s<o;s++){const a=n[s];ph.setFromBufferAttribute(a),this.morphTargetsRelative?(lr.addVectors(Mi.min,ph.min),Mi.expandByPoint(lr),lr.addVectors(Mi.max,ph.max),Mi.expandByPoint(lr)):(Mi.expandByPoint(ph.min),Mi.expandByPoint(ph.max))}Mi.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)lr.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(lr));if(n)for(let s=0,o=n.length;s<o;s++){const a=n[s],l=this.morphTargetsRelative;for(let u=0,c=a.count;u<c;u++)lr.fromBufferAttribute(a,u),l&&(Sc.fromBufferAttribute(e,u),lr.add(Sc)),i=Math.max(i,r.distanceToSquared(lr))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=n.position.array,s=n.normal.array,o=n.uv.array,a=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Ut(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,u=[],c=[];for(let B=0;B<a;B++)u[B]=new N,c[B]=new N;const d=new N,p=new N,m=new N,v=new fe,y=new fe,x=new fe,g=new N,b=new N;function S(B,O,H){d.fromArray(i,B*3),p.fromArray(i,O*3),m.fromArray(i,H*3),v.fromArray(o,B*2),y.fromArray(o,O*2),x.fromArray(o,H*2),p.sub(d),m.sub(d),y.sub(v),x.sub(v);const U=1/(y.x*x.y-x.x*y.y);isFinite(U)&&(g.copy(p).multiplyScalar(x.y).addScaledVector(m,-y.y).multiplyScalar(U),b.copy(m).multiplyScalar(y.x).addScaledVector(p,-x.x).multiplyScalar(U),u[B].add(g),u[O].add(g),u[H].add(g),c[B].add(b),c[O].add(b),c[H].add(b))}let M=this.groups;M.length===0&&(M=[{start:0,count:r.length}]);for(let B=0,O=M.length;B<O;++B){const H=M[B],U=H.start,V=H.count;for(let j=U,Z=U+V;j<Z;j+=3)S(r[j+0],r[j+1],r[j+2])}const C=new N,E=new N,R=new N,I=new N;function P(B){R.fromArray(s,B*3),I.copy(R);const O=u[B];C.copy(O),C.sub(R.multiplyScalar(R.dot(O))).normalize(),E.crossVectors(I,O);const U=E.dot(c[B])<0?-1:1;l[B*4]=C.x,l[B*4+1]=C.y,l[B*4+2]=C.z,l[B*4+3]=U}for(let B=0,O=M.length;B<O;++B){const H=M[B],U=H.start,V=H.count;for(let j=U,Z=U+V;j<Z;j+=3)P(r[j+0]),P(r[j+1]),P(r[j+2])}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Ut(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let p=0,m=r.count;p<m;p++)r.setXYZ(p,0,0,0);const i=new N,s=new N,o=new N,a=new N,l=new N,u=new N,c=new N,d=new N;if(e)for(let p=0,m=e.count;p<m;p+=3){const v=e.getX(p+0),y=e.getX(p+1),x=e.getX(p+2);i.fromBufferAttribute(n,v),s.fromBufferAttribute(n,y),o.fromBufferAttribute(n,x),c.subVectors(o,s),d.subVectors(i,s),c.cross(d),a.fromBufferAttribute(r,v),l.fromBufferAttribute(r,y),u.fromBufferAttribute(r,x),a.add(c),l.add(c),u.add(c),r.setXYZ(v,a.x,a.y,a.z),r.setXYZ(y,l.x,l.y,l.z),r.setXYZ(x,u.x,u.y,u.z)}else for(let p=0,m=n.count;p<m;p+=3)i.fromBufferAttribute(n,p+0),s.fromBufferAttribute(n,p+1),o.fromBufferAttribute(n,p+2),c.subVectors(o,s),d.subVectors(i,s),c.cross(d),r.setXYZ(p+0,c.x,c.y,c.z),r.setXYZ(p+1,c.x,c.y,c.z),r.setXYZ(p+2,c.x,c.y,c.z);this.normalizeNormals(),r.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)lr.fromBufferAttribute(e,n),lr.normalize(),e.setXYZ(n,lr.x,lr.y,lr.z)}toNonIndexed(){function e(a,l){const u=a.array,c=a.itemSize,d=a.normalized,p=new u.constructor(l.length*c);let m=0,v=0;for(let y=0,x=l.length;y<x;y++){a.isInterleavedBufferAttribute?m=l[y]*a.data.stride+a.offset:m=l[y]*c;for(let g=0;g<c;g++)p[v++]=u[m++]}return new Ut(p,c,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new gt,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],u=e(l,r);n.setAttribute(a,u)}const s=this.morphAttributes;for(const a in s){const l=[],u=s[a];for(let c=0,d=u.length;c<d;c++){const p=u[c],m=e(p,r);l.push(m)}n.morphAttributes[a]=l}n.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const u=o[a];n.addGroup(u.start,u.count,u.materialIndex)}return n}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const u=r[l];e.data.attributes[l]=u.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],c=[];for(let d=0,p=u.length;d<p;d++){const m=u[d];c.push(m.toJSON(e.data))}c.length>0&&(i[l]=c,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(n));const i=e.attributes;for(const u in i){const c=i[u];this.setAttribute(u,c.clone(n))}const s=e.morphAttributes;for(const u in s){const c=[],d=s[u];for(let p=0,m=d.length;p<m;p++)c.push(d[p].clone(n));this.morphAttributes[u]=c}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let u=0,c=o.length;u<c;u++){const d=o[u];this.addGroup(d.start,d.count,d.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const wR=new ut,ro=new gm,M0=new ms,MR=new N,bc=new N,wc=new N,Mc=new N,Z_=new N,A0=new N,E0=new fe,C0=new fe,T0=new fe,AR=new N,ER=new N,CR=new N,P0=new N,R0=new N;class Hn extends Ht{constructor(e=new gt,n=new Bi){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,o=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(s&&a){A0.set(0,0,0);for(let l=0,u=s.length;l<u;l++){const c=a[l],d=s[l];c!==0&&(Z_.fromBufferAttribute(d,e),o?A0.addScaledVector(Z_,c):A0.addScaledVector(Z_.sub(n),c))}n.add(A0)}return this.isSkinnedMesh&&this.applyBoneTransform(e,n),n}raycast(e,n){const r=this.geometry,i=this.material,s=this.matrixWorld;if(i===void 0||(r.boundingSphere===null&&r.computeBoundingSphere(),M0.copy(r.boundingSphere),M0.applyMatrix4(s),ro.copy(e.ray).recast(e.near),M0.containsPoint(ro.origin)===!1&&(ro.intersectSphere(M0,MR)===null||ro.origin.distanceToSquared(MR)>(e.far-e.near)**2))||(wR.copy(s).invert(),ro.copy(e.ray).applyMatrix4(wR),r.boundingBox!==null&&ro.intersectsBox(r.boundingBox)===!1))return;let o;const a=r.index,l=r.attributes.position,u=r.attributes.uv,c=r.attributes.uv2,d=r.attributes.normal,p=r.groups,m=r.drawRange;if(a!==null)if(Array.isArray(i))for(let v=0,y=p.length;v<y;v++){const x=p[v],g=i[x.materialIndex],b=Math.max(x.start,m.start),S=Math.min(a.count,Math.min(x.start+x.count,m.start+m.count));for(let M=b,C=S;M<C;M+=3){const E=a.getX(M),R=a.getX(M+1),I=a.getX(M+2);o=B0(this,g,e,ro,u,c,d,E,R,I),o&&(o.faceIndex=Math.floor(M/3),o.face.materialIndex=x.materialIndex,n.push(o))}}else{const v=Math.max(0,m.start),y=Math.min(a.count,m.start+m.count);for(let x=v,g=y;x<g;x+=3){const b=a.getX(x),S=a.getX(x+1),M=a.getX(x+2);o=B0(this,i,e,ro,u,c,d,b,S,M),o&&(o.faceIndex=Math.floor(x/3),n.push(o))}}else if(l!==void 0)if(Array.isArray(i))for(let v=0,y=p.length;v<y;v++){const x=p[v],g=i[x.materialIndex],b=Math.max(x.start,m.start),S=Math.min(l.count,Math.min(x.start+x.count,m.start+m.count));for(let M=b,C=S;M<C;M+=3){const E=M,R=M+1,I=M+2;o=B0(this,g,e,ro,u,c,d,E,R,I),o&&(o.faceIndex=Math.floor(M/3),o.face.materialIndex=x.materialIndex,n.push(o))}}else{const v=Math.max(0,m.start),y=Math.min(l.count,m.start+m.count);for(let x=v,g=y;x<g;x+=3){const b=x,S=x+1,M=x+2;o=B0(this,i,e,ro,u,c,d,b,S,M),o&&(o.faceIndex=Math.floor(x/3),n.push(o))}}}}function GV(t,e,n,r,i,s,o,a){let l;if(e.side===Zn?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,e.side===Hs,a),l===null)return null;R0.copy(a),R0.applyMatrix4(t.matrixWorld);const u=n.ray.origin.distanceTo(R0);return u<n.near||u>n.far?null:{distance:u,point:R0.clone(),object:t}}function B0(t,e,n,r,i,s,o,a,l,u){t.getVertexPosition(a,bc),t.getVertexPosition(l,wc),t.getVertexPosition(u,Mc);const c=GV(t,e,n,r,bc,wc,Mc,P0);if(c){i&&(E0.fromBufferAttribute(i,a),C0.fromBufferAttribute(i,l),T0.fromBufferAttribute(i,u),c.uv=li.getInterpolation(P0,bc,wc,Mc,E0,C0,T0,new fe)),s&&(E0.fromBufferAttribute(s,a),C0.fromBufferAttribute(s,l),T0.fromBufferAttribute(s,u),c.uv2=li.getInterpolation(P0,bc,wc,Mc,E0,C0,T0,new fe)),o&&(AR.fromBufferAttribute(o,a),ER.fromBufferAttribute(o,l),CR.fromBufferAttribute(o,u),c.normal=li.getInterpolation(P0,bc,wc,Mc,AR,ER,CR,new N),c.normal.dot(r.direction)>0&&c.normal.multiplyScalar(-1));const d={a,b:l,c:u,normal:new N,materialIndex:0};li.getNormal(bc,wc,Mc,d.normal),c.face=d}return c}class bl extends gt{constructor(e=1,n=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],u=[],c=[],d=[];let p=0,m=0;v("z","y","x",-1,-1,r,n,e,o,s,0),v("z","y","x",1,-1,r,n,-e,o,s,1),v("x","z","y",1,1,e,r,n,i,o,2),v("x","z","y",1,-1,e,r,-n,i,o,3),v("x","y","z",1,-1,e,n,r,i,s,4),v("x","y","z",-1,-1,e,n,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new $e(u,3)),this.setAttribute("normal",new $e(c,3)),this.setAttribute("uv",new $e(d,2));function v(y,x,g,b,S,M,C,E,R,I,P){const B=M/R,O=C/I,H=M/2,U=C/2,V=E/2,j=R+1,Z=I+1;let ne=0,z=0;const J=new N;for(let K=0;K<Z;K++){const ie=K*O-U;for(let re=0;re<j;re++){const se=re*B-H;J[y]=se*b,J[x]=ie*S,J[g]=V,u.push(J.x,J.y,J.z),J[y]=0,J[x]=0,J[g]=E>0?1:-1,c.push(J.x,J.y,J.z),d.push(re/R),d.push(1-K/I),ne+=1}}for(let K=0;K<I;K++)for(let ie=0;ie<R;ie++){const re=p+ie+j*K,se=p+ie+j*(K+1),le=p+(ie+1)+j*(K+1),Me=p+(ie+1)+j*K;l.push(re,se,Me),l.push(se,le,Me),z+=6}a.addGroup(m,z,P),m+=z,p+=ne}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new bl(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Yf(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function Wr(t){const e={};for(let n=0;n<t.length;n++){const r=Yf(t[n]);for(const i in r)e[i]=r[i]}return e}function $V(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function u4(t){return t.getRenderTarget()===null&&t.outputEncoding===lt?Is:Kf}const c4={clone:Yf,merge:Wr};var VV=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,WV=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class tr extends On{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=VV,this.fragmentShader=WV,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Yf(e.uniforms),this.uniformsGroups=$V(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?n.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?n.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?n.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?n.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?n.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?n.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?n.uniforms[i]={type:"m4",value:o.toArray()}:n.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class dd extends Ht{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new ut,this.projectionMatrix=new ut,this.projectionMatrixInverse=new ut}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(-n[8],-n[9],-n[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class Ln extends dd{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=Xf*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(yu*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Xf*2*Math.atan(Math.tan(yu*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,n,r,i,s,o){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(yu*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,u=o.fullHeight;s+=o.offsetX*i/l,n-=o.offsetY*r/u,i*=o.width/l,r*=o.height/u}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,n,n-r,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const Ac=-90,Ec=1;class f4 extends Ht{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r;const i=new Ln(Ac,Ec,e,n);i.layers=this.layers,i.up.set(0,1,0),i.lookAt(1,0,0),this.add(i);const s=new Ln(Ac,Ec,e,n);s.layers=this.layers,s.up.set(0,1,0),s.lookAt(-1,0,0),this.add(s);const o=new Ln(Ac,Ec,e,n);o.layers=this.layers,o.up.set(0,0,-1),o.lookAt(0,1,0),this.add(o);const a=new Ln(Ac,Ec,e,n);a.layers=this.layers,a.up.set(0,0,1),a.lookAt(0,-1,0),this.add(a);const l=new Ln(Ac,Ec,e,n);l.layers=this.layers,l.up.set(0,1,0),l.lookAt(0,0,1),this.add(l);const u=new Ln(Ac,Ec,e,n);u.layers=this.layers,u.up.set(0,1,0),u.lookAt(0,0,-1),this.add(u)}update(e,n){this.parent===null&&this.updateMatrixWorld();const r=this.renderTarget,[i,s,o,a,l,u]=this.children,c=e.getRenderTarget(),d=e.toneMapping,p=e.xr.enabled;e.toneMapping=Ns,e.xr.enabled=!1;const m=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(n,i),e.setRenderTarget(r,1),e.render(n,s),e.setRenderTarget(r,2),e.render(n,o),e.setRenderTarget(r,3),e.render(n,a),e.setRenderTarget(r,4),e.render(n,l),r.texture.generateMipmaps=m,e.setRenderTarget(r,5),e.render(n,u),e.setRenderTarget(c),e.toneMapping=d,e.xr.enabled=p,r.texture.needsPMREMUpdate=!0}}class vm extends ln{constructor(e,n,r,i,s,o,a,l,u,c){e=e!==void 0?e:[],n=n!==void 0?n:sa,super(e,n,r,i,s,o,a,l,u,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class oE extends Fn{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new vm(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:Xt}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.encoding=n.encoding,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new bl(5,5,5),s=new tr({name:"CubemapFromEquirect",uniforms:Yf(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Zn,blending:Fr});s.uniforms.tEquirect.value=n;const o=new Hn(i,s),a=n.minFilter;return n.minFilter===vo&&(n.minFilter=Xt),new f4(1,10,this).update(e,o),n.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,n,r,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(n,r,i);e.setRenderTarget(s)}}const q_=new N,jV=new N,JV=new Dt;class Ua{constructor(e=new N(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=q_.subVectors(r,n).cross(jV.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(q_),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:n.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||JV.getNormalMatrix(e),i=this.coplanarPoint(q_).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Ul=new ms,I0=new N;class yx{constructor(e=new Ua,n=new Ua,r=new Ua,i=new Ua,s=new Ua,o=new Ua){this.planes=[e,n,r,i,s,o]}set(e,n,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(n),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e){const n=this.planes,r=e.elements,i=r[0],s=r[1],o=r[2],a=r[3],l=r[4],u=r[5],c=r[6],d=r[7],p=r[8],m=r[9],v=r[10],y=r[11],x=r[12],g=r[13],b=r[14],S=r[15];return n[0].setComponents(a-i,d-l,y-p,S-x).normalize(),n[1].setComponents(a+i,d+l,y+p,S+x).normalize(),n[2].setComponents(a+s,d+u,y+m,S+g).normalize(),n[3].setComponents(a-s,d-u,y-m,S-g).normalize(),n[4].setComponents(a-o,d-c,y-v,S-b).normalize(),n[5].setComponents(a+o,d+c,y+v,S+b).normalize(),this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Ul.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),Ul.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Ul)}intersectsSprite(e){return Ul.center.set(0,0,0),Ul.radius=.7071067811865476,Ul.applyMatrix4(e.matrixWorld),this.intersectsSphere(Ul)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(n[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(I0.x=i.normal.x>0?e.max.x:e.min.x,I0.y=i.normal.y>0?e.max.y:e.min.y,I0.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(I0)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function d4(){let t=null,e=!1,n=null,r=null;function i(s,o){n(s,o),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){n=s},setContext:function(s){t=s}}}function KV(t,e){const n=e.isWebGL2,r=new WeakMap;function i(u,c){const d=u.array,p=u.usage,m=t.createBuffer();t.bindBuffer(c,m),t.bufferData(c,d,p),u.onUploadCallback();let v;if(d instanceof Float32Array)v=5126;else if(d instanceof Uint16Array)if(u.isFloat16BufferAttribute)if(n)v=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else v=5123;else if(d instanceof Int16Array)v=5122;else if(d instanceof Uint32Array)v=5125;else if(d instanceof Int32Array)v=5124;else if(d instanceof Int8Array)v=5120;else if(d instanceof Uint8Array)v=5121;else if(d instanceof Uint8ClampedArray)v=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+d);return{buffer:m,type:v,bytesPerElement:d.BYTES_PER_ELEMENT,version:u.version}}function s(u,c,d){const p=c.array,m=c.updateRange;t.bindBuffer(d,u),m.count===-1?t.bufferSubData(d,0,p):(n?t.bufferSubData(d,m.offset*p.BYTES_PER_ELEMENT,p,m.offset,m.count):t.bufferSubData(d,m.offset*p.BYTES_PER_ELEMENT,p.subarray(m.offset,m.offset+m.count)),m.count=-1),c.onUploadCallback()}function o(u){return u.isInterleavedBufferAttribute&&(u=u.data),r.get(u)}function a(u){u.isInterleavedBufferAttribute&&(u=u.data);const c=r.get(u);c&&(t.deleteBuffer(c.buffer),r.delete(u))}function l(u,c){if(u.isGLBufferAttribute){const p=r.get(u);(!p||p.version<u.version)&&r.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}u.isInterleavedBufferAttribute&&(u=u.data);const d=r.get(u);d===void 0?r.set(u,i(u,c)):d.version<u.version&&(s(d.buffer,u,c),d.version=u.version)}return{get:o,remove:a,update:l}}class hd extends gt{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const s=e/2,o=n/2,a=Math.floor(r),l=Math.floor(i),u=a+1,c=l+1,d=e/a,p=n/l,m=[],v=[],y=[],x=[];for(let g=0;g<c;g++){const b=g*p-o;for(let S=0;S<u;S++){const M=S*d-s;v.push(M,-b,0),y.push(0,0,1),x.push(S/a),x.push(1-g/l)}}for(let g=0;g<l;g++)for(let b=0;b<a;b++){const S=b+u*g,M=b+u*(g+1),C=b+1+u*(g+1),E=b+1+u*g;m.push(S,M,E),m.push(M,C,E)}this.setIndex(m),this.setAttribute("position",new $e(v,3)),this.setAttribute("normal",new $e(y,3)),this.setAttribute("uv",new $e(x,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new hd(e.width,e.height,e.widthSegments,e.heightSegments)}}var XV=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,YV=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,QV=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,ZV=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,qV=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,eW=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,tW="vec3 transformed = vec3( position );",nW=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,rW=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,iW=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,sW=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,oW=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,aW=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,lW=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,uW=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,cW=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,fW=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,dW=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,hW=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,pW=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,mW=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,gW=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,vW=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,yW=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,xW=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,_W=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,SW="gl_FragColor = linearToOutputTexel( gl_FragColor );",bW=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,wW=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,MW=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,AW=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,EW=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,CW=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,TW=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,PW=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,RW=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,BW=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,IW=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,DW=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,LW=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,OW=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,FW=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,kW=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,NW=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,UW=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,zW=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,HW=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,GW=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,$W=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif`,VW=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,WW=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,jW=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,JW=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,KW=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,XW=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,YW=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,QW=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,ZW=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,qW=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,e7=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,t7=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,n7=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,r7=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,i7=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,s7=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,o7=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,a7=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,l7=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#ifdef USE_NORMALMAP_TANGENTSPACE
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal, vNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 geometryNormal = normal;`,u7=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,c7=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,f7=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,d7=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,h7=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,p7=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,m7=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,g7=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,v7=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,y7=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,x7=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,_7=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,S7=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,b7=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,w7=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,M7=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,A7=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,E7=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,C7=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,T7=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,P7=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,R7=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,B7=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,I7=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,D7=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,L7=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,O7=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,F7=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,k7=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,N7=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,U7=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, vec2 fullSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		
		vec2 lodFudge = pow( 1.95, lod ) / fullSize;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec2 fullSize = vec2( textureSize( sampler, 0 ) );
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), fullSize, floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), fullSize, ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,z7=`#ifdef USE_UV
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,H7=`#ifdef USE_UV
	varying vec2 vUv;
#endif
#ifdef USE_UV2
	attribute vec2 uv2;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,G7=`#ifdef USE_UV
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,$7=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const V7=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,W7=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,j7=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,J7=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,K7=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,X7=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Y7=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Q7=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,Z7=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,q7=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,ej=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,tj=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,nj=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,rj=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,ij=`#include <common>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,sj=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,oj=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,aj=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,lj=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,uj=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,cj=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,fj=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,dj=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,hj=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,pj=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,mj=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,gj=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,vj=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,yj=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,xj=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,_j=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Sj=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,bj=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,wj=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,Mt={alphamap_fragment:XV,alphamap_pars_fragment:YV,alphatest_fragment:QV,alphatest_pars_fragment:ZV,aomap_fragment:qV,aomap_pars_fragment:eW,begin_vertex:tW,beginnormal_vertex:nW,bsdfs:rW,iridescence_fragment:iW,bumpmap_pars_fragment:sW,clipping_planes_fragment:oW,clipping_planes_pars_fragment:aW,clipping_planes_pars_vertex:lW,clipping_planes_vertex:uW,color_fragment:cW,color_pars_fragment:fW,color_pars_vertex:dW,color_vertex:hW,common:pW,cube_uv_reflection_fragment:mW,defaultnormal_vertex:gW,displacementmap_pars_vertex:vW,displacementmap_vertex:yW,emissivemap_fragment:xW,emissivemap_pars_fragment:_W,encodings_fragment:SW,encodings_pars_fragment:bW,envmap_fragment:wW,envmap_common_pars_fragment:MW,envmap_pars_fragment:AW,envmap_pars_vertex:EW,envmap_physical_pars_fragment:NW,envmap_vertex:CW,fog_vertex:TW,fog_pars_vertex:PW,fog_fragment:RW,fog_pars_fragment:BW,gradientmap_pars_fragment:IW,lightmap_fragment:DW,lightmap_pars_fragment:LW,lights_lambert_fragment:OW,lights_lambert_pars_fragment:FW,lights_pars_begin:kW,lights_toon_fragment:UW,lights_toon_pars_fragment:zW,lights_phong_fragment:HW,lights_phong_pars_fragment:GW,lights_physical_fragment:$W,lights_physical_pars_fragment:VW,lights_fragment_begin:WW,lights_fragment_maps:jW,lights_fragment_end:JW,logdepthbuf_fragment:KW,logdepthbuf_pars_fragment:XW,logdepthbuf_pars_vertex:YW,logdepthbuf_vertex:QW,map_fragment:ZW,map_pars_fragment:qW,map_particle_fragment:e7,map_particle_pars_fragment:t7,metalnessmap_fragment:n7,metalnessmap_pars_fragment:r7,morphcolor_vertex:i7,morphnormal_vertex:s7,morphtarget_pars_vertex:o7,morphtarget_vertex:a7,normal_fragment_begin:l7,normal_fragment_maps:u7,normal_pars_fragment:c7,normal_pars_vertex:f7,normal_vertex:d7,normalmap_pars_fragment:h7,clearcoat_normal_fragment_begin:p7,clearcoat_normal_fragment_maps:m7,clearcoat_pars_fragment:g7,iridescence_pars_fragment:v7,output_fragment:y7,packing:x7,premultiplied_alpha_fragment:_7,project_vertex:S7,dithering_fragment:b7,dithering_pars_fragment:w7,roughnessmap_fragment:M7,roughnessmap_pars_fragment:A7,shadowmap_pars_fragment:E7,shadowmap_pars_vertex:C7,shadowmap_vertex:T7,shadowmask_pars_fragment:P7,skinbase_vertex:R7,skinning_pars_vertex:B7,skinning_vertex:I7,skinnormal_vertex:D7,specularmap_fragment:L7,specularmap_pars_fragment:O7,tonemapping_fragment:F7,tonemapping_pars_fragment:k7,transmission_fragment:N7,transmission_pars_fragment:U7,uv_pars_fragment:z7,uv_pars_vertex:H7,uv_vertex:G7,worldpos_vertex:$7,background_vert:V7,background_frag:W7,backgroundCube_vert:j7,backgroundCube_frag:J7,cube_vert:K7,cube_frag:X7,depth_vert:Y7,depth_frag:Q7,distanceRGBA_vert:Z7,distanceRGBA_frag:q7,equirect_vert:ej,equirect_frag:tj,linedashed_vert:nj,linedashed_frag:rj,meshbasic_vert:ij,meshbasic_frag:sj,meshlambert_vert:oj,meshlambert_frag:aj,meshmatcap_vert:lj,meshmatcap_frag:uj,meshnormal_vert:cj,meshnormal_frag:fj,meshphong_vert:dj,meshphong_frag:hj,meshphysical_vert:pj,meshphysical_frag:mj,meshtoon_vert:gj,meshtoon_frag:vj,points_vert:yj,points_frag:xj,shadow_vert:_j,shadow_frag:Sj,sprite_vert:bj,sprite_frag:wj},Ie={common:{diffuse:{value:new Ce(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Dt},alphaMap:{value:null},alphaMapTransform:{value:new Dt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Dt}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Dt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Dt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Dt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Dt},normalScale:{value:new fe(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Dt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Dt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Dt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Dt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Ce(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Ce(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Dt}},sprite:{diffuse:{value:new Ce(16777215)},opacity:{value:1},center:{value:new fe(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Dt},alphaMap:{value:null},alphaTest:{value:0}}},Ls={basic:{uniforms:Wr([Ie.common,Ie.specularmap,Ie.envmap,Ie.aomap,Ie.lightmap,Ie.fog]),vertexShader:Mt.meshbasic_vert,fragmentShader:Mt.meshbasic_frag},lambert:{uniforms:Wr([Ie.common,Ie.specularmap,Ie.envmap,Ie.aomap,Ie.lightmap,Ie.emissivemap,Ie.bumpmap,Ie.normalmap,Ie.displacementmap,Ie.fog,Ie.lights,{emissive:{value:new Ce(0)}}]),vertexShader:Mt.meshlambert_vert,fragmentShader:Mt.meshlambert_frag},phong:{uniforms:Wr([Ie.common,Ie.specularmap,Ie.envmap,Ie.aomap,Ie.lightmap,Ie.emissivemap,Ie.bumpmap,Ie.normalmap,Ie.displacementmap,Ie.fog,Ie.lights,{emissive:{value:new Ce(0)},specular:{value:new Ce(1118481)},shininess:{value:30}}]),vertexShader:Mt.meshphong_vert,fragmentShader:Mt.meshphong_frag},standard:{uniforms:Wr([Ie.common,Ie.envmap,Ie.aomap,Ie.lightmap,Ie.emissivemap,Ie.bumpmap,Ie.normalmap,Ie.displacementmap,Ie.roughnessmap,Ie.metalnessmap,Ie.fog,Ie.lights,{emissive:{value:new Ce(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Mt.meshphysical_vert,fragmentShader:Mt.meshphysical_frag},toon:{uniforms:Wr([Ie.common,Ie.aomap,Ie.lightmap,Ie.emissivemap,Ie.bumpmap,Ie.normalmap,Ie.displacementmap,Ie.gradientmap,Ie.fog,Ie.lights,{emissive:{value:new Ce(0)}}]),vertexShader:Mt.meshtoon_vert,fragmentShader:Mt.meshtoon_frag},matcap:{uniforms:Wr([Ie.common,Ie.bumpmap,Ie.normalmap,Ie.displacementmap,Ie.fog,{matcap:{value:null}}]),vertexShader:Mt.meshmatcap_vert,fragmentShader:Mt.meshmatcap_frag},points:{uniforms:Wr([Ie.points,Ie.fog]),vertexShader:Mt.points_vert,fragmentShader:Mt.points_frag},dashed:{uniforms:Wr([Ie.common,Ie.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Mt.linedashed_vert,fragmentShader:Mt.linedashed_frag},depth:{uniforms:Wr([Ie.common,Ie.displacementmap]),vertexShader:Mt.depth_vert,fragmentShader:Mt.depth_frag},normal:{uniforms:Wr([Ie.common,Ie.bumpmap,Ie.normalmap,Ie.displacementmap,{opacity:{value:1}}]),vertexShader:Mt.meshnormal_vert,fragmentShader:Mt.meshnormal_frag},sprite:{uniforms:Wr([Ie.sprite,Ie.fog]),vertexShader:Mt.sprite_vert,fragmentShader:Mt.sprite_frag},background:{uniforms:{uvTransform:{value:new Dt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Mt.background_vert,fragmentShader:Mt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Mt.backgroundCube_vert,fragmentShader:Mt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Mt.cube_vert,fragmentShader:Mt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Mt.equirect_vert,fragmentShader:Mt.equirect_frag},distanceRGBA:{uniforms:Wr([Ie.common,Ie.displacementmap,{referencePosition:{value:new N},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Mt.distanceRGBA_vert,fragmentShader:Mt.distanceRGBA_frag},shadow:{uniforms:Wr([Ie.lights,Ie.fog,{color:{value:new Ce(0)},opacity:{value:1}}]),vertexShader:Mt.shadow_vert,fragmentShader:Mt.shadow_frag}};Ls.physical={uniforms:Wr([Ls.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Dt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Dt},clearcoatNormalScale:{value:new fe(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Dt},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Dt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Dt},sheen:{value:0},sheenColor:{value:new Ce(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Dt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Dt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Dt},transmissionSamplerSize:{value:new fe},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Dt},attenuationDistance:{value:0},attenuationColor:{value:new Ce(0)},specularColor:{value:new Ce(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Dt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Dt}}]),vertexShader:Mt.meshphysical_vert,fragmentShader:Mt.meshphysical_frag};const D0={r:0,b:0,g:0};function Mj(t,e,n,r,i,s,o){const a=new Ce(0);let l=s===!0?0:1,u,c,d=null,p=0,m=null;function v(x,g){let b=!1,S=g.isScene===!0?g.background:null;S&&S.isTexture&&(S=(g.backgroundBlurriness>0?n:e).get(S));const M=t.xr,C=M.getSession&&M.getSession();C&&C.environmentBlendMode==="additive"&&(S=null),S===null?y(a,l):S&&S.isColor&&(y(S,1),b=!0),(t.autoClear||b)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),S&&(S.isCubeTexture||S.mapping===fd)?(c===void 0&&(c=new Hn(new bl(1,1,1),new tr({name:"BackgroundCubeMaterial",uniforms:Yf(Ls.backgroundCube.uniforms),vertexShader:Ls.backgroundCube.vertexShader,fragmentShader:Ls.backgroundCube.fragmentShader,side:Zn,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(E,R,I){this.matrixWorld.copyPosition(I.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(c)),c.material.uniforms.envMap.value=S,c.material.uniforms.flipEnvMap.value=S.isCubeTexture&&S.isRenderTargetTexture===!1?-1:1,c.material.uniforms.backgroundBlurriness.value=g.backgroundBlurriness,c.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,c.material.toneMapped=S.encoding!==lt,(d!==S||p!==S.version||m!==t.toneMapping)&&(c.material.needsUpdate=!0,d=S,p=S.version,m=t.toneMapping),c.layers.enableAll(),x.unshift(c,c.geometry,c.material,0,0,null)):S&&S.isTexture&&(u===void 0&&(u=new Hn(new hd(2,2),new tr({name:"BackgroundMaterial",uniforms:Yf(Ls.background.uniforms),vertexShader:Ls.background.vertexShader,fragmentShader:Ls.background.fragmentShader,side:Hs,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(u)),u.material.uniforms.t2D.value=S,u.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,u.material.toneMapped=S.encoding!==lt,S.matrixAutoUpdate===!0&&S.updateMatrix(),u.material.uniforms.uvTransform.value.copy(S.matrix),(d!==S||p!==S.version||m!==t.toneMapping)&&(u.material.needsUpdate=!0,d=S,p=S.version,m=t.toneMapping),u.layers.enableAll(),x.unshift(u,u.geometry,u.material,0,0,null))}function y(x,g){x.getRGB(D0,u4(t)),r.buffers.color.setClear(D0.r,D0.g,D0.b,g,o)}return{getClearColor:function(){return a},setClearColor:function(x,g=1){a.set(x),l=g,y(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(x){l=x,y(a,l)},render:v}}function Aj(t,e,n,r){const i=t.getParameter(34921),s=r.isWebGL2?null:e.get("OES_vertex_array_object"),o=r.isWebGL2||s!==null,a={},l=x(null);let u=l,c=!1;function d(V,j,Z,ne,z){let J=!1;if(o){const K=y(ne,Z,j);u!==K&&(u=K,m(u.object)),J=g(V,ne,Z,z),J&&b(V,ne,Z,z)}else{const K=j.wireframe===!0;(u.geometry!==ne.id||u.program!==Z.id||u.wireframe!==K)&&(u.geometry=ne.id,u.program=Z.id,u.wireframe=K,J=!0)}z!==null&&n.update(z,34963),(J||c)&&(c=!1,I(V,j,Z,ne),z!==null&&t.bindBuffer(34963,n.get(z).buffer))}function p(){return r.isWebGL2?t.createVertexArray():s.createVertexArrayOES()}function m(V){return r.isWebGL2?t.bindVertexArray(V):s.bindVertexArrayOES(V)}function v(V){return r.isWebGL2?t.deleteVertexArray(V):s.deleteVertexArrayOES(V)}function y(V,j,Z){const ne=Z.wireframe===!0;let z=a[V.id];z===void 0&&(z={},a[V.id]=z);let J=z[j.id];J===void 0&&(J={},z[j.id]=J);let K=J[ne];return K===void 0&&(K=x(p()),J[ne]=K),K}function x(V){const j=[],Z=[],ne=[];for(let z=0;z<i;z++)j[z]=0,Z[z]=0,ne[z]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:j,enabledAttributes:Z,attributeDivisors:ne,object:V,attributes:{},index:null}}function g(V,j,Z,ne){const z=u.attributes,J=j.attributes;let K=0;const ie=Z.getAttributes();for(const re in ie)if(ie[re].location>=0){const le=z[re];let Me=J[re];if(Me===void 0&&(re==="instanceMatrix"&&V.instanceMatrix&&(Me=V.instanceMatrix),re==="instanceColor"&&V.instanceColor&&(Me=V.instanceColor)),le===void 0||le.attribute!==Me||Me&&le.data!==Me.data)return!0;K++}return u.attributesNum!==K||u.index!==ne}function b(V,j,Z,ne){const z={},J=j.attributes;let K=0;const ie=Z.getAttributes();for(const re in ie)if(ie[re].location>=0){let le=J[re];le===void 0&&(re==="instanceMatrix"&&V.instanceMatrix&&(le=V.instanceMatrix),re==="instanceColor"&&V.instanceColor&&(le=V.instanceColor));const Me={};Me.attribute=le,le&&le.data&&(Me.data=le.data),z[re]=Me,K++}u.attributes=z,u.attributesNum=K,u.index=ne}function S(){const V=u.newAttributes;for(let j=0,Z=V.length;j<Z;j++)V[j]=0}function M(V){C(V,0)}function C(V,j){const Z=u.newAttributes,ne=u.enabledAttributes,z=u.attributeDivisors;Z[V]=1,ne[V]===0&&(t.enableVertexAttribArray(V),ne[V]=1),z[V]!==j&&((r.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](V,j),z[V]=j)}function E(){const V=u.newAttributes,j=u.enabledAttributes;for(let Z=0,ne=j.length;Z<ne;Z++)j[Z]!==V[Z]&&(t.disableVertexAttribArray(Z),j[Z]=0)}function R(V,j,Z,ne,z,J){r.isWebGL2===!0&&(Z===5124||Z===5125)?t.vertexAttribIPointer(V,j,Z,z,J):t.vertexAttribPointer(V,j,Z,ne,z,J)}function I(V,j,Z,ne){if(r.isWebGL2===!1&&(V.isInstancedMesh||ne.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;S();const z=ne.attributes,J=Z.getAttributes(),K=j.defaultAttributeValues;for(const ie in J){const re=J[ie];if(re.location>=0){let se=z[ie];if(se===void 0&&(ie==="instanceMatrix"&&V.instanceMatrix&&(se=V.instanceMatrix),ie==="instanceColor"&&V.instanceColor&&(se=V.instanceColor)),se!==void 0){const le=se.normalized,Me=se.itemSize,be=n.get(se);if(be===void 0)continue;const ee=be.buffer,Ve=be.type,We=be.bytesPerElement;if(se.isInterleavedBufferAttribute){const we=se.data,Be=we.stride,ye=se.offset;if(we.isInstancedInterleavedBuffer){for(let ue=0;ue<re.locationSize;ue++)C(re.location+ue,we.meshPerAttribute);V.isInstancedMesh!==!0&&ne._maxInstanceCount===void 0&&(ne._maxInstanceCount=we.meshPerAttribute*we.count)}else for(let ue=0;ue<re.locationSize;ue++)M(re.location+ue);t.bindBuffer(34962,ee);for(let ue=0;ue<re.locationSize;ue++)R(re.location+ue,Me/re.locationSize,Ve,le,Be*We,(ye+Me/re.locationSize*ue)*We)}else{if(se.isInstancedBufferAttribute){for(let we=0;we<re.locationSize;we++)C(re.location+we,se.meshPerAttribute);V.isInstancedMesh!==!0&&ne._maxInstanceCount===void 0&&(ne._maxInstanceCount=se.meshPerAttribute*se.count)}else for(let we=0;we<re.locationSize;we++)M(re.location+we);t.bindBuffer(34962,ee);for(let we=0;we<re.locationSize;we++)R(re.location+we,Me/re.locationSize,Ve,le,Me*We,Me/re.locationSize*we*We)}}else if(K!==void 0){const le=K[ie];if(le!==void 0)switch(le.length){case 2:t.vertexAttrib2fv(re.location,le);break;case 3:t.vertexAttrib3fv(re.location,le);break;case 4:t.vertexAttrib4fv(re.location,le);break;default:t.vertexAttrib1fv(re.location,le)}}}}E()}function P(){H();for(const V in a){const j=a[V];for(const Z in j){const ne=j[Z];for(const z in ne)v(ne[z].object),delete ne[z];delete j[Z]}delete a[V]}}function B(V){if(a[V.id]===void 0)return;const j=a[V.id];for(const Z in j){const ne=j[Z];for(const z in ne)v(ne[z].object),delete ne[z];delete j[Z]}delete a[V.id]}function O(V){for(const j in a){const Z=a[j];if(Z[V.id]===void 0)continue;const ne=Z[V.id];for(const z in ne)v(ne[z].object),delete ne[z];delete Z[V.id]}}function H(){U(),c=!0,u!==l&&(u=l,m(u.object))}function U(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:d,reset:H,resetDefaultState:U,dispose:P,releaseStatesOfGeometry:B,releaseStatesOfProgram:O,initAttributes:S,enableAttribute:M,disableUnusedAttributes:E}}function Ej(t,e,n,r){const i=r.isWebGL2;let s;function o(u){s=u}function a(u,c){t.drawArrays(s,u,c),n.update(c,s,1)}function l(u,c,d){if(d===0)return;let p,m;if(i)p=t,m="drawArraysInstanced";else if(p=e.get("ANGLE_instanced_arrays"),m="drawArraysInstancedANGLE",p===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}p[m](s,u,c,d),n.update(c,s,d)}this.setMode=o,this.render=a,this.renderInstances=l}function Cj(t,e,n){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const R=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(R.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(R){if(R==="highp"){if(t.getShaderPrecisionFormat(35633,36338).precision>0&&t.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";R="mediump"}return R==="mediump"&&t.getShaderPrecisionFormat(35633,36337).precision>0&&t.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&t.constructor.name==="WebGL2RenderingContext";let a=n.precision!==void 0?n.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const u=o||e.has("WEBGL_draw_buffers"),c=n.logarithmicDepthBuffer===!0,d=t.getParameter(34930),p=t.getParameter(35660),m=t.getParameter(3379),v=t.getParameter(34076),y=t.getParameter(34921),x=t.getParameter(36347),g=t.getParameter(36348),b=t.getParameter(36349),S=p>0,M=o||e.has("OES_texture_float"),C=S&&M,E=o?t.getParameter(36183):0;return{isWebGL2:o,drawBuffers:u,getMaxAnisotropy:i,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:c,maxTextures:d,maxVertexTextures:p,maxTextureSize:m,maxCubemapSize:v,maxAttributes:y,maxVertexUniforms:x,maxVaryings:g,maxFragmentUniforms:b,vertexTextures:S,floatFragmentTextures:M,floatVertexTextures:C,maxSamples:E}}function Tj(t){const e=this;let n=null,r=0,i=!1,s=!1;const o=new Ua,a=new Dt,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,p){const m=d.length!==0||p||r!==0||i;return i=p,r=d.length,m},this.beginShadows=function(){s=!0,c(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(d,p){n=c(d,p,0)},this.setState=function(d,p,m){const v=d.clippingPlanes,y=d.clipIntersection,x=d.clipShadows,g=t.get(d);if(!i||v===null||v.length===0||s&&!x)s?c(null):u();else{const b=s?0:r,S=b*4;let M=g.clippingState||null;l.value=M,M=c(v,p,S,m);for(let C=0;C!==S;++C)M[C]=n[C];g.clippingState=M,this.numIntersection=y?this.numPlanes:0,this.numPlanes+=b}};function u(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function c(d,p,m,v){const y=d!==null?d.length:0;let x=null;if(y!==0){if(x=l.value,v!==!0||x===null){const g=m+y*4,b=p.matrixWorldInverse;a.getNormalMatrix(b),(x===null||x.length<g)&&(x=new Float32Array(g));for(let S=0,M=m;S!==y;++S,M+=4)o.copy(d[S]).applyMatrix4(b,a),o.normal.toArray(x,M),x[M+3]=o.constant}l.value=x,l.needsUpdate=!0}return e.numPlanes=y,e.numIntersection=0,x}}function Pj(t){let e=new WeakMap;function n(o,a){return a===Wf?o.mapping=sa:a===Hp&&(o.mapping=ul),o}function r(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===Wf||a===Hp)if(e.has(o)){const l=e.get(o).texture;return n(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const u=new oE(l.height/2);return u.fromEquirectangularTexture(t,o),e.set(o,u),o.addEventListener("dispose",i),n(u.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class pd extends dd{constructor(e=-1,n=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,c=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=u*this.view.offsetX,o=s+u*this.view.width,a-=c*this.view.offsetY,l=a-c*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const bf=4,TR=[.125,.215,.35,.446,.526,.582],ru=20,eS=new pd,PR=new Ce;let tS=null;const Xl=(1+Math.sqrt(5))/2,Cc=1/Xl,RR=[new N(1,1,1),new N(-1,1,1),new N(1,1,-1),new N(-1,1,-1),new N(0,Xl,Cc),new N(0,Xl,-Cc),new N(Cc,0,Xl),new N(-Cc,0,Xl),new N(Xl,Cc,0),new N(-Xl,Cc,0)];class Fw{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100){tS=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),n>0&&this._blur(s,0,0,n),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=DR(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=IR(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(tS),e.scissorTest=!1,L0(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===sa||e.mapping===ul?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),tS=this._renderer.getRenderTarget();const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:Xt,minFilter:Xt,generateMipmaps:!1,type:ls,format:_r,encoding:pi,depthBuffer:!1},i=BR(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=BR(e,n,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Rj(s)),this._blurMaterial=Bj(s,e,n)}return i}_compileMaterial(e){const n=new Hn(this._lodPlanes[0],e);this._renderer.compile(n,eS)}_sceneToCubeUV(e,n,r,i){const a=new Ln(90,1,n,r),l=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],c=this._renderer,d=c.autoClear,p=c.toneMapping;c.getClearColor(PR),c.toneMapping=Ns,c.autoClear=!1;const m=new Bi({name:"PMREM.Background",side:Zn,depthWrite:!1,depthTest:!1}),v=new Hn(new bl,m);let y=!1;const x=e.background;x?x.isColor&&(m.color.copy(x),e.background=null,y=!0):(m.color.copy(PR),y=!0);for(let g=0;g<6;g++){const b=g%3;b===0?(a.up.set(0,l[g],0),a.lookAt(u[g],0,0)):b===1?(a.up.set(0,0,l[g]),a.lookAt(0,u[g],0)):(a.up.set(0,l[g],0),a.lookAt(0,0,u[g]));const S=this._cubeSize;L0(i,b*S,g>2?S:0,S,S),c.setRenderTarget(i),y&&c.render(v,a),c.render(e,a)}v.geometry.dispose(),v.material.dispose(),c.toneMapping=p,c.autoClear=d,e.background=x}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===sa||e.mapping===ul;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=DR()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=IR());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new Hn(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;L0(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(o,eS)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=RR[(i-1)%RR.length];this._blur(e,i-1,i,s,o)}n.autoClear=r}_blur(e,n,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,n,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,n,r,i,s,o,a){const l=this._renderer,u=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const c=3,d=new Hn(this._lodPlanes[i],u),p=u.uniforms,m=this._sizeLods[r]-1,v=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*ru-1),y=s/v,x=isFinite(s)?1+Math.floor(c*y):ru;x>ru&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${x} samples when the maximum is set to ${ru}`);const g=[];let b=0;for(let R=0;R<ru;++R){const I=R/y,P=Math.exp(-I*I/2);g.push(P),R===0?b+=P:R<x&&(b+=2*P)}for(let R=0;R<g.length;R++)g[R]=g[R]/b;p.envMap.value=e.texture,p.samples.value=x,p.weights.value=g,p.latitudinal.value=o==="latitudinal",a&&(p.poleAxis.value=a);const{_lodMax:S}=this;p.dTheta.value=v,p.mipInt.value=S-r;const M=this._sizeLods[i],C=3*M*(i>S-bf?i-S+bf:0),E=4*(this._cubeSize-M);L0(n,C,E,3*M,2*M),l.setRenderTarget(n),l.render(d,eS)}}function Rj(t){const e=[],n=[],r=[];let i=t;const s=t-bf+1+TR.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);n.push(a);let l=1/a;o>t-bf?l=TR[o-t+bf-1]:o===0&&(l=0),r.push(l);const u=1/(a-2),c=-u,d=1+u,p=[c,c,d,c,d,d,c,c,d,d,c,d],m=6,v=6,y=3,x=2,g=1,b=new Float32Array(y*v*m),S=new Float32Array(x*v*m),M=new Float32Array(g*v*m);for(let E=0;E<m;E++){const R=E%3*2/3-1,I=E>2?0:-1,P=[R,I,0,R+2/3,I,0,R+2/3,I+1,0,R,I,0,R+2/3,I+1,0,R,I+1,0];b.set(P,y*v*E),S.set(p,x*v*E);const B=[E,E,E,E,E,E];M.set(B,g*v*E)}const C=new gt;C.setAttribute("position",new Ut(b,y)),C.setAttribute("uv",new Ut(S,x)),C.setAttribute("faceIndex",new Ut(M,g)),e.push(C),i>bf&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function BR(t,e,n){const r=new Fn(t,e,n);return r.texture.mapping=fd,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function L0(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function Bj(t,e,n){const r=new Float32Array(ru),i=new N(0,1,0);return new tr({name:"SphericalGaussianBlur",defines:{n:ru,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:aE(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Fr,depthTest:!1,depthWrite:!1})}function IR(){return new tr({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:aE(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Fr,depthTest:!1,depthWrite:!1})}function DR(){return new tr({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:aE(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Fr,depthTest:!1,depthWrite:!1})}function aE(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Ij(t){let e=new WeakMap,n=null;function r(a){if(a&&a.isTexture){const l=a.mapping,u=l===Wf||l===Hp,c=l===sa||l===ul;if(u||c)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let d=e.get(a);return n===null&&(n=new Fw(t)),d=u?n.fromEquirectangular(a,d):n.fromCubemap(a,d),e.set(a,d),d.texture}else{if(e.has(a))return e.get(a).texture;{const d=a.image;if(u&&d&&d.height>0||c&&d&&i(d)){n===null&&(n=new Fw(t));const p=u?n.fromEquirectangular(a):n.fromCubemap(a);return e.set(a,p),a.addEventListener("dispose",s),p.texture}else return null}}}return a}function i(a){let l=0;const u=6;for(let c=0;c<u;c++)a[c]!==void 0&&l++;return l===u}function s(a){const l=a.target;l.removeEventListener("dispose",s);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function o(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:o}}function Dj(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(r){r.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(r){const i=n(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function Lj(t,e,n,r){const i={},s=new WeakMap;function o(d){const p=d.target;p.index!==null&&e.remove(p.index);for(const v in p.attributes)e.remove(p.attributes[v]);p.removeEventListener("dispose",o),delete i[p.id];const m=s.get(p);m&&(e.remove(m),s.delete(p)),r.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,n.memory.geometries--}function a(d,p){return i[p.id]===!0||(p.addEventListener("dispose",o),i[p.id]=!0,n.memory.geometries++),p}function l(d){const p=d.attributes;for(const v in p)e.update(p[v],34962);const m=d.morphAttributes;for(const v in m){const y=m[v];for(let x=0,g=y.length;x<g;x++)e.update(y[x],34962)}}function u(d){const p=[],m=d.index,v=d.attributes.position;let y=0;if(m!==null){const b=m.array;y=m.version;for(let S=0,M=b.length;S<M;S+=3){const C=b[S+0],E=b[S+1],R=b[S+2];p.push(C,E,E,R,R,C)}}else{const b=v.array;y=v.version;for(let S=0,M=b.length/3-1;S<M;S+=3){const C=S+0,E=S+1,R=S+2;p.push(C,E,E,R,R,C)}}const x=new(a4(p)?sE:iE)(p,1);x.version=y;const g=s.get(d);g&&e.remove(g),s.set(d,x)}function c(d){const p=s.get(d);if(p){const m=d.index;m!==null&&p.version<m.version&&u(d)}else u(d);return s.get(d)}return{get:a,update:l,getWireframeAttribute:c}}function Oj(t,e,n,r){const i=r.isWebGL2;let s;function o(p){s=p}let a,l;function u(p){a=p.type,l=p.bytesPerElement}function c(p,m){t.drawElements(s,m,a,p*l),n.update(m,s,1)}function d(p,m,v){if(v===0)return;let y,x;if(i)y=t,x="drawElementsInstanced";else if(y=e.get("ANGLE_instanced_arrays"),x="drawElementsInstancedANGLE",y===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}y[x](s,m,a,p*l,v),n.update(m,s,v)}this.setMode=o,this.setIndex=u,this.render=c,this.renderInstances=d}function Fj(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(n.calls++,o){case 4:n.triangles+=a*(s/3);break;case 1:n.lines+=a*(s/2);break;case 3:n.lines+=a*(s-1);break;case 2:n.lines+=a*s;break;case 0:n.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){n.frame++,n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function kj(t,e){return t[0]-e[0]}function Nj(t,e){return Math.abs(e[1])-Math.abs(t[1])}function Uj(t,e,n){const r={},i=new Float32Array(8),s=new WeakMap,o=new Nt,a=[];for(let u=0;u<8;u++)a[u]=[u,0];function l(u,c,d){const p=u.morphTargetInfluences;if(e.isWebGL2===!0){const v=c.morphAttributes.position||c.morphAttributes.normal||c.morphAttributes.color,y=v!==void 0?v.length:0;let x=s.get(c);if(x===void 0||x.count!==y){let j=function(){U.dispose(),s.delete(c),c.removeEventListener("dispose",j)};var m=j;x!==void 0&&x.texture.dispose();const S=c.morphAttributes.position!==void 0,M=c.morphAttributes.normal!==void 0,C=c.morphAttributes.color!==void 0,E=c.morphAttributes.position||[],R=c.morphAttributes.normal||[],I=c.morphAttributes.color||[];let P=0;S===!0&&(P=1),M===!0&&(P=2),C===!0&&(P=3);let B=c.attributes.position.count*P,O=1;B>e.maxTextureSize&&(O=Math.ceil(B/e.maxTextureSize),B=e.maxTextureSize);const H=new Float32Array(B*O*4*y),U=new vx(H,B,O,y);U.type=Pi,U.needsUpdate=!0;const V=P*4;for(let Z=0;Z<y;Z++){const ne=E[Z],z=R[Z],J=I[Z],K=B*O*4*Z;for(let ie=0;ie<ne.count;ie++){const re=ie*V;S===!0&&(o.fromBufferAttribute(ne,ie),H[K+re+0]=o.x,H[K+re+1]=o.y,H[K+re+2]=o.z,H[K+re+3]=0),M===!0&&(o.fromBufferAttribute(z,ie),H[K+re+4]=o.x,H[K+re+5]=o.y,H[K+re+6]=o.z,H[K+re+7]=0),C===!0&&(o.fromBufferAttribute(J,ie),H[K+re+8]=o.x,H[K+re+9]=o.y,H[K+re+10]=o.z,H[K+re+11]=J.itemSize===4?o.w:1)}}x={count:y,texture:U,size:new fe(B,O)},s.set(c,x),c.addEventListener("dispose",j)}let g=0;for(let S=0;S<p.length;S++)g+=p[S];const b=c.morphTargetsRelative?1:1-g;d.getUniforms().setValue(t,"morphTargetBaseInfluence",b),d.getUniforms().setValue(t,"morphTargetInfluences",p),d.getUniforms().setValue(t,"morphTargetsTexture",x.texture,n),d.getUniforms().setValue(t,"morphTargetsTextureSize",x.size)}else{const v=p===void 0?0:p.length;let y=r[c.id];if(y===void 0||y.length!==v){y=[];for(let M=0;M<v;M++)y[M]=[M,0];r[c.id]=y}for(let M=0;M<v;M++){const C=y[M];C[0]=M,C[1]=p[M]}y.sort(Nj);for(let M=0;M<8;M++)M<v&&y[M][1]?(a[M][0]=y[M][0],a[M][1]=y[M][1]):(a[M][0]=Number.MAX_SAFE_INTEGER,a[M][1]=0);a.sort(kj);const x=c.morphAttributes.position,g=c.morphAttributes.normal;let b=0;for(let M=0;M<8;M++){const C=a[M],E=C[0],R=C[1];E!==Number.MAX_SAFE_INTEGER&&R?(x&&c.getAttribute("morphTarget"+M)!==x[E]&&c.setAttribute("morphTarget"+M,x[E]),g&&c.getAttribute("morphNormal"+M)!==g[E]&&c.setAttribute("morphNormal"+M,g[E]),i[M]=R,b+=R):(x&&c.hasAttribute("morphTarget"+M)===!0&&c.deleteAttribute("morphTarget"+M),g&&c.hasAttribute("morphNormal"+M)===!0&&c.deleteAttribute("morphNormal"+M),i[M]=0)}const S=c.morphTargetsRelative?1:1-b;d.getUniforms().setValue(t,"morphTargetBaseInfluence",S),d.getUniforms().setValue(t,"morphTargetInfluences",i)}}return{update:l}}function zj(t,e,n,r){let i=new WeakMap;function s(l){const u=r.render.frame,c=l.geometry,d=e.get(l,c);return i.get(d)!==u&&(e.update(d),i.set(d,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),n.update(l.instanceMatrix,34962),l.instanceColor!==null&&n.update(l.instanceColor,34962)),d}function o(){i=new WeakMap}function a(l){const u=l.target;u.removeEventListener("dispose",a),n.remove(u.instanceMatrix),u.instanceColor!==null&&n.remove(u.instanceColor)}return{update:s,dispose:o}}const h4=new ln,p4=new vx,m4=new rE,g4=new vm,LR=[],OR=[],FR=new Float32Array(16),kR=new Float32Array(9),NR=new Float32Array(4);function md(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let s=LR[i];if(s===void 0&&(s=new Float32Array(i),LR[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=n,t[o].toArray(s,a)}return s}function nr(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function rr(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function xx(t,e){let n=OR[e];n===void 0&&(n=new Int32Array(e),OR[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function Hj(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function Gj(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(nr(n,e))return;t.uniform2fv(this.addr,e),rr(n,e)}}function $j(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(nr(n,e))return;t.uniform3fv(this.addr,e),rr(n,e)}}function Vj(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(nr(n,e))return;t.uniform4fv(this.addr,e),rr(n,e)}}function Wj(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(nr(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),rr(n,e)}else{if(nr(n,r))return;NR.set(r),t.uniformMatrix2fv(this.addr,!1,NR),rr(n,r)}}function jj(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(nr(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),rr(n,e)}else{if(nr(n,r))return;kR.set(r),t.uniformMatrix3fv(this.addr,!1,kR),rr(n,r)}}function Jj(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(nr(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),rr(n,e)}else{if(nr(n,r))return;FR.set(r),t.uniformMatrix4fv(this.addr,!1,FR),rr(n,r)}}function Kj(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function Xj(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(nr(n,e))return;t.uniform2iv(this.addr,e),rr(n,e)}}function Yj(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(nr(n,e))return;t.uniform3iv(this.addr,e),rr(n,e)}}function Qj(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(nr(n,e))return;t.uniform4iv(this.addr,e),rr(n,e)}}function Zj(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function qj(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(nr(n,e))return;t.uniform2uiv(this.addr,e),rr(n,e)}}function eJ(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(nr(n,e))return;t.uniform3uiv(this.addr,e),rr(n,e)}}function tJ(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(nr(n,e))return;t.uniform4uiv(this.addr,e),rr(n,e)}}function nJ(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2D(e||h4,i)}function rJ(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||m4,i)}function iJ(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||g4,i)}function sJ(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||p4,i)}function oJ(t){switch(t){case 5126:return Hj;case 35664:return Gj;case 35665:return $j;case 35666:return Vj;case 35674:return Wj;case 35675:return jj;case 35676:return Jj;case 5124:case 35670:return Kj;case 35667:case 35671:return Xj;case 35668:case 35672:return Yj;case 35669:case 35673:return Qj;case 5125:return Zj;case 36294:return qj;case 36295:return eJ;case 36296:return tJ;case 35678:case 36198:case 36298:case 36306:case 35682:return nJ;case 35679:case 36299:case 36307:return rJ;case 35680:case 36300:case 36308:case 36293:return iJ;case 36289:case 36303:case 36311:case 36292:return sJ}}function aJ(t,e){t.uniform1fv(this.addr,e)}function lJ(t,e){const n=md(e,this.size,2);t.uniform2fv(this.addr,n)}function uJ(t,e){const n=md(e,this.size,3);t.uniform3fv(this.addr,n)}function cJ(t,e){const n=md(e,this.size,4);t.uniform4fv(this.addr,n)}function fJ(t,e){const n=md(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function dJ(t,e){const n=md(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function hJ(t,e){const n=md(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function pJ(t,e){t.uniform1iv(this.addr,e)}function mJ(t,e){t.uniform2iv(this.addr,e)}function gJ(t,e){t.uniform3iv(this.addr,e)}function vJ(t,e){t.uniform4iv(this.addr,e)}function yJ(t,e){t.uniform1uiv(this.addr,e)}function xJ(t,e){t.uniform2uiv(this.addr,e)}function _J(t,e){t.uniform3uiv(this.addr,e)}function SJ(t,e){t.uniform4uiv(this.addr,e)}function bJ(t,e,n){const r=this.cache,i=e.length,s=xx(n,i);nr(r,s)||(t.uniform1iv(this.addr,s),rr(r,s));for(let o=0;o!==i;++o)n.setTexture2D(e[o]||h4,s[o])}function wJ(t,e,n){const r=this.cache,i=e.length,s=xx(n,i);nr(r,s)||(t.uniform1iv(this.addr,s),rr(r,s));for(let o=0;o!==i;++o)n.setTexture3D(e[o]||m4,s[o])}function MJ(t,e,n){const r=this.cache,i=e.length,s=xx(n,i);nr(r,s)||(t.uniform1iv(this.addr,s),rr(r,s));for(let o=0;o!==i;++o)n.setTextureCube(e[o]||g4,s[o])}function AJ(t,e,n){const r=this.cache,i=e.length,s=xx(n,i);nr(r,s)||(t.uniform1iv(this.addr,s),rr(r,s));for(let o=0;o!==i;++o)n.setTexture2DArray(e[o]||p4,s[o])}function EJ(t){switch(t){case 5126:return aJ;case 35664:return lJ;case 35665:return uJ;case 35666:return cJ;case 35674:return fJ;case 35675:return dJ;case 35676:return hJ;case 5124:case 35670:return pJ;case 35667:case 35671:return mJ;case 35668:case 35672:return gJ;case 35669:case 35673:return vJ;case 5125:return yJ;case 36294:return xJ;case 36295:return _J;case 36296:return SJ;case 35678:case 36198:case 36298:case 36306:case 35682:return bJ;case 35679:case 36299:case 36307:return wJ;case 35680:case 36300:case 36308:case 36293:return MJ;case 36289:case 36303:case 36311:case 36292:return AJ}}class CJ{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.setValue=oJ(n.type)}}class TJ{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.size=n.size,this.setValue=EJ(n.type)}}class PJ{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,n[a.id],r)}}}const nS=/(\w+)(\])?(\[|\.)?/g;function UR(t,e){t.seq.push(e),t.map[e.id]=e}function RJ(t,e,n){const r=t.name,i=r.length;for(nS.lastIndex=0;;){const s=nS.exec(r),o=nS.lastIndex;let a=s[1];const l=s[2]==="]",u=s[3];if(l&&(a=a|0),u===void 0||u==="["&&o+2===i){UR(n,u===void 0?new CJ(a,t,e):new TJ(a,t,e));break}else{let d=n.map[a];d===void 0&&(d=new PJ(a),UR(n,d)),n=d}}}class Gv{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,35718);for(let i=0;i<r;++i){const s=e.getActiveUniform(n,i),o=e.getUniformLocation(n,s.name);RJ(s,o,this)}}setValue(e,n,r,i){const s=this.map[n];s!==void 0&&s.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let s=0,o=n.length;s!==o;++s){const a=n[s],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in n&&r.push(o)}return r}}function zR(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}let BJ=0;function IJ(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,n.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${n[o]}`)}return r.join(`
`)}function DJ(t){switch(t){case pi:return["Linear","( value )"];case lt:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",t),["Linear","( value )"]}}function HR(t,e,n){const r=t.getShaderParameter(e,35713),i=t.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[1]);return n.toUpperCase()+`

`+i+`

`+IJ(t.getShaderSource(e),o)}else return i}function LJ(t,e){const n=DJ(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function OJ(t,e){let n;switch(e){case kN:n="Linear";break;case NN:n="Reinhard";break;case UN:n="OptimizedCineon";break;case KA:n="ACESFilmic";break;case zN:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function FJ(t){return[t.extensionDerivatives||t.envMapCubeUVHeight||t.bumpMap||t.normalMapTangentSpace||t.clearcoatNormalMap||t.flatShading||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(jh).join(`
`)}function kJ(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function NJ(t,e){const n={},r=t.getProgramParameter(e,35721);for(let i=0;i<r;i++){const s=t.getActiveAttrib(e,i),o=s.name;let a=1;s.type===35674&&(a=2),s.type===35675&&(a=3),s.type===35676&&(a=4),n[o]={type:s.type,location:t.getAttribLocation(e,o),locationSize:a}}return n}function jh(t){return t!==""}function GR(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function $R(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const UJ=/^[ \t]*#include +<([\w\d./]+)>/gm;function kw(t){return t.replace(UJ,zJ)}function zJ(t,e){const n=Mt[e];if(n===void 0)throw new Error("Can not resolve #include <"+e+">");return kw(n)}const HJ=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function VR(t){return t.replace(HJ,GJ)}function GJ(t,e,n,r){let i="";for(let s=parseInt(e);s<parseInt(n);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function WR(t){let e="precision "+t.precision+` float;
precision `+t.precision+" int;";return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function $J(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===dx?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===ap?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===au&&(e="SHADOWMAP_TYPE_VSM"),e}function VJ(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case sa:case ul:e="ENVMAP_TYPE_CUBE";break;case fd:e="ENVMAP_TYPE_CUBE_UV";break}return e}function WJ(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case ul:e="ENVMAP_MODE_REFRACTION";break}return e}function jJ(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case mm:e="ENVMAP_BLENDING_MULTIPLY";break;case ON:e="ENVMAP_BLENDING_MIX";break;case FN:e="ENVMAP_BLENDING_ADD";break}return e}function JJ(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function KJ(t,e,n,r){const i=t.getContext(),s=n.defines;let o=n.vertexShader,a=n.fragmentShader;const l=$J(n),u=VJ(n),c=WJ(n),d=jJ(n),p=JJ(n),m=n.isWebGL2?"":FJ(n),v=kJ(s),y=i.createProgram();let x,g,b=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(x=[v].filter(jh).join(`
`),x.length>0&&(x+=`
`),g=[m,v].filter(jh).join(`
`),g.length>0&&(g+=`
`)):(x=[WR(n),"#define SHADER_NAME "+n.shaderName,v,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs2?"#define USE_UV2":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(jh).join(`
`),g=[m,WR(n),"#define SHADER_NAME "+n.shaderName,v,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.envMap?"#define "+c:"",n.envMap?"#define "+d:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs2?"#define USE_UV2":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Ns?"#define TONE_MAPPING":"",n.toneMapping!==Ns?Mt.tonemapping_pars_fragment:"",n.toneMapping!==Ns?OJ("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Mt.encodings_pars_fragment,LJ("linearToOutputTexel",n.outputEncoding),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(jh).join(`
`)),o=kw(o),o=GR(o,n),o=$R(o,n),a=kw(a),a=GR(a,n),a=$R(a,n),o=VR(o),a=VR(a),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(b=`#version 300 es
`,x=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+x,g=["#define varying in",n.glslVersion===Lw?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===Lw?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+g);const S=b+x+o,M=b+g+a,C=zR(i,35633,S),E=zR(i,35632,M);if(i.attachShader(y,C),i.attachShader(y,E),n.index0AttributeName!==void 0?i.bindAttribLocation(y,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(y,0,"position"),i.linkProgram(y),t.debug.checkShaderErrors){const P=i.getProgramInfoLog(y).trim(),B=i.getShaderInfoLog(C).trim(),O=i.getShaderInfoLog(E).trim();let H=!0,U=!0;if(i.getProgramParameter(y,35714)===!1)if(H=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,y,C,E);else{const V=HR(i,C,"vertex"),j=HR(i,E,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(y,35715)+`

Program Info Log: `+P+`
`+V+`
`+j)}else P!==""?console.warn("THREE.WebGLProgram: Program Info Log:",P):(B===""||O==="")&&(U=!1);U&&(this.diagnostics={runnable:H,programLog:P,vertexShader:{log:B,prefix:x},fragmentShader:{log:O,prefix:g}})}i.deleteShader(C),i.deleteShader(E);let R;this.getUniforms=function(){return R===void 0&&(R=new Gv(i,y)),R};let I;return this.getAttributes=function(){return I===void 0&&(I=NJ(i,y)),I},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(y),this.program=void 0},this.name=n.shaderName,this.id=BJ++,this.cacheKey=e,this.usedTimes=1,this.program=y,this.vertexShader=C,this.fragmentShader=E,this}let XJ=0;class YJ{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new QJ(e),n.set(e,r)),r}}class QJ{constructor(e){this.id=XJ++,this.code=e,this.usedTimes=0}}function ZJ(t,e,n,r,i,s,o){const a=new xu,l=new YJ,u=[],c=i.isWebGL2,d=i.logarithmicDepthBuffer,p=i.vertexTextures;let m=i.precision;const v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function y(P){return P===1?"uv2":"uv"}function x(P,B,O,H,U){const V=H.fog,j=U.geometry,Z=P.isMeshStandardMaterial?H.environment:null,ne=(P.isMeshStandardMaterial?n:e).get(P.envMap||Z),z=ne&&ne.mapping===fd?ne.image.height:null,J=v[P.type];P.precision!==null&&(m=i.getMaxPrecision(P.precision),m!==P.precision&&console.warn("THREE.WebGLProgram.getParameters:",P.precision,"not supported, using",m,"instead."));const K=j.morphAttributes.position||j.morphAttributes.normal||j.morphAttributes.color,ie=K!==void 0?K.length:0;let re=0;j.morphAttributes.position!==void 0&&(re=1),j.morphAttributes.normal!==void 0&&(re=2),j.morphAttributes.color!==void 0&&(re=3);let se,le,Me,be;if(J){const ke=Ls[J];se=ke.vertexShader,le=ke.fragmentShader}else se=P.vertexShader,le=P.fragmentShader,l.update(P),Me=l.getVertexShaderID(P),be=l.getFragmentShaderID(P);const ee=t.getRenderTarget(),Ve=U.isInstancedMesh===!0,We=!!P.map,we=!!P.matcap,Be=!!ne,ye=!!P.aoMap,ue=!!P.lightMap,xe=!!P.bumpMap,Le=!!P.normalMap,Re=!!P.displacementMap,qe=!!P.emissiveMap,et=!!P.metalnessMap,Ke=!!P.roughnessMap,at=P.clearcoat>0,St=P.iridescence>0,k=P.sheen>0,F=P.transmission>0,Q=at&&!!P.clearcoatMap,ve=at&&!!P.clearcoatNormalMap,_e=at&&!!P.clearcoatRoughnessMap,Pe=St&&!!P.iridescenceMap,tt=St&&!!P.iridescenceThicknessMap,Oe=k&&!!P.sheenColorMap,he=k&&!!P.sheenRoughnessMap,Ge=!!P.specularMap,Xe=!!P.specularColorMap,nt=!!P.specularIntensityMap,Ne=F&&!!P.transmissionMap,je=F&&!!P.thicknessMap,bt=!!P.gradientMap,Ft=!!P.alphaMap,cn=P.alphaTest>0,X=!!P.extensions,me=!!j.attributes.uv2;return{isWebGL2:c,shaderID:J,shaderName:P.type,vertexShader:se,fragmentShader:le,defines:P.defines,customVertexShaderID:Me,customFragmentShaderID:be,isRawShaderMaterial:P.isRawShaderMaterial===!0,glslVersion:P.glslVersion,precision:m,instancing:Ve,instancingColor:Ve&&U.instanceColor!==null,supportsVertexTextures:p,outputEncoding:ee===null?t.outputEncoding:ee.isXRRenderTarget===!0?ee.texture.encoding:pi,map:We,matcap:we,envMap:Be,envMapMode:Be&&ne.mapping,envMapCubeUVHeight:z,aoMap:ye,lightMap:ue,bumpMap:xe,normalMap:Le,displacementMap:p&&Re,emissiveMap:qe,normalMapObjectSpace:Le&&P.normalMapType===r4,normalMapTangentSpace:Le&&P.normalMapType===ua,decodeVideoTexture:We&&P.map.isVideoTexture===!0&&P.map.encoding===lt,metalnessMap:et,roughnessMap:Ke,clearcoat:at,clearcoatMap:Q,clearcoatNormalMap:ve,clearcoatRoughnessMap:_e,iridescence:St,iridescenceMap:Pe,iridescenceThicknessMap:tt,sheen:k,sheenColorMap:Oe,sheenRoughnessMap:he,specularMap:Ge,specularColorMap:Xe,specularIntensityMap:nt,transmission:F,transmissionMap:Ne,thicknessMap:je,gradientMap:bt,opaque:P.transparent===!1&&P.blending===vu,alphaMap:Ft,alphaTest:cn,combine:P.combine,mapUv:We&&y(P.map.channel),aoMapUv:ye&&y(P.aoMap.channel),lightMapUv:ue&&y(P.lightMap.channel),bumpMapUv:xe&&y(P.bumpMap.channel),normalMapUv:Le&&y(P.normalMap.channel),displacementMapUv:Re&&y(P.displacementMap.channel),emissiveMapUv:qe&&y(P.emissiveMap.channel),metalnessMapUv:et&&y(P.metalnessMap.channel),roughnessMapUv:Ke&&y(P.roughnessMap.channel),clearcoatMapUv:Q&&y(P.clearcoatMap.channel),clearcoatNormalMapUv:ve&&y(P.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:_e&&y(P.clearcoatRoughnessMap.channel),iridescenceMapUv:Pe&&y(P.iridescenceMap.channel),iridescenceThicknessMapUv:tt&&y(P.iridescenceThicknessMap.channel),sheenColorMapUv:Oe&&y(P.sheenColorMap.channel),sheenRoughnessMapUv:he&&y(P.sheenRoughnessMap.channel),specularMapUv:Ge&&y(P.specularMap.channel),specularColorMapUv:Xe&&y(P.specularColorMap.channel),specularIntensityMapUv:nt&&y(P.specularIntensityMap.channel),transmissionMapUv:Ne&&y(P.transmissionMap.channel),thicknessMapUv:je&&y(P.thicknessMap.channel),alphaMapUv:Ft&&y(P.alphaMap.channel),vertexTangents:Le&&!!j.attributes.tangent,vertexColors:P.vertexColors,vertexAlphas:P.vertexColors===!0&&!!j.attributes.color&&j.attributes.color.itemSize===4,vertexUvs2:me,pointsUvs:U.isPoints===!0&&!!j.attributes.uv&&(We||Ft),fog:!!V,useFog:P.fog===!0,fogExp2:V&&V.isFogExp2,flatShading:P.flatShading===!0,sizeAttenuation:P.sizeAttenuation===!0,logarithmicDepthBuffer:d,skinning:U.isSkinnedMesh===!0,morphTargets:j.morphAttributes.position!==void 0,morphNormals:j.morphAttributes.normal!==void 0,morphColors:j.morphAttributes.color!==void 0,morphTargetsCount:ie,morphTextureStride:re,numDirLights:B.directional.length,numPointLights:B.point.length,numSpotLights:B.spot.length,numSpotLightMaps:B.spotLightMap.length,numRectAreaLights:B.rectArea.length,numHemiLights:B.hemi.length,numDirLightShadows:B.directionalShadowMap.length,numPointLightShadows:B.pointShadowMap.length,numSpotLightShadows:B.spotShadowMap.length,numSpotLightShadowsWithMaps:B.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:P.dithering,shadowMapEnabled:t.shadowMap.enabled&&O.length>0,shadowMapType:t.shadowMap.type,toneMapping:P.toneMapped?t.toneMapping:Ns,useLegacyLights:t.useLegacyLights,premultipliedAlpha:P.premultipliedAlpha,doubleSided:P.side===Dr,flipSided:P.side===Zn,useDepthPacking:P.depthPacking>=0,depthPacking:P.depthPacking||0,index0AttributeName:P.index0AttributeName,extensionDerivatives:X&&P.extensions.derivatives===!0,extensionFragDepth:X&&P.extensions.fragDepth===!0,extensionDrawBuffers:X&&P.extensions.drawBuffers===!0,extensionShaderTextureLOD:X&&P.extensions.shaderTextureLOD===!0,rendererExtensionFragDepth:c||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:c||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:c||r.has("EXT_shader_texture_lod"),customProgramCacheKey:P.customProgramCacheKey()}}function g(P){const B=[];if(P.shaderID?B.push(P.shaderID):(B.push(P.customVertexShaderID),B.push(P.customFragmentShaderID)),P.defines!==void 0)for(const O in P.defines)B.push(O),B.push(P.defines[O]);return P.isRawShaderMaterial===!1&&(b(B,P),S(B,P),B.push(t.outputEncoding)),B.push(P.customProgramCacheKey),B.join()}function b(P,B){P.push(B.precision),P.push(B.outputEncoding),P.push(B.envMapMode),P.push(B.envMapCubeUVHeight),P.push(B.mapUv),P.push(B.alphaMapUv),P.push(B.lightMapUv),P.push(B.aoMapUv),P.push(B.bumpMapUv),P.push(B.normalMapUv),P.push(B.displacementMapUv),P.push(B.emissiveMapUv),P.push(B.metalnessMapUv),P.push(B.roughnessMapUv),P.push(B.clearcoatMapUv),P.push(B.clearcoatNormalMapUv),P.push(B.clearcoatRoughnessMapUv),P.push(B.iridescenceMapUv),P.push(B.iridescenceThicknessMapUv),P.push(B.sheenColorMapUv),P.push(B.sheenRoughnessMapUv),P.push(B.specularMapUv),P.push(B.specularColorMapUv),P.push(B.specularIntensityMapUv),P.push(B.transmissionMapUv),P.push(B.thicknessMapUv),P.push(B.combine),P.push(B.fogExp2),P.push(B.sizeAttenuation),P.push(B.morphTargetsCount),P.push(B.morphAttributeCount),P.push(B.numDirLights),P.push(B.numPointLights),P.push(B.numSpotLights),P.push(B.numSpotLightMaps),P.push(B.numHemiLights),P.push(B.numRectAreaLights),P.push(B.numDirLightShadows),P.push(B.numPointLightShadows),P.push(B.numSpotLightShadows),P.push(B.numSpotLightShadowsWithMaps),P.push(B.shadowMapType),P.push(B.toneMapping),P.push(B.numClippingPlanes),P.push(B.numClipIntersection),P.push(B.depthPacking)}function S(P,B){a.disableAll(),B.isWebGL2&&a.enable(0),B.supportsVertexTextures&&a.enable(1),B.instancing&&a.enable(2),B.instancingColor&&a.enable(3),B.matcap&&a.enable(4),B.envMap&&a.enable(5),B.normalMapObjectSpace&&a.enable(6),B.normalMapTangentSpace&&a.enable(7),B.clearcoat&&a.enable(8),B.iridescence&&a.enable(9),B.alphaTest&&a.enable(10),B.vertexColors&&a.enable(11),B.vertexAlphas&&a.enable(12),B.vertexUvs2&&a.enable(13),B.vertexTangents&&a.enable(14),P.push(a.mask),a.disableAll(),B.fog&&a.enable(0),B.useFog&&a.enable(1),B.flatShading&&a.enable(2),B.logarithmicDepthBuffer&&a.enable(3),B.skinning&&a.enable(4),B.morphTargets&&a.enable(5),B.morphNormals&&a.enable(6),B.morphColors&&a.enable(7),B.premultipliedAlpha&&a.enable(8),B.shadowMapEnabled&&a.enable(9),B.useLegacyLights&&a.enable(10),B.doubleSided&&a.enable(11),B.flipSided&&a.enable(12),B.useDepthPacking&&a.enable(13),B.dithering&&a.enable(14),B.transmission&&a.enable(15),B.sheen&&a.enable(16),B.decodeVideoTexture&&a.enable(17),B.opaque&&a.enable(18),B.pointsUvs&&a.enable(19),P.push(a.mask)}function M(P){const B=v[P.type];let O;if(B){const H=Ls[B];O=c4.clone(H.uniforms)}else O=P.uniforms;return O}function C(P,B){let O;for(let H=0,U=u.length;H<U;H++){const V=u[H];if(V.cacheKey===B){O=V,++O.usedTimes;break}}return O===void 0&&(O=new KJ(t,B,P,s),u.push(O)),O}function E(P){if(--P.usedTimes===0){const B=u.indexOf(P);u[B]=u[u.length-1],u.pop(),P.destroy()}}function R(P){l.remove(P)}function I(){l.dispose()}return{getParameters:x,getProgramCacheKey:g,getUniforms:M,acquireProgram:C,releaseProgram:E,releaseShaderCache:R,programs:u,dispose:I}}function qJ(){let t=new WeakMap;function e(s){let o=t.get(s);return o===void 0&&(o={},t.set(s,o)),o}function n(s){t.delete(s)}function r(s,o,a){t.get(s)[o]=a}function i(){t=new WeakMap}return{get:e,remove:n,update:r,dispose:i}}function eK(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function jR(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function JR(){const t=[];let e=0;const n=[],r=[],i=[];function s(){e=0,n.length=0,r.length=0,i.length=0}function o(d,p,m,v,y,x){let g=t[e];return g===void 0?(g={id:d.id,object:d,geometry:p,material:m,groupOrder:v,renderOrder:d.renderOrder,z:y,group:x},t[e]=g):(g.id=d.id,g.object=d,g.geometry=p,g.material=m,g.groupOrder=v,g.renderOrder=d.renderOrder,g.z=y,g.group=x),e++,g}function a(d,p,m,v,y,x){const g=o(d,p,m,v,y,x);m.transmission>0?r.push(g):m.transparent===!0?i.push(g):n.push(g)}function l(d,p,m,v,y,x){const g=o(d,p,m,v,y,x);m.transmission>0?r.unshift(g):m.transparent===!0?i.unshift(g):n.unshift(g)}function u(d,p){n.length>1&&n.sort(d||eK),r.length>1&&r.sort(p||jR),i.length>1&&i.sort(p||jR)}function c(){for(let d=e,p=t.length;d<p;d++){const m=t[d];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:n,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:c,sort:u}}function tK(){let t=new WeakMap;function e(r,i){const s=t.get(r);let o;return s===void 0?(o=new JR,t.set(r,[o])):i>=s.length?(o=new JR,s.push(o)):o=s[i],o}function n(){t=new WeakMap}return{get:e,dispose:n}}function nK(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new N,color:new Ce};break;case"SpotLight":n={position:new N,direction:new N,color:new Ce,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new N,color:new Ce,distance:0,decay:0};break;case"HemisphereLight":n={direction:new N,skyColor:new Ce,groundColor:new Ce};break;case"RectAreaLight":n={color:new Ce,position:new N,halfWidth:new N,halfHeight:new N};break}return t[e.id]=n,n}}}function rK(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new fe};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new fe};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new fe,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let iK=0;function sK(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function oK(t,e){const n=new nK,r=rK(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let c=0;c<9;c++)i.probe.push(new N);const s=new N,o=new ut,a=new ut;function l(c,d){let p=0,m=0,v=0;for(let O=0;O<9;O++)i.probe[O].set(0,0,0);let y=0,x=0,g=0,b=0,S=0,M=0,C=0,E=0,R=0,I=0;c.sort(sK);const P=d===!0?Math.PI:1;for(let O=0,H=c.length;O<H;O++){const U=c[O],V=U.color,j=U.intensity,Z=U.distance,ne=U.shadow&&U.shadow.map?U.shadow.map.texture:null;if(U.isAmbientLight)p+=V.r*j*P,m+=V.g*j*P,v+=V.b*j*P;else if(U.isLightProbe)for(let z=0;z<9;z++)i.probe[z].addScaledVector(U.sh.coefficients[z],j);else if(U.isDirectionalLight){const z=n.get(U);if(z.color.copy(U.color).multiplyScalar(U.intensity*P),U.castShadow){const J=U.shadow,K=r.get(U);K.shadowBias=J.bias,K.shadowNormalBias=J.normalBias,K.shadowRadius=J.radius,K.shadowMapSize=J.mapSize,i.directionalShadow[y]=K,i.directionalShadowMap[y]=ne,i.directionalShadowMatrix[y]=U.shadow.matrix,M++}i.directional[y]=z,y++}else if(U.isSpotLight){const z=n.get(U);z.position.setFromMatrixPosition(U.matrixWorld),z.color.copy(V).multiplyScalar(j*P),z.distance=Z,z.coneCos=Math.cos(U.angle),z.penumbraCos=Math.cos(U.angle*(1-U.penumbra)),z.decay=U.decay,i.spot[g]=z;const J=U.shadow;if(U.map&&(i.spotLightMap[R]=U.map,R++,J.updateMatrices(U),U.castShadow&&I++),i.spotLightMatrix[g]=J.matrix,U.castShadow){const K=r.get(U);K.shadowBias=J.bias,K.shadowNormalBias=J.normalBias,K.shadowRadius=J.radius,K.shadowMapSize=J.mapSize,i.spotShadow[g]=K,i.spotShadowMap[g]=ne,E++}g++}else if(U.isRectAreaLight){const z=n.get(U);z.color.copy(V).multiplyScalar(j),z.halfWidth.set(U.width*.5,0,0),z.halfHeight.set(0,U.height*.5,0),i.rectArea[b]=z,b++}else if(U.isPointLight){const z=n.get(U);if(z.color.copy(U.color).multiplyScalar(U.intensity*P),z.distance=U.distance,z.decay=U.decay,U.castShadow){const J=U.shadow,K=r.get(U);K.shadowBias=J.bias,K.shadowNormalBias=J.normalBias,K.shadowRadius=J.radius,K.shadowMapSize=J.mapSize,K.shadowCameraNear=J.camera.near,K.shadowCameraFar=J.camera.far,i.pointShadow[x]=K,i.pointShadowMap[x]=ne,i.pointShadowMatrix[x]=U.shadow.matrix,C++}i.point[x]=z,x++}else if(U.isHemisphereLight){const z=n.get(U);z.skyColor.copy(U.color).multiplyScalar(j*P),z.groundColor.copy(U.groundColor).multiplyScalar(j*P),i.hemi[S]=z,S++}}b>0&&(e.isWebGL2||t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Ie.LTC_FLOAT_1,i.rectAreaLTC2=Ie.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=Ie.LTC_HALF_1,i.rectAreaLTC2=Ie.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=p,i.ambient[1]=m,i.ambient[2]=v;const B=i.hash;(B.directionalLength!==y||B.pointLength!==x||B.spotLength!==g||B.rectAreaLength!==b||B.hemiLength!==S||B.numDirectionalShadows!==M||B.numPointShadows!==C||B.numSpotShadows!==E||B.numSpotMaps!==R)&&(i.directional.length=y,i.spot.length=g,i.rectArea.length=b,i.point.length=x,i.hemi.length=S,i.directionalShadow.length=M,i.directionalShadowMap.length=M,i.pointShadow.length=C,i.pointShadowMap.length=C,i.spotShadow.length=E,i.spotShadowMap.length=E,i.directionalShadowMatrix.length=M,i.pointShadowMatrix.length=C,i.spotLightMatrix.length=E+R-I,i.spotLightMap.length=R,i.numSpotLightShadowsWithMaps=I,B.directionalLength=y,B.pointLength=x,B.spotLength=g,B.rectAreaLength=b,B.hemiLength=S,B.numDirectionalShadows=M,B.numPointShadows=C,B.numSpotShadows=E,B.numSpotMaps=R,i.version=iK++)}function u(c,d){let p=0,m=0,v=0,y=0,x=0;const g=d.matrixWorldInverse;for(let b=0,S=c.length;b<S;b++){const M=c[b];if(M.isDirectionalLight){const C=i.directional[p];C.direction.setFromMatrixPosition(M.matrixWorld),s.setFromMatrixPosition(M.target.matrixWorld),C.direction.sub(s),C.direction.transformDirection(g),p++}else if(M.isSpotLight){const C=i.spot[v];C.position.setFromMatrixPosition(M.matrixWorld),C.position.applyMatrix4(g),C.direction.setFromMatrixPosition(M.matrixWorld),s.setFromMatrixPosition(M.target.matrixWorld),C.direction.sub(s),C.direction.transformDirection(g),v++}else if(M.isRectAreaLight){const C=i.rectArea[y];C.position.setFromMatrixPosition(M.matrixWorld),C.position.applyMatrix4(g),a.identity(),o.copy(M.matrixWorld),o.premultiply(g),a.extractRotation(o),C.halfWidth.set(M.width*.5,0,0),C.halfHeight.set(0,M.height*.5,0),C.halfWidth.applyMatrix4(a),C.halfHeight.applyMatrix4(a),y++}else if(M.isPointLight){const C=i.point[m];C.position.setFromMatrixPosition(M.matrixWorld),C.position.applyMatrix4(g),m++}else if(M.isHemisphereLight){const C=i.hemi[x];C.direction.setFromMatrixPosition(M.matrixWorld),C.direction.transformDirection(g),x++}}}return{setup:l,setupView:u,state:i}}function KR(t,e){const n=new oK(t,e),r=[],i=[];function s(){r.length=0,i.length=0}function o(d){r.push(d)}function a(d){i.push(d)}function l(d){n.setup(r,d)}function u(d){n.setupView(r,d)}return{init:s,state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:l,setupLightsView:u,pushLight:o,pushShadow:a}}function aK(t,e){let n=new WeakMap;function r(s,o=0){const a=n.get(s);let l;return a===void 0?(l=new KR(t,e),n.set(s,[l])):o>=a.length?(l=new KR(t,e),a.push(l)):l=a[o],l}function i(){n=new WeakMap}return{get:r,dispose:i}}class _x extends On{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=_o,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class lE extends On{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const lK=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,uK=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function cK(t,e,n){let r=new yx;const i=new fe,s=new fe,o=new Nt,a=new _x({depthPacking:Vp}),l=new lE,u={},c=n.maxTextureSize,d={[Hs]:Zn,[Zn]:Hs,[Dr]:Dr},p=new tr({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new fe},radius:{value:4}},vertexShader:lK,fragmentShader:uK}),m=p.clone();m.defines.HORIZONTAL_PASS=1;const v=new gt;v.setAttribute("position",new Ut(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const y=new Hn(v,p),x=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=dx,this.render=function(M,C,E){if(x.enabled===!1||x.autoUpdate===!1&&x.needsUpdate===!1||M.length===0)return;const R=t.getRenderTarget(),I=t.getActiveCubeFace(),P=t.getActiveMipmapLevel(),B=t.state;B.setBlending(Fr),B.buffers.color.setClear(1,1,1,1),B.buffers.depth.setTest(!0),B.setScissorTest(!1);for(let O=0,H=M.length;O<H;O++){const U=M[O],V=U.shadow;if(V===void 0){console.warn("THREE.WebGLShadowMap:",U,"has no shadow.");continue}if(V.autoUpdate===!1&&V.needsUpdate===!1)continue;i.copy(V.mapSize);const j=V.getFrameExtents();if(i.multiply(j),s.copy(V.mapSize),(i.x>c||i.y>c)&&(i.x>c&&(s.x=Math.floor(c/j.x),i.x=s.x*j.x,V.mapSize.x=s.x),i.y>c&&(s.y=Math.floor(c/j.y),i.y=s.y*j.y,V.mapSize.y=s.y)),V.map===null){const ne=this.type!==au?{minFilter:en,magFilter:en}:{};V.map=new Fn(i.x,i.y,ne),V.map.texture.name=U.name+".shadowMap",V.camera.updateProjectionMatrix()}t.setRenderTarget(V.map),t.clear();const Z=V.getViewportCount();for(let ne=0;ne<Z;ne++){const z=V.getViewport(ne);o.set(s.x*z.x,s.y*z.y,s.x*z.z,s.y*z.w),B.viewport(o),V.updateMatrices(U,ne),r=V.getFrustum(),S(C,E,V.camera,U,this.type)}V.isPointLightShadow!==!0&&this.type===au&&g(V,E),V.needsUpdate=!1}x.needsUpdate=!1,t.setRenderTarget(R,I,P)};function g(M,C){const E=e.update(y);p.defines.VSM_SAMPLES!==M.blurSamples&&(p.defines.VSM_SAMPLES=M.blurSamples,m.defines.VSM_SAMPLES=M.blurSamples,p.needsUpdate=!0,m.needsUpdate=!0),M.mapPass===null&&(M.mapPass=new Fn(i.x,i.y)),p.uniforms.shadow_pass.value=M.map.texture,p.uniforms.resolution.value=M.mapSize,p.uniforms.radius.value=M.radius,t.setRenderTarget(M.mapPass),t.clear(),t.renderBufferDirect(C,null,E,p,y,null),m.uniforms.shadow_pass.value=M.mapPass.texture,m.uniforms.resolution.value=M.mapSize,m.uniforms.radius.value=M.radius,t.setRenderTarget(M.map),t.clear(),t.renderBufferDirect(C,null,E,m,y,null)}function b(M,C,E,R){let I=null;const P=E.isPointLight===!0?M.customDistanceMaterial:M.customDepthMaterial;if(P!==void 0)I=P;else if(I=E.isPointLight===!0?l:a,t.localClippingEnabled&&C.clipShadows===!0&&Array.isArray(C.clippingPlanes)&&C.clippingPlanes.length!==0||C.displacementMap&&C.displacementScale!==0||C.alphaMap&&C.alphaTest>0||C.map&&C.alphaTest>0){const B=I.uuid,O=C.uuid;let H=u[B];H===void 0&&(H={},u[B]=H);let U=H[O];U===void 0&&(U=I.clone(),H[O]=U),I=U}if(I.visible=C.visible,I.wireframe=C.wireframe,R===au?I.side=C.shadowSide!==null?C.shadowSide:C.side:I.side=C.shadowSide!==null?C.shadowSide:d[C.side],I.alphaMap=C.alphaMap,I.alphaTest=C.alphaTest,I.map=C.map,I.clipShadows=C.clipShadows,I.clippingPlanes=C.clippingPlanes,I.clipIntersection=C.clipIntersection,I.displacementMap=C.displacementMap,I.displacementScale=C.displacementScale,I.displacementBias=C.displacementBias,I.wireframeLinewidth=C.wireframeLinewidth,I.linewidth=C.linewidth,E.isPointLight===!0&&I.isMeshDistanceMaterial===!0){const B=t.properties.get(I);B.light=E}return I}function S(M,C,E,R,I){if(M.visible===!1)return;if(M.layers.test(C.layers)&&(M.isMesh||M.isLine||M.isPoints)&&(M.castShadow||M.receiveShadow&&I===au)&&(!M.frustumCulled||r.intersectsObject(M))){M.modelViewMatrix.multiplyMatrices(E.matrixWorldInverse,M.matrixWorld);const O=e.update(M),H=M.material;if(Array.isArray(H)){const U=O.groups;for(let V=0,j=U.length;V<j;V++){const Z=U[V],ne=H[Z.materialIndex];if(ne&&ne.visible){const z=b(M,ne,R,I);t.renderBufferDirect(E,null,O,z,M,Z)}}}else if(H.visible){const U=b(M,H,R,I);t.renderBufferDirect(E,null,O,U,M,null)}}const B=M.children;for(let O=0,H=B.length;O<H;O++)S(B[O],C,E,R,I)}}function fK(t,e,n){const r=n.isWebGL2;function i(){let X=!1;const me=new Nt;let Ae=null;const ke=new Nt(0,0,0,0);return{setMask:function(Qe){Ae!==Qe&&!X&&(t.colorMask(Qe,Qe,Qe,Qe),Ae=Qe)},setLocked:function(Qe){X=Qe},setClear:function(Qe,Qt,rn,ir,vs){vs===!0&&(Qe*=ir,Qt*=ir,rn*=ir),me.set(Qe,Qt,rn,ir),ke.equals(me)===!1&&(t.clearColor(Qe,Qt,rn,ir),ke.copy(me))},reset:function(){X=!1,Ae=null,ke.set(-1,0,0,0)}}}function s(){let X=!1,me=null,Ae=null,ke=null;return{setTest:function(Qe){Qe?ee(2929):Ve(2929)},setMask:function(Qe){me!==Qe&&!X&&(t.depthMask(Qe),me=Qe)},setFunc:function(Qe){if(Ae!==Qe){switch(Qe){case TN:t.depthFunc(512);break;case PN:t.depthFunc(519);break;case RN:t.depthFunc(513);break;case yy:t.depthFunc(515);break;case BN:t.depthFunc(514);break;case IN:t.depthFunc(518);break;case DN:t.depthFunc(516);break;case LN:t.depthFunc(517);break;default:t.depthFunc(515)}Ae=Qe}},setLocked:function(Qe){X=Qe},setClear:function(Qe){ke!==Qe&&(t.clearDepth(Qe),ke=Qe)},reset:function(){X=!1,me=null,Ae=null,ke=null}}}function o(){let X=!1,me=null,Ae=null,ke=null,Qe=null,Qt=null,rn=null,ir=null,vs=null;return{setTest:function(gn){X||(gn?ee(2960):Ve(2960))},setMask:function(gn){me!==gn&&!X&&(t.stencilMask(gn),me=gn)},setFunc:function(gn,zr,Vi){(Ae!==gn||ke!==zr||Qe!==Vi)&&(t.stencilFunc(gn,zr,Vi),Ae=gn,ke=zr,Qe=Vi)},setOp:function(gn,zr,Vi){(Qt!==gn||rn!==zr||ir!==Vi)&&(t.stencilOp(gn,zr,Vi),Qt=gn,rn=zr,ir=Vi)},setLocked:function(gn){X=gn},setClear:function(gn){vs!==gn&&(t.clearStencil(gn),vs=gn)},reset:function(){X=!1,me=null,Ae=null,ke=null,Qe=null,Qt=null,rn=null,ir=null,vs=null}}}const a=new i,l=new s,u=new o,c=new WeakMap,d=new WeakMap;let p={},m={},v=new WeakMap,y=[],x=null,g=!1,b=null,S=null,M=null,C=null,E=null,R=null,I=null,P=!1,B=null,O=null,H=null,U=null,V=null;const j=t.getParameter(35661);let Z=!1,ne=0;const z=t.getParameter(7938);z.indexOf("WebGL")!==-1?(ne=parseFloat(/^WebGL (\d)/.exec(z)[1]),Z=ne>=1):z.indexOf("OpenGL ES")!==-1&&(ne=parseFloat(/^OpenGL ES (\d)/.exec(z)[1]),Z=ne>=2);let J=null,K={};const ie=t.getParameter(3088),re=t.getParameter(2978),se=new Nt().fromArray(ie),le=new Nt().fromArray(re);function Me(X,me,Ae){const ke=new Uint8Array(4),Qe=t.createTexture();t.bindTexture(X,Qe),t.texParameteri(X,10241,9728),t.texParameteri(X,10240,9728);for(let Qt=0;Qt<Ae;Qt++)t.texImage2D(me+Qt,0,6408,1,1,0,6408,5121,ke);return Qe}const be={};be[3553]=Me(3553,3553,1),be[34067]=Me(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),u.setClear(0),ee(2929),l.setFunc(yy),Re(!1),qe(sw),ee(2884),xe(Fr);function ee(X){p[X]!==!0&&(t.enable(X),p[X]=!0)}function Ve(X){p[X]!==!1&&(t.disable(X),p[X]=!1)}function We(X,me){return m[X]!==me?(t.bindFramebuffer(X,me),m[X]=me,r&&(X===36009&&(m[36160]=me),X===36160&&(m[36009]=me)),!0):!1}function we(X,me){let Ae=y,ke=!1;if(X)if(Ae=v.get(me),Ae===void 0&&(Ae=[],v.set(me,Ae)),X.isWebGLMultipleRenderTargets){const Qe=X.texture;if(Ae.length!==Qe.length||Ae[0]!==36064){for(let Qt=0,rn=Qe.length;Qt<rn;Qt++)Ae[Qt]=36064+Qt;Ae.length=Qe.length,ke=!0}}else Ae[0]!==36064&&(Ae[0]=36064,ke=!0);else Ae[0]!==1029&&(Ae[0]=1029,ke=!0);ke&&(n.isWebGL2?t.drawBuffers(Ae):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Ae))}function Be(X){return x!==X?(t.useProgram(X),x=X,!0):!1}const ye={[nu]:32774,[vN]:32778,[yN]:32779};if(r)ye[uw]=32775,ye[cw]=32776;else{const X=e.get("EXT_blend_minmax");X!==null&&(ye[uw]=X.MIN_EXT,ye[cw]=X.MAX_EXT)}const ue={[xN]:0,[_N]:1,[SN]:768,[jA]:770,[CN]:776,[AN]:774,[wN]:772,[bN]:769,[JA]:771,[EN]:775,[MN]:773};function xe(X,me,Ae,ke,Qe,Qt,rn,ir){if(X===Fr){g===!0&&(Ve(3042),g=!1);return}if(g===!1&&(ee(3042),g=!0),X!==gN){if(X!==b||ir!==P){if((S!==nu||E!==nu)&&(t.blendEquation(32774),S=nu,E=nu),ir)switch(X){case vu:t.blendFuncSeparate(1,771,1,771);break;case ow:t.blendFunc(1,1);break;case aw:t.blendFuncSeparate(0,769,0,1);break;case lw:t.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",X);break}else switch(X){case vu:t.blendFuncSeparate(770,771,1,771);break;case ow:t.blendFunc(770,1);break;case aw:t.blendFuncSeparate(0,769,0,1);break;case lw:t.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",X);break}M=null,C=null,R=null,I=null,b=X,P=ir}return}Qe=Qe||me,Qt=Qt||Ae,rn=rn||ke,(me!==S||Qe!==E)&&(t.blendEquationSeparate(ye[me],ye[Qe]),S=me,E=Qe),(Ae!==M||ke!==C||Qt!==R||rn!==I)&&(t.blendFuncSeparate(ue[Ae],ue[ke],ue[Qt],ue[rn]),M=Ae,C=ke,R=Qt,I=rn),b=X,P=!1}function Le(X,me){X.side===Dr?Ve(2884):ee(2884);let Ae=X.side===Zn;me&&(Ae=!Ae),Re(Ae),X.blending===vu&&X.transparent===!1?xe(Fr):xe(X.blending,X.blendEquation,X.blendSrc,X.blendDst,X.blendEquationAlpha,X.blendSrcAlpha,X.blendDstAlpha,X.premultipliedAlpha),l.setFunc(X.depthFunc),l.setTest(X.depthTest),l.setMask(X.depthWrite),a.setMask(X.colorWrite);const ke=X.stencilWrite;u.setTest(ke),ke&&(u.setMask(X.stencilWriteMask),u.setFunc(X.stencilFunc,X.stencilRef,X.stencilFuncMask),u.setOp(X.stencilFail,X.stencilZFail,X.stencilZPass)),Ke(X.polygonOffset,X.polygonOffsetFactor,X.polygonOffsetUnits),X.alphaToCoverage===!0?ee(32926):Ve(32926)}function Re(X){B!==X&&(X?t.frontFace(2304):t.frontFace(2305),B=X)}function qe(X){X!==hN?(ee(2884),X!==O&&(X===sw?t.cullFace(1029):X===pN?t.cullFace(1028):t.cullFace(1032))):Ve(2884),O=X}function et(X){X!==H&&(Z&&t.lineWidth(X),H=X)}function Ke(X,me,Ae){X?(ee(32823),(U!==me||V!==Ae)&&(t.polygonOffset(me,Ae),U=me,V=Ae)):Ve(32823)}function at(X){X?ee(3089):Ve(3089)}function St(X){X===void 0&&(X=33984+j-1),J!==X&&(t.activeTexture(X),J=X)}function k(X,me,Ae){Ae===void 0&&(J===null?Ae=33984+j-1:Ae=J);let ke=K[Ae];ke===void 0&&(ke={type:void 0,texture:void 0},K[Ae]=ke),(ke.type!==X||ke.texture!==me)&&(J!==Ae&&(t.activeTexture(Ae),J=Ae),t.bindTexture(X,me||be[X]),ke.type=X,ke.texture=me)}function F(){const X=K[J];X!==void 0&&X.type!==void 0&&(t.bindTexture(X.type,null),X.type=void 0,X.texture=void 0)}function Q(){try{t.compressedTexImage2D.apply(t,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function ve(){try{t.compressedTexImage3D.apply(t,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function _e(){try{t.texSubImage2D.apply(t,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function Pe(){try{t.texSubImage3D.apply(t,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function tt(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function Oe(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function he(){try{t.texStorage2D.apply(t,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function Ge(){try{t.texStorage3D.apply(t,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function Xe(){try{t.texImage2D.apply(t,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function nt(){try{t.texImage3D.apply(t,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function Ne(X){se.equals(X)===!1&&(t.scissor(X.x,X.y,X.z,X.w),se.copy(X))}function je(X){le.equals(X)===!1&&(t.viewport(X.x,X.y,X.z,X.w),le.copy(X))}function bt(X,me){let Ae=d.get(me);Ae===void 0&&(Ae=new WeakMap,d.set(me,Ae));let ke=Ae.get(X);ke===void 0&&(ke=t.getUniformBlockIndex(me,X.name),Ae.set(X,ke))}function Ft(X,me){const ke=d.get(me).get(X);c.get(me)!==ke&&(t.uniformBlockBinding(me,ke,X.__bindingPointIndex),c.set(me,ke))}function cn(){t.disable(3042),t.disable(2884),t.disable(2929),t.disable(32823),t.disable(3089),t.disable(2960),t.disable(32926),t.blendEquation(32774),t.blendFunc(1,0),t.blendFuncSeparate(1,0,1,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(513),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(519,0,4294967295),t.stencilOp(7680,7680,7680),t.clearStencil(0),t.cullFace(1029),t.frontFace(2305),t.polygonOffset(0,0),t.activeTexture(33984),t.bindFramebuffer(36160,null),r===!0&&(t.bindFramebuffer(36009,null),t.bindFramebuffer(36008,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),p={},J=null,K={},m={},v=new WeakMap,y=[],x=null,g=!1,b=null,S=null,M=null,C=null,E=null,R=null,I=null,P=!1,B=null,O=null,H=null,U=null,V=null,se.set(0,0,t.canvas.width,t.canvas.height),le.set(0,0,t.canvas.width,t.canvas.height),a.reset(),l.reset(),u.reset()}return{buffers:{color:a,depth:l,stencil:u},enable:ee,disable:Ve,bindFramebuffer:We,drawBuffers:we,useProgram:Be,setBlending:xe,setMaterial:Le,setFlipSided:Re,setCullFace:qe,setLineWidth:et,setPolygonOffset:Ke,setScissorTest:at,activeTexture:St,bindTexture:k,unbindTexture:F,compressedTexImage2D:Q,compressedTexImage3D:ve,texImage2D:Xe,texImage3D:nt,updateUBOMapping:bt,uniformBlockBinding:Ft,texStorage2D:he,texStorage3D:Ge,texSubImage2D:_e,texSubImage3D:Pe,compressedTexSubImage2D:tt,compressedTexSubImage3D:Oe,scissor:Ne,viewport:je,reset:cn}}function dK(t,e,n,r,i,s,o){const a=i.isWebGL2,l=i.maxTextures,u=i.maxCubemapSize,c=i.maxTextureSize,d=i.maxSamples,p=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,m=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),v=new WeakMap;let y;const x=new WeakMap;let g=!1;try{g=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function b(k,F){return g?new OffscreenCanvas(k,F):jp("canvas")}function S(k,F,Q,ve){let _e=1;if((k.width>ve||k.height>ve)&&(_e=ve/Math.max(k.width,k.height)),_e<1||F===!0)if(typeof HTMLImageElement<"u"&&k instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&k instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&k instanceof ImageBitmap){const Pe=F?o4:Math.floor,tt=Pe(_e*k.width),Oe=Pe(_e*k.height);y===void 0&&(y=b(tt,Oe));const he=Q?b(tt,Oe):y;return he.width=tt,he.height=Oe,he.getContext("2d").drawImage(k,0,0,tt,Oe),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+k.width+"x"+k.height+") to ("+tt+"x"+Oe+")."),he}else return"data"in k&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+k.width+"x"+k.height+")."),k;return k}function M(k){return Ow(k.width)&&Ow(k.height)}function C(k){return a?!1:k.wrapS!==xr||k.wrapT!==xr||k.minFilter!==en&&k.minFilter!==Xt}function E(k,F){return k.generateMipmaps&&F&&k.minFilter!==en&&k.minFilter!==Xt}function R(k){t.generateMipmap(k)}function I(k,F,Q,ve,_e=!1){if(a===!1)return F;if(k!==null){if(t[k]!==void 0)return t[k];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+k+"'")}let Pe=F;return F===6403&&(Q===5126&&(Pe=33326),Q===5131&&(Pe=33325),Q===5121&&(Pe=33321)),F===33319&&(Q===5126&&(Pe=33328),Q===5131&&(Pe=33327),Q===5121&&(Pe=33323)),F===6408&&(Q===5126&&(Pe=34836),Q===5131&&(Pe=34842),Q===5121&&(Pe=ve===lt&&_e===!1?35907:32856),Q===32819&&(Pe=32854),Q===32820&&(Pe=32855)),(Pe===33325||Pe===33326||Pe===33327||Pe===33328||Pe===34842||Pe===34836)&&e.get("EXT_color_buffer_float"),Pe}function P(k,F,Q){return E(k,Q)===!0||k.isFramebufferTexture&&k.minFilter!==en&&k.minFilter!==Xt?Math.log2(Math.max(F.width,F.height))+1:k.mipmaps!==void 0&&k.mipmaps.length>0?k.mipmaps.length:k.isCompressedTexture&&Array.isArray(k.image)?F.mipmaps.length:1}function B(k){return k===en||k===Gp||k===Lf?9728:9729}function O(k){const F=k.target;F.removeEventListener("dispose",O),U(F),F.isVideoTexture&&v.delete(F)}function H(k){const F=k.target;F.removeEventListener("dispose",H),j(F)}function U(k){const F=r.get(k);if(F.__webglInit===void 0)return;const Q=k.source,ve=x.get(Q);if(ve){const _e=ve[F.__cacheKey];_e.usedTimes--,_e.usedTimes===0&&V(k),Object.keys(ve).length===0&&x.delete(Q)}r.remove(k)}function V(k){const F=r.get(k);t.deleteTexture(F.__webglTexture);const Q=k.source,ve=x.get(Q);delete ve[F.__cacheKey],o.memory.textures--}function j(k){const F=k.texture,Q=r.get(k),ve=r.get(F);if(ve.__webglTexture!==void 0&&(t.deleteTexture(ve.__webglTexture),o.memory.textures--),k.depthTexture&&k.depthTexture.dispose(),k.isWebGLCubeRenderTarget)for(let _e=0;_e<6;_e++)t.deleteFramebuffer(Q.__webglFramebuffer[_e]),Q.__webglDepthbuffer&&t.deleteRenderbuffer(Q.__webglDepthbuffer[_e]);else{if(t.deleteFramebuffer(Q.__webglFramebuffer),Q.__webglDepthbuffer&&t.deleteRenderbuffer(Q.__webglDepthbuffer),Q.__webglMultisampledFramebuffer&&t.deleteFramebuffer(Q.__webglMultisampledFramebuffer),Q.__webglColorRenderbuffer)for(let _e=0;_e<Q.__webglColorRenderbuffer.length;_e++)Q.__webglColorRenderbuffer[_e]&&t.deleteRenderbuffer(Q.__webglColorRenderbuffer[_e]);Q.__webglDepthRenderbuffer&&t.deleteRenderbuffer(Q.__webglDepthRenderbuffer)}if(k.isWebGLMultipleRenderTargets)for(let _e=0,Pe=F.length;_e<Pe;_e++){const tt=r.get(F[_e]);tt.__webglTexture&&(t.deleteTexture(tt.__webglTexture),o.memory.textures--),r.remove(F[_e])}r.remove(F),r.remove(k)}let Z=0;function ne(){Z=0}function z(){const k=Z;return k>=l&&console.warn("THREE.WebGLTextures: Trying to use "+k+" texture units while this GPU supports only "+l),Z+=1,k}function J(k){const F=[];return F.push(k.wrapS),F.push(k.wrapT),F.push(k.wrapR||0),F.push(k.magFilter),F.push(k.minFilter),F.push(k.anisotropy),F.push(k.internalFormat),F.push(k.format),F.push(k.type),F.push(k.generateMipmaps),F.push(k.premultiplyAlpha),F.push(k.flipY),F.push(k.unpackAlignment),F.push(k.encoding),F.join()}function K(k,F){const Q=r.get(k);if(k.isVideoTexture&&at(k),k.isRenderTargetTexture===!1&&k.version>0&&Q.__version!==k.version){const ve=k.image;if(ve===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(ve.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Ve(Q,k,F);return}}n.bindTexture(3553,Q.__webglTexture,33984+F)}function ie(k,F){const Q=r.get(k);if(k.version>0&&Q.__version!==k.version){Ve(Q,k,F);return}n.bindTexture(35866,Q.__webglTexture,33984+F)}function re(k,F){const Q=r.get(k);if(k.version>0&&Q.__version!==k.version){Ve(Q,k,F);return}n.bindTexture(32879,Q.__webglTexture,33984+F)}function se(k,F){const Q=r.get(k);if(k.version>0&&Q.__version!==k.version){We(Q,k,F);return}n.bindTexture(34067,Q.__webglTexture,33984+F)}const le={[go]:10497,[xr]:33071,[jf]:33648},Me={[en]:9728,[Gp]:9984,[Lf]:9986,[Xt]:9729,[px]:9985,[vo]:9987};function be(k,F,Q){if(Q?(t.texParameteri(k,10242,le[F.wrapS]),t.texParameteri(k,10243,le[F.wrapT]),(k===32879||k===35866)&&t.texParameteri(k,32882,le[F.wrapR]),t.texParameteri(k,10240,Me[F.magFilter]),t.texParameteri(k,10241,Me[F.minFilter])):(t.texParameteri(k,10242,33071),t.texParameteri(k,10243,33071),(k===32879||k===35866)&&t.texParameteri(k,32882,33071),(F.wrapS!==xr||F.wrapT!==xr)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(k,10240,B(F.magFilter)),t.texParameteri(k,10241,B(F.minFilter)),F.minFilter!==en&&F.minFilter!==Xt&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const ve=e.get("EXT_texture_filter_anisotropic");if(F.magFilter===en||F.minFilter!==Lf&&F.minFilter!==vo||F.type===Pi&&e.has("OES_texture_float_linear")===!1||a===!1&&F.type===ls&&e.has("OES_texture_half_float_linear")===!1)return;(F.anisotropy>1||r.get(F).__currentAnisotropy)&&(t.texParameterf(k,ve.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(F.anisotropy,i.getMaxAnisotropy())),r.get(F).__currentAnisotropy=F.anisotropy)}}function ee(k,F){let Q=!1;k.__webglInit===void 0&&(k.__webglInit=!0,F.addEventListener("dispose",O));const ve=F.source;let _e=x.get(ve);_e===void 0&&(_e={},x.set(ve,_e));const Pe=J(F);if(Pe!==k.__cacheKey){_e[Pe]===void 0&&(_e[Pe]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,Q=!0),_e[Pe].usedTimes++;const tt=_e[k.__cacheKey];tt!==void 0&&(_e[k.__cacheKey].usedTimes--,tt.usedTimes===0&&V(F)),k.__cacheKey=Pe,k.__webglTexture=_e[Pe].texture}return Q}function Ve(k,F,Q){let ve=3553;(F.isDataArrayTexture||F.isCompressedArrayTexture)&&(ve=35866),F.isData3DTexture&&(ve=32879);const _e=ee(k,F),Pe=F.source;n.bindTexture(ve,k.__webglTexture,33984+Q);const tt=r.get(Pe);if(Pe.version!==tt.__version||_e===!0){n.activeTexture(33984+Q),t.pixelStorei(37440,F.flipY),t.pixelStorei(37441,F.premultiplyAlpha),t.pixelStorei(3317,F.unpackAlignment),t.pixelStorei(37443,0);const Oe=C(F)&&M(F.image)===!1;let he=S(F.image,Oe,!1,c);he=St(F,he);const Ge=M(he)||a,Xe=s.convert(F.format,F.encoding);let nt=s.convert(F.type),Ne=I(F.internalFormat,Xe,nt,F.encoding,F.isVideoTexture);be(ve,F,Ge);let je;const bt=F.mipmaps,Ft=a&&F.isVideoTexture!==!0,cn=tt.__version===void 0||_e===!0,X=P(F,he,Ge);if(F.isDepthTexture)Ne=6402,a?F.type===Pi?Ne=36012:F.type===Ko?Ne=33190:F.type===tl?Ne=35056:Ne=33189:F.type===Pi&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),F.format===nl&&Ne===6402&&F.type!==XA&&F.type!==Ko&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),F.type=Ko,nt=s.convert(F.type)),F.format===cl&&Ne===6402&&(Ne=34041,F.type!==tl&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),F.type=tl,nt=s.convert(F.type))),cn&&(Ft?n.texStorage2D(3553,1,Ne,he.width,he.height):n.texImage2D(3553,0,Ne,he.width,he.height,0,Xe,nt,null));else if(F.isDataTexture)if(bt.length>0&&Ge){Ft&&cn&&n.texStorage2D(3553,X,Ne,bt[0].width,bt[0].height);for(let me=0,Ae=bt.length;me<Ae;me++)je=bt[me],Ft?n.texSubImage2D(3553,me,0,0,je.width,je.height,Xe,nt,je.data):n.texImage2D(3553,me,Ne,je.width,je.height,0,Xe,nt,je.data);F.generateMipmaps=!1}else Ft?(cn&&n.texStorage2D(3553,X,Ne,he.width,he.height),n.texSubImage2D(3553,0,0,0,he.width,he.height,Xe,nt,he.data)):n.texImage2D(3553,0,Ne,he.width,he.height,0,Xe,nt,he.data);else if(F.isCompressedTexture)if(F.isCompressedArrayTexture){Ft&&cn&&n.texStorage3D(35866,X,Ne,bt[0].width,bt[0].height,he.depth);for(let me=0,Ae=bt.length;me<Ae;me++)je=bt[me],F.format!==_r?Xe!==null?Ft?n.compressedTexSubImage3D(35866,me,0,0,0,je.width,je.height,he.depth,Xe,je.data,0,0):n.compressedTexImage3D(35866,me,Ne,je.width,je.height,he.depth,0,je.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ft?n.texSubImage3D(35866,me,0,0,0,je.width,je.height,he.depth,Xe,nt,je.data):n.texImage3D(35866,me,Ne,je.width,je.height,he.depth,0,Xe,nt,je.data)}else{Ft&&cn&&n.texStorage2D(3553,X,Ne,bt[0].width,bt[0].height);for(let me=0,Ae=bt.length;me<Ae;me++)je=bt[me],F.format!==_r?Xe!==null?Ft?n.compressedTexSubImage2D(3553,me,0,0,je.width,je.height,Xe,je.data):n.compressedTexImage2D(3553,me,Ne,je.width,je.height,0,je.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ft?n.texSubImage2D(3553,me,0,0,je.width,je.height,Xe,nt,je.data):n.texImage2D(3553,me,Ne,je.width,je.height,0,Xe,nt,je.data)}else if(F.isDataArrayTexture)Ft?(cn&&n.texStorage3D(35866,X,Ne,he.width,he.height,he.depth),n.texSubImage3D(35866,0,0,0,0,he.width,he.height,he.depth,Xe,nt,he.data)):n.texImage3D(35866,0,Ne,he.width,he.height,he.depth,0,Xe,nt,he.data);else if(F.isData3DTexture)Ft?(cn&&n.texStorage3D(32879,X,Ne,he.width,he.height,he.depth),n.texSubImage3D(32879,0,0,0,0,he.width,he.height,he.depth,Xe,nt,he.data)):n.texImage3D(32879,0,Ne,he.width,he.height,he.depth,0,Xe,nt,he.data);else if(F.isFramebufferTexture){if(cn)if(Ft)n.texStorage2D(3553,X,Ne,he.width,he.height);else{let me=he.width,Ae=he.height;for(let ke=0;ke<X;ke++)n.texImage2D(3553,ke,Ne,me,Ae,0,Xe,nt,null),me>>=1,Ae>>=1}}else if(bt.length>0&&Ge){Ft&&cn&&n.texStorage2D(3553,X,Ne,bt[0].width,bt[0].height);for(let me=0,Ae=bt.length;me<Ae;me++)je=bt[me],Ft?n.texSubImage2D(3553,me,0,0,Xe,nt,je):n.texImage2D(3553,me,Ne,Xe,nt,je);F.generateMipmaps=!1}else Ft?(cn&&n.texStorage2D(3553,X,Ne,he.width,he.height),n.texSubImage2D(3553,0,0,0,Xe,nt,he)):n.texImage2D(3553,0,Ne,Xe,nt,he);E(F,Ge)&&R(ve),tt.__version=Pe.version,F.onUpdate&&F.onUpdate(F)}k.__version=F.version}function We(k,F,Q){if(F.image.length!==6)return;const ve=ee(k,F),_e=F.source;n.bindTexture(34067,k.__webglTexture,33984+Q);const Pe=r.get(_e);if(_e.version!==Pe.__version||ve===!0){n.activeTexture(33984+Q),t.pixelStorei(37440,F.flipY),t.pixelStorei(37441,F.premultiplyAlpha),t.pixelStorei(3317,F.unpackAlignment),t.pixelStorei(37443,0);const tt=F.isCompressedTexture||F.image[0].isCompressedTexture,Oe=F.image[0]&&F.image[0].isDataTexture,he=[];for(let me=0;me<6;me++)!tt&&!Oe?he[me]=S(F.image[me],!1,!0,u):he[me]=Oe?F.image[me].image:F.image[me],he[me]=St(F,he[me]);const Ge=he[0],Xe=M(Ge)||a,nt=s.convert(F.format,F.encoding),Ne=s.convert(F.type),je=I(F.internalFormat,nt,Ne,F.encoding),bt=a&&F.isVideoTexture!==!0,Ft=Pe.__version===void 0||ve===!0;let cn=P(F,Ge,Xe);be(34067,F,Xe);let X;if(tt){bt&&Ft&&n.texStorage2D(34067,cn,je,Ge.width,Ge.height);for(let me=0;me<6;me++){X=he[me].mipmaps;for(let Ae=0;Ae<X.length;Ae++){const ke=X[Ae];F.format!==_r?nt!==null?bt?n.compressedTexSubImage2D(34069+me,Ae,0,0,ke.width,ke.height,nt,ke.data):n.compressedTexImage2D(34069+me,Ae,je,ke.width,ke.height,0,ke.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):bt?n.texSubImage2D(34069+me,Ae,0,0,ke.width,ke.height,nt,Ne,ke.data):n.texImage2D(34069+me,Ae,je,ke.width,ke.height,0,nt,Ne,ke.data)}}}else{X=F.mipmaps,bt&&Ft&&(X.length>0&&cn++,n.texStorage2D(34067,cn,je,he[0].width,he[0].height));for(let me=0;me<6;me++)if(Oe){bt?n.texSubImage2D(34069+me,0,0,0,he[me].width,he[me].height,nt,Ne,he[me].data):n.texImage2D(34069+me,0,je,he[me].width,he[me].height,0,nt,Ne,he[me].data);for(let Ae=0;Ae<X.length;Ae++){const Qe=X[Ae].image[me].image;bt?n.texSubImage2D(34069+me,Ae+1,0,0,Qe.width,Qe.height,nt,Ne,Qe.data):n.texImage2D(34069+me,Ae+1,je,Qe.width,Qe.height,0,nt,Ne,Qe.data)}}else{bt?n.texSubImage2D(34069+me,0,0,0,nt,Ne,he[me]):n.texImage2D(34069+me,0,je,nt,Ne,he[me]);for(let Ae=0;Ae<X.length;Ae++){const ke=X[Ae];bt?n.texSubImage2D(34069+me,Ae+1,0,0,nt,Ne,ke.image[me]):n.texImage2D(34069+me,Ae+1,je,nt,Ne,ke.image[me])}}}E(F,Xe)&&R(34067),Pe.__version=_e.version,F.onUpdate&&F.onUpdate(F)}k.__version=F.version}function we(k,F,Q,ve,_e){const Pe=s.convert(Q.format,Q.encoding),tt=s.convert(Q.type),Oe=I(Q.internalFormat,Pe,tt,Q.encoding);r.get(F).__hasExternalTextures||(_e===32879||_e===35866?n.texImage3D(_e,0,Oe,F.width,F.height,F.depth,0,Pe,tt,null):n.texImage2D(_e,0,Oe,F.width,F.height,0,Pe,tt,null)),n.bindFramebuffer(36160,k),Ke(F)?p.framebufferTexture2DMultisampleEXT(36160,ve,_e,r.get(Q).__webglTexture,0,et(F)):(_e===3553||_e>=34069&&_e<=34074)&&t.framebufferTexture2D(36160,ve,_e,r.get(Q).__webglTexture,0),n.bindFramebuffer(36160,null)}function Be(k,F,Q){if(t.bindRenderbuffer(36161,k),F.depthBuffer&&!F.stencilBuffer){let ve=33189;if(Q||Ke(F)){const _e=F.depthTexture;_e&&_e.isDepthTexture&&(_e.type===Pi?ve=36012:_e.type===Ko&&(ve=33190));const Pe=et(F);Ke(F)?p.renderbufferStorageMultisampleEXT(36161,Pe,ve,F.width,F.height):t.renderbufferStorageMultisample(36161,Pe,ve,F.width,F.height)}else t.renderbufferStorage(36161,ve,F.width,F.height);t.framebufferRenderbuffer(36160,36096,36161,k)}else if(F.depthBuffer&&F.stencilBuffer){const ve=et(F);Q&&Ke(F)===!1?t.renderbufferStorageMultisample(36161,ve,35056,F.width,F.height):Ke(F)?p.renderbufferStorageMultisampleEXT(36161,ve,35056,F.width,F.height):t.renderbufferStorage(36161,34041,F.width,F.height),t.framebufferRenderbuffer(36160,33306,36161,k)}else{const ve=F.isWebGLMultipleRenderTargets===!0?F.texture:[F.texture];for(let _e=0;_e<ve.length;_e++){const Pe=ve[_e],tt=s.convert(Pe.format,Pe.encoding),Oe=s.convert(Pe.type),he=I(Pe.internalFormat,tt,Oe,Pe.encoding),Ge=et(F);Q&&Ke(F)===!1?t.renderbufferStorageMultisample(36161,Ge,he,F.width,F.height):Ke(F)?p.renderbufferStorageMultisampleEXT(36161,Ge,he,F.width,F.height):t.renderbufferStorage(36161,he,F.width,F.height)}}t.bindRenderbuffer(36161,null)}function ye(k,F){if(F&&F.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(36160,k),!(F.depthTexture&&F.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(F.depthTexture).__webglTexture||F.depthTexture.image.width!==F.width||F.depthTexture.image.height!==F.height)&&(F.depthTexture.image.width=F.width,F.depthTexture.image.height=F.height,F.depthTexture.needsUpdate=!0),K(F.depthTexture,0);const ve=r.get(F.depthTexture).__webglTexture,_e=et(F);if(F.depthTexture.format===nl)Ke(F)?p.framebufferTexture2DMultisampleEXT(36160,36096,3553,ve,0,_e):t.framebufferTexture2D(36160,36096,3553,ve,0);else if(F.depthTexture.format===cl)Ke(F)?p.framebufferTexture2DMultisampleEXT(36160,33306,3553,ve,0,_e):t.framebufferTexture2D(36160,33306,3553,ve,0);else throw new Error("Unknown depthTexture format")}function ue(k){const F=r.get(k),Q=k.isWebGLCubeRenderTarget===!0;if(k.depthTexture&&!F.__autoAllocateDepthBuffer){if(Q)throw new Error("target.depthTexture not supported in Cube render targets");ye(F.__webglFramebuffer,k)}else if(Q){F.__webglDepthbuffer=[];for(let ve=0;ve<6;ve++)n.bindFramebuffer(36160,F.__webglFramebuffer[ve]),F.__webglDepthbuffer[ve]=t.createRenderbuffer(),Be(F.__webglDepthbuffer[ve],k,!1)}else n.bindFramebuffer(36160,F.__webglFramebuffer),F.__webglDepthbuffer=t.createRenderbuffer(),Be(F.__webglDepthbuffer,k,!1);n.bindFramebuffer(36160,null)}function xe(k,F,Q){const ve=r.get(k);F!==void 0&&we(ve.__webglFramebuffer,k,k.texture,36064,3553),Q!==void 0&&ue(k)}function Le(k){const F=k.texture,Q=r.get(k),ve=r.get(F);k.addEventListener("dispose",H),k.isWebGLMultipleRenderTargets!==!0&&(ve.__webglTexture===void 0&&(ve.__webglTexture=t.createTexture()),ve.__version=F.version,o.memory.textures++);const _e=k.isWebGLCubeRenderTarget===!0,Pe=k.isWebGLMultipleRenderTargets===!0,tt=M(k)||a;if(_e){Q.__webglFramebuffer=[];for(let Oe=0;Oe<6;Oe++)Q.__webglFramebuffer[Oe]=t.createFramebuffer()}else{if(Q.__webglFramebuffer=t.createFramebuffer(),Pe)if(i.drawBuffers){const Oe=k.texture;for(let he=0,Ge=Oe.length;he<Ge;he++){const Xe=r.get(Oe[he]);Xe.__webglTexture===void 0&&(Xe.__webglTexture=t.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&k.samples>0&&Ke(k)===!1){const Oe=Pe?F:[F];Q.__webglMultisampledFramebuffer=t.createFramebuffer(),Q.__webglColorRenderbuffer=[],n.bindFramebuffer(36160,Q.__webglMultisampledFramebuffer);for(let he=0;he<Oe.length;he++){const Ge=Oe[he];Q.__webglColorRenderbuffer[he]=t.createRenderbuffer(),t.bindRenderbuffer(36161,Q.__webglColorRenderbuffer[he]);const Xe=s.convert(Ge.format,Ge.encoding),nt=s.convert(Ge.type),Ne=I(Ge.internalFormat,Xe,nt,Ge.encoding,k.isXRRenderTarget===!0),je=et(k);t.renderbufferStorageMultisample(36161,je,Ne,k.width,k.height),t.framebufferRenderbuffer(36160,36064+he,36161,Q.__webglColorRenderbuffer[he])}t.bindRenderbuffer(36161,null),k.depthBuffer&&(Q.__webglDepthRenderbuffer=t.createRenderbuffer(),Be(Q.__webglDepthRenderbuffer,k,!0)),n.bindFramebuffer(36160,null)}}if(_e){n.bindTexture(34067,ve.__webglTexture),be(34067,F,tt);for(let Oe=0;Oe<6;Oe++)we(Q.__webglFramebuffer[Oe],k,F,36064,34069+Oe);E(F,tt)&&R(34067),n.unbindTexture()}else if(Pe){const Oe=k.texture;for(let he=0,Ge=Oe.length;he<Ge;he++){const Xe=Oe[he],nt=r.get(Xe);n.bindTexture(3553,nt.__webglTexture),be(3553,Xe,tt),we(Q.__webglFramebuffer,k,Xe,36064+he,3553),E(Xe,tt)&&R(3553)}n.unbindTexture()}else{let Oe=3553;(k.isWebGL3DRenderTarget||k.isWebGLArrayRenderTarget)&&(a?Oe=k.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(Oe,ve.__webglTexture),be(Oe,F,tt),we(Q.__webglFramebuffer,k,F,36064,Oe),E(F,tt)&&R(Oe),n.unbindTexture()}k.depthBuffer&&ue(k)}function Re(k){const F=M(k)||a,Q=k.isWebGLMultipleRenderTargets===!0?k.texture:[k.texture];for(let ve=0,_e=Q.length;ve<_e;ve++){const Pe=Q[ve];if(E(Pe,F)){const tt=k.isWebGLCubeRenderTarget?34067:3553,Oe=r.get(Pe).__webglTexture;n.bindTexture(tt,Oe),R(tt),n.unbindTexture()}}}function qe(k){if(a&&k.samples>0&&Ke(k)===!1){const F=k.isWebGLMultipleRenderTargets?k.texture:[k.texture],Q=k.width,ve=k.height;let _e=16384;const Pe=[],tt=k.stencilBuffer?33306:36096,Oe=r.get(k),he=k.isWebGLMultipleRenderTargets===!0;if(he)for(let Ge=0;Ge<F.length;Ge++)n.bindFramebuffer(36160,Oe.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064+Ge,36161,null),n.bindFramebuffer(36160,Oe.__webglFramebuffer),t.framebufferTexture2D(36009,36064+Ge,3553,null,0);n.bindFramebuffer(36008,Oe.__webglMultisampledFramebuffer),n.bindFramebuffer(36009,Oe.__webglFramebuffer);for(let Ge=0;Ge<F.length;Ge++){Pe.push(36064+Ge),k.depthBuffer&&Pe.push(tt);const Xe=Oe.__ignoreDepthValues!==void 0?Oe.__ignoreDepthValues:!1;if(Xe===!1&&(k.depthBuffer&&(_e|=256),k.stencilBuffer&&(_e|=1024)),he&&t.framebufferRenderbuffer(36008,36064,36161,Oe.__webglColorRenderbuffer[Ge]),Xe===!0&&(t.invalidateFramebuffer(36008,[tt]),t.invalidateFramebuffer(36009,[tt])),he){const nt=r.get(F[Ge]).__webglTexture;t.framebufferTexture2D(36009,36064,3553,nt,0)}t.blitFramebuffer(0,0,Q,ve,0,0,Q,ve,_e,9728),m&&t.invalidateFramebuffer(36008,Pe)}if(n.bindFramebuffer(36008,null),n.bindFramebuffer(36009,null),he)for(let Ge=0;Ge<F.length;Ge++){n.bindFramebuffer(36160,Oe.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064+Ge,36161,Oe.__webglColorRenderbuffer[Ge]);const Xe=r.get(F[Ge]).__webglTexture;n.bindFramebuffer(36160,Oe.__webglFramebuffer),t.framebufferTexture2D(36009,36064+Ge,3553,Xe,0)}n.bindFramebuffer(36009,Oe.__webglMultisampledFramebuffer)}}function et(k){return Math.min(d,k.samples)}function Ke(k){const F=r.get(k);return a&&k.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&F.__useRenderToTexture!==!1}function at(k){const F=o.render.frame;v.get(k)!==F&&(v.set(k,F),k.update())}function St(k,F){const Q=k.encoding,ve=k.format,_e=k.type;return k.isCompressedTexture===!0||k.isVideoTexture===!0||k.format===xy||Q!==pi&&(Q===lt?a===!1?e.has("EXT_sRGB")===!0&&ve===_r?(k.format=xy,k.minFilter=Xt,k.generateMipmaps=!1):F=nE.sRGBToLinear(F):(ve!==_r||_e!==er)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",Q)),F}this.allocateTextureUnit=z,this.resetTextureUnits=ne,this.setTexture2D=K,this.setTexture2DArray=ie,this.setTexture3D=re,this.setTextureCube=se,this.rebindTextures=xe,this.setupRenderTarget=Le,this.updateRenderTargetMipmap=Re,this.updateMultisampleRenderTarget=qe,this.setupDepthRenderbuffer=ue,this.setupFrameBufferTexture=we,this.useMultisampledRTT=Ke}function v4(t,e,n){const r=n.isWebGL2;function i(s,o=null){let a;if(s===er)return 5121;if(s===VN)return 32819;if(s===WN)return 32820;if(s===HN)return 5120;if(s===GN)return 5122;if(s===XA)return 5123;if(s===$N)return 5124;if(s===Ko)return 5125;if(s===Pi)return 5126;if(s===ls)return r?5131:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===jN)return 6406;if(s===_r)return 6408;if(s===mx)return 6409;if(s===JN)return 6410;if(s===nl)return 6402;if(s===cl)return 34041;if(s===xy)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===YA)return 6403;if(s===KN)return 36244;if(s===QA)return 33319;if(s===XN)return 33320;if(s===YN)return 36249;if(s===Ov||s===Fv||s===kv||s===Nv)if(o===lt)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===Ov)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===Fv)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===kv)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===Nv)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===Ov)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===Fv)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===kv)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===Nv)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===fw||s===dw||s===hw||s===pw)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===fw)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===dw)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===hw)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===pw)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===QN)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===mw||s===gw)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===mw)return o===lt?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===gw)return o===lt?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===vw||s===yw||s===xw||s===_w||s===Sw||s===bw||s===ww||s===Mw||s===Aw||s===Ew||s===Cw||s===Tw||s===Pw||s===Rw)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===vw)return o===lt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===yw)return o===lt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===xw)return o===lt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===_w)return o===lt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===Sw)return o===lt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===bw)return o===lt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===ww)return o===lt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===Mw)return o===lt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===Aw)return o===lt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===Ew)return o===lt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===Cw)return o===lt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===Tw)return o===lt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===Pw)return o===lt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===Rw)return o===lt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===Uv)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===Uv)return o===lt?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(s===ZN||s===Bw||s===Iw||s===Dw)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(s===Uv)return a.COMPRESSED_RED_RGTC1_EXT;if(s===Bw)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===Iw)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===Dw)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===tl?r?34042:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):t[s]!==void 0?t[s]:null}return{convert:i}}class y4 extends Ln{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Xo extends Ht{constructor(){super(),this.isGroup=!0,this.type="Group"}}const hK={type:"move"};class rS{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Xo,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Xo,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new N,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new N),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Xo,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new N,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new N),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,u=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(u&&e.hand){o=!0;for(const y of e.hand.values()){const x=n.getJointPose(y,r),g=this._getHandJoint(u,y);x!==null&&(g.matrix.fromArray(x.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.jointRadius=x.radius),g.visible=x!==null}const c=u.joints["index-finger-tip"],d=u.joints["thumb-tip"],p=c.position.distanceTo(d.position),m=.02,v=.005;u.inputState.pinching&&p>m+v?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&p<=m-v&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=n.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(hK)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),u!==null&&(u.visible=o!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new Xo;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}class uE extends ln{constructor(e,n,r,i,s,o,a,l,u,c){if(c=c!==void 0?c:nl,c!==nl&&c!==cl)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&c===nl&&(r=Ko),r===void 0&&c===cl&&(r=tl),super(null,i,s,o,a,l,c,r,u),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=a!==void 0?a:en,this.minFilter=l!==void 0?l:en,this.flipY=!1,this.generateMipmaps=!1}}class pK extends ps{constructor(e,n){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=1,u=null,c=null,d=null,p=null,m=null,v=null;const y=n.getContextAttributes();let x=null,g=null;const b=[],S=[],M=new Set,C=new Map,E=new Ln;E.layers.enable(1),E.viewport=new Nt;const R=new Ln;R.layers.enable(2),R.viewport=new Nt;const I=[E,R],P=new y4;P.layers.enable(1),P.layers.enable(2);let B=null,O=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(se){let le=b[se];return le===void 0&&(le=new rS,b[se]=le),le.getTargetRaySpace()},this.getControllerGrip=function(se){let le=b[se];return le===void 0&&(le=new rS,b[se]=le),le.getGripSpace()},this.getHand=function(se){let le=b[se];return le===void 0&&(le=new rS,b[se]=le),le.getHandSpace()};function H(se){const le=S.indexOf(se.inputSource);if(le===-1)return;const Me=b[le];Me!==void 0&&Me.dispatchEvent({type:se.type,data:se.inputSource})}function U(){i.removeEventListener("select",H),i.removeEventListener("selectstart",H),i.removeEventListener("selectend",H),i.removeEventListener("squeeze",H),i.removeEventListener("squeezestart",H),i.removeEventListener("squeezeend",H),i.removeEventListener("end",U),i.removeEventListener("inputsourceschange",V);for(let se=0;se<b.length;se++){const le=S[se];le!==null&&(S[se]=null,b[se].disconnect(le))}B=null,O=null,e.setRenderTarget(x),m=null,p=null,d=null,i=null,g=null,re.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(se){s=se,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(se){a=se,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||o},this.setReferenceSpace=function(se){u=se},this.getBaseLayer=function(){return p!==null?p:m},this.getBinding=function(){return d},this.getFrame=function(){return v},this.getSession=function(){return i},this.setSession=async function(se){if(i=se,i!==null){if(x=e.getRenderTarget(),i.addEventListener("select",H),i.addEventListener("selectstart",H),i.addEventListener("selectend",H),i.addEventListener("squeeze",H),i.addEventListener("squeezestart",H),i.addEventListener("squeezeend",H),i.addEventListener("end",U),i.addEventListener("inputsourceschange",V),y.xrCompatible!==!0&&await n.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const le={antialias:i.renderState.layers===void 0?y.antialias:!0,alpha:y.alpha,depth:y.depth,stencil:y.stencil,framebufferScaleFactor:s};m=new XRWebGLLayer(i,n,le),i.updateRenderState({baseLayer:m}),g=new Fn(m.framebufferWidth,m.framebufferHeight,{format:_r,type:er,encoding:e.outputEncoding,stencilBuffer:y.stencil})}else{let le=null,Me=null,be=null;y.depth&&(be=y.stencil?35056:33190,le=y.stencil?cl:nl,Me=y.stencil?tl:Ko);const ee={colorFormat:32856,depthFormat:be,scaleFactor:s};d=new XRWebGLBinding(i,n),p=d.createProjectionLayer(ee),i.updateRenderState({layers:[p]}),g=new Fn(p.textureWidth,p.textureHeight,{format:_r,type:er,depthTexture:new uE(p.textureWidth,p.textureHeight,Me,void 0,void 0,void 0,void 0,void 0,void 0,le),stencilBuffer:y.stencil,encoding:e.outputEncoding,samples:y.antialias?4:0});const Ve=e.properties.get(g);Ve.__ignoreDepthValues=p.ignoreDepthValues}g.isXRRenderTarget=!0,this.setFoveation(l),u=null,o=await i.requestReferenceSpace(a),re.setContext(i),re.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}};function V(se){for(let le=0;le<se.removed.length;le++){const Me=se.removed[le],be=S.indexOf(Me);be>=0&&(S[be]=null,b[be].disconnect(Me))}for(let le=0;le<se.added.length;le++){const Me=se.added[le];let be=S.indexOf(Me);if(be===-1){for(let Ve=0;Ve<b.length;Ve++)if(Ve>=S.length){S.push(Me),be=Ve;break}else if(S[Ve]===null){S[Ve]=Me,be=Ve;break}if(be===-1)break}const ee=b[be];ee&&ee.connect(Me)}}const j=new N,Z=new N;function ne(se,le,Me){j.setFromMatrixPosition(le.matrixWorld),Z.setFromMatrixPosition(Me.matrixWorld);const be=j.distanceTo(Z),ee=le.projectionMatrix.elements,Ve=Me.projectionMatrix.elements,We=ee[14]/(ee[10]-1),we=ee[14]/(ee[10]+1),Be=(ee[9]+1)/ee[5],ye=(ee[9]-1)/ee[5],ue=(ee[8]-1)/ee[0],xe=(Ve[8]+1)/Ve[0],Le=We*ue,Re=We*xe,qe=be/(-ue+xe),et=qe*-ue;le.matrixWorld.decompose(se.position,se.quaternion,se.scale),se.translateX(et),se.translateZ(qe),se.matrixWorld.compose(se.position,se.quaternion,se.scale),se.matrixWorldInverse.copy(se.matrixWorld).invert();const Ke=We+qe,at=we+qe,St=Le-et,k=Re+(be-et),F=Be*we/at*Ke,Q=ye*we/at*Ke;se.projectionMatrix.makePerspective(St,k,F,Q,Ke,at),se.projectionMatrixInverse.copy(se.projectionMatrix).invert()}function z(se,le){le===null?se.matrixWorld.copy(se.matrix):se.matrixWorld.multiplyMatrices(le.matrixWorld,se.matrix),se.matrixWorldInverse.copy(se.matrixWorld).invert()}this.updateCamera=function(se){if(i===null)return;P.near=R.near=E.near=se.near,P.far=R.far=E.far=se.far,(B!==P.near||O!==P.far)&&(i.updateRenderState({depthNear:P.near,depthFar:P.far}),B=P.near,O=P.far);const le=se.parent,Me=P.cameras;z(P,le);for(let be=0;be<Me.length;be++)z(Me[be],le);Me.length===2?ne(P,E,R):P.projectionMatrix.copy(E.projectionMatrix),J(se,P,le)};function J(se,le,Me){Me===null?se.matrix.copy(le.matrixWorld):(se.matrix.copy(Me.matrixWorld),se.matrix.invert(),se.matrix.multiply(le.matrixWorld)),se.matrix.decompose(se.position,se.quaternion,se.scale),se.updateMatrixWorld(!0);const be=se.children;for(let ee=0,Ve=be.length;ee<Ve;ee++)be[ee].updateMatrixWorld(!0);se.projectionMatrix.copy(le.projectionMatrix),se.projectionMatrixInverse.copy(le.projectionMatrixInverse),se.isPerspectiveCamera&&(se.fov=Xf*2*Math.atan(1/se.projectionMatrix.elements[5]),se.zoom=1)}this.getCamera=function(){return P},this.getFoveation=function(){if(!(p===null&&m===null))return l},this.setFoveation=function(se){l=se,p!==null&&(p.fixedFoveation=se),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=se)},this.getPlanes=function(){return M};let K=null;function ie(se,le){if(c=le.getViewerPose(u||o),v=le,c!==null){const Me=c.views;m!==null&&(e.setRenderTargetFramebuffer(g,m.framebuffer),e.setRenderTarget(g));let be=!1;Me.length!==P.cameras.length&&(P.cameras.length=0,be=!0);for(let ee=0;ee<Me.length;ee++){const Ve=Me[ee];let We=null;if(m!==null)We=m.getViewport(Ve);else{const Be=d.getViewSubImage(p,Ve);We=Be.viewport,ee===0&&(e.setRenderTargetTextures(g,Be.colorTexture,p.ignoreDepthValues?void 0:Be.depthStencilTexture),e.setRenderTarget(g))}let we=I[ee];we===void 0&&(we=new Ln,we.layers.enable(ee),we.viewport=new Nt,I[ee]=we),we.matrix.fromArray(Ve.transform.matrix),we.matrix.decompose(we.position,we.quaternion,we.scale),we.projectionMatrix.fromArray(Ve.projectionMatrix),we.projectionMatrixInverse.copy(we.projectionMatrix).invert(),we.viewport.set(We.x,We.y,We.width,We.height),ee===0&&(P.matrix.copy(we.matrix),P.matrix.decompose(P.position,P.quaternion,P.scale)),be===!0&&P.cameras.push(we)}}for(let Me=0;Me<b.length;Me++){const be=S[Me],ee=b[Me];be!==null&&ee!==void 0&&ee.update(be,le,u||o)}if(K&&K(se,le),le.detectedPlanes){r.dispatchEvent({type:"planesdetected",data:le.detectedPlanes});let Me=null;for(const be of M)le.detectedPlanes.has(be)||(Me===null&&(Me=[]),Me.push(be));if(Me!==null)for(const be of Me)M.delete(be),C.delete(be),r.dispatchEvent({type:"planeremoved",data:be});for(const be of le.detectedPlanes)if(!M.has(be))M.add(be),C.set(be,le.lastChangedTime),r.dispatchEvent({type:"planeadded",data:be});else{const ee=C.get(be);be.lastChangedTime>ee&&(C.set(be,be.lastChangedTime),r.dispatchEvent({type:"planechanged",data:be}))}}v=null}const re=new d4;re.setAnimationLoop(ie),this.setAnimationLoop=function(se){K=se},this.dispose=function(){}}}function mK(t,e){function n(x,g){x.matrixAutoUpdate===!0&&x.updateMatrix(),g.value.copy(x.matrix)}function r(x,g){g.color.getRGB(x.fogColor.value,u4(t)),g.isFog?(x.fogNear.value=g.near,x.fogFar.value=g.far):g.isFogExp2&&(x.fogDensity.value=g.density)}function i(x,g,b,S,M){g.isMeshBasicMaterial||g.isMeshLambertMaterial?s(x,g):g.isMeshToonMaterial?(s(x,g),d(x,g)):g.isMeshPhongMaterial?(s(x,g),c(x,g)):g.isMeshStandardMaterial?(s(x,g),p(x,g),g.isMeshPhysicalMaterial&&m(x,g,M)):g.isMeshMatcapMaterial?(s(x,g),v(x,g)):g.isMeshDepthMaterial?s(x,g):g.isMeshDistanceMaterial?(s(x,g),y(x,g)):g.isMeshNormalMaterial?s(x,g):g.isLineBasicMaterial?(o(x,g),g.isLineDashedMaterial&&a(x,g)):g.isPointsMaterial?l(x,g,b,S):g.isSpriteMaterial?u(x,g):g.isShadowMaterial?(x.color.value.copy(g.color),x.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}function s(x,g){x.opacity.value=g.opacity,g.color&&x.diffuse.value.copy(g.color),g.emissive&&x.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(x.map.value=g.map,n(g.map,x.mapTransform)),g.alphaMap&&(x.alphaMap.value=g.alphaMap,n(g.alphaMap,x.alphaMapTransform)),g.bumpMap&&(x.bumpMap.value=g.bumpMap,n(g.bumpMap,x.bumpMapTransform),x.bumpScale.value=g.bumpScale,g.side===Zn&&(x.bumpScale.value*=-1)),g.normalMap&&(x.normalMap.value=g.normalMap,n(g.normalMap,x.normalMapTransform),x.normalScale.value.copy(g.normalScale),g.side===Zn&&x.normalScale.value.negate()),g.displacementMap&&(x.displacementMap.value=g.displacementMap,n(g.displacementMap,x.displacementMapTransform),x.displacementScale.value=g.displacementScale,x.displacementBias.value=g.displacementBias),g.emissiveMap&&(x.emissiveMap.value=g.emissiveMap,n(g.emissiveMap,x.emissiveMapTransform)),g.specularMap&&(x.specularMap.value=g.specularMap,n(g.specularMap,x.specularMapTransform)),g.alphaTest>0&&(x.alphaTest.value=g.alphaTest);const b=e.get(g).envMap;if(b&&(x.envMap.value=b,x.flipEnvMap.value=b.isCubeTexture&&b.isRenderTargetTexture===!1?-1:1,x.reflectivity.value=g.reflectivity,x.ior.value=g.ior,x.refractionRatio.value=g.refractionRatio),g.lightMap){x.lightMap.value=g.lightMap;const S=t.useLegacyLights===!0?Math.PI:1;x.lightMapIntensity.value=g.lightMapIntensity*S,n(g.lightMap,x.lightMapTransform)}g.aoMap&&(x.aoMap.value=g.aoMap,x.aoMapIntensity.value=g.aoMapIntensity,n(g.aoMap,x.aoMapTransform))}function o(x,g){x.diffuse.value.copy(g.color),x.opacity.value=g.opacity,g.map&&(x.map.value=g.map,n(g.map,x.mapTransform))}function a(x,g){x.dashSize.value=g.dashSize,x.totalSize.value=g.dashSize+g.gapSize,x.scale.value=g.scale}function l(x,g,b,S){x.diffuse.value.copy(g.color),x.opacity.value=g.opacity,x.size.value=g.size*b,x.scale.value=S*.5,g.map&&(x.map.value=g.map,n(g.map,x.uvTransform)),g.alphaMap&&(x.alphaMap.value=g.alphaMap),g.alphaTest>0&&(x.alphaTest.value=g.alphaTest)}function u(x,g){x.diffuse.value.copy(g.color),x.opacity.value=g.opacity,x.rotation.value=g.rotation,g.map&&(x.map.value=g.map,n(g.map,x.mapTransform)),g.alphaMap&&(x.alphaMap.value=g.alphaMap),g.alphaTest>0&&(x.alphaTest.value=g.alphaTest)}function c(x,g){x.specular.value.copy(g.specular),x.shininess.value=Math.max(g.shininess,1e-4)}function d(x,g){g.gradientMap&&(x.gradientMap.value=g.gradientMap)}function p(x,g){x.metalness.value=g.metalness,g.metalnessMap&&(x.metalnessMap.value=g.metalnessMap,n(g.metalnessMap,x.metalnessMapTransform)),x.roughness.value=g.roughness,g.roughnessMap&&(x.roughnessMap.value=g.roughnessMap,n(g.roughnessMap,x.roughnessMapTransform)),e.get(g).envMap&&(x.envMapIntensity.value=g.envMapIntensity)}function m(x,g,b){x.ior.value=g.ior,g.sheen>0&&(x.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),x.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(x.sheenColorMap.value=g.sheenColorMap,n(g.sheenColorMap,x.sheenColorMapTransform)),g.sheenRoughnessMap&&(x.sheenRoughnessMap.value=g.sheenRoughnessMap,n(g.sheenRoughnessMap,x.sheenRoughnessMapTransform))),g.clearcoat>0&&(x.clearcoat.value=g.clearcoat,x.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(x.clearcoatMap.value=g.clearcoatMap,n(g.clearcoatMap,x.clearcoatMapTransform)),g.clearcoatRoughnessMap&&(x.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap,n(g.clearcoatRoughnessMap,x.clearcoatRoughnessMapTransform)),g.clearcoatNormalMap&&(x.clearcoatNormalMap.value=g.clearcoatNormalMap,n(g.clearcoatNormalMap,x.clearcoatNormalMapTransform),x.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),g.side===Zn&&x.clearcoatNormalScale.value.negate())),g.iridescence>0&&(x.iridescence.value=g.iridescence,x.iridescenceIOR.value=g.iridescenceIOR,x.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],x.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(x.iridescenceMap.value=g.iridescenceMap,n(g.iridescenceMap,x.iridescenceMapTransform)),g.iridescenceThicknessMap&&(x.iridescenceThicknessMap.value=g.iridescenceThicknessMap,n(g.iridescenceThicknessMap,x.iridescenceThicknessMapTransform))),g.transmission>0&&(x.transmission.value=g.transmission,x.transmissionSamplerMap.value=b.texture,x.transmissionSamplerSize.value.set(b.width,b.height),g.transmissionMap&&(x.transmissionMap.value=g.transmissionMap,n(g.transmissionMap,x.transmissionMapTransform)),x.thickness.value=g.thickness,g.thicknessMap&&(x.thicknessMap.value=g.thicknessMap,n(g.thicknessMap,x.thicknessMapTransform)),x.attenuationDistance.value=g.attenuationDistance,x.attenuationColor.value.copy(g.attenuationColor)),x.specularIntensity.value=g.specularIntensity,x.specularColor.value.copy(g.specularColor),g.specularColorMap&&(x.specularColorMap.value=g.specularColorMap,n(g.specularColorMap,x.specularColorMapTransform)),g.specularIntensityMap&&(x.specularIntensityMap.value=g.specularIntensityMap,n(g.specularIntensityMap,x.specularIntensityMapTransform))}function v(x,g){g.matcap&&(x.matcap.value=g.matcap)}function y(x,g){const b=e.get(g).light;x.referencePosition.value.setFromMatrixPosition(b.matrixWorld),x.nearDistance.value=b.shadow.camera.near,x.farDistance.value=b.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function gK(t,e,n,r){let i={},s={},o=[];const a=n.isWebGL2?t.getParameter(35375):0;function l(b,S){const M=S.program;r.uniformBlockBinding(b,M)}function u(b,S){let M=i[b.id];M===void 0&&(v(b),M=c(b),i[b.id]=M,b.addEventListener("dispose",x));const C=S.program;r.updateUBOMapping(b,C);const E=e.render.frame;s[b.id]!==E&&(p(b),s[b.id]=E)}function c(b){const S=d();b.__bindingPointIndex=S;const M=t.createBuffer(),C=b.__size,E=b.usage;return t.bindBuffer(35345,M),t.bufferData(35345,C,E),t.bindBuffer(35345,null),t.bindBufferBase(35345,S,M),M}function d(){for(let b=0;b<a;b++)if(o.indexOf(b)===-1)return o.push(b),b;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(b){const S=i[b.id],M=b.uniforms,C=b.__cache;t.bindBuffer(35345,S);for(let E=0,R=M.length;E<R;E++){const I=M[E];if(m(I,E,C)===!0){const P=I.__offset,B=Array.isArray(I.value)?I.value:[I.value];let O=0;for(let H=0;H<B.length;H++){const U=B[H],V=y(U);typeof U=="number"?(I.__data[0]=U,t.bufferSubData(35345,P+O,I.__data)):U.isMatrix3?(I.__data[0]=U.elements[0],I.__data[1]=U.elements[1],I.__data[2]=U.elements[2],I.__data[3]=U.elements[0],I.__data[4]=U.elements[3],I.__data[5]=U.elements[4],I.__data[6]=U.elements[5],I.__data[7]=U.elements[0],I.__data[8]=U.elements[6],I.__data[9]=U.elements[7],I.__data[10]=U.elements[8],I.__data[11]=U.elements[0]):(U.toArray(I.__data,O),O+=V.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(35345,P,I.__data)}}t.bindBuffer(35345,null)}function m(b,S,M){const C=b.value;if(M[S]===void 0){if(typeof C=="number")M[S]=C;else{const E=Array.isArray(C)?C:[C],R=[];for(let I=0;I<E.length;I++)R.push(E[I].clone());M[S]=R}return!0}else if(typeof C=="number"){if(M[S]!==C)return M[S]=C,!0}else{const E=Array.isArray(M[S])?M[S]:[M[S]],R=Array.isArray(C)?C:[C];for(let I=0;I<E.length;I++){const P=E[I];if(P.equals(R[I])===!1)return P.copy(R[I]),!0}}return!1}function v(b){const S=b.uniforms;let M=0;const C=16;let E=0;for(let R=0,I=S.length;R<I;R++){const P=S[R],B={boundary:0,storage:0},O=Array.isArray(P.value)?P.value:[P.value];for(let H=0,U=O.length;H<U;H++){const V=O[H],j=y(V);B.boundary+=j.boundary,B.storage+=j.storage}if(P.__data=new Float32Array(B.storage/Float32Array.BYTES_PER_ELEMENT),P.__offset=M,R>0){E=M%C;const H=C-E;E!==0&&H-B.boundary<0&&(M+=C-E,P.__offset=M)}M+=B.storage}return E=M%C,E>0&&(M+=C-E),b.__size=M,b.__cache={},this}function y(b){const S={boundary:0,storage:0};return typeof b=="number"?(S.boundary=4,S.storage=4):b.isVector2?(S.boundary=8,S.storage=8):b.isVector3||b.isColor?(S.boundary=16,S.storage=12):b.isVector4?(S.boundary=16,S.storage=16):b.isMatrix3?(S.boundary=48,S.storage=48):b.isMatrix4?(S.boundary=64,S.storage=64):b.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",b),S}function x(b){const S=b.target;S.removeEventListener("dispose",x);const M=o.indexOf(S.__bindingPointIndex);o.splice(M,1),t.deleteBuffer(i[S.id]),delete i[S.id],delete s[S.id]}function g(){for(const b in i)t.deleteBuffer(i[b]);o=[],i={},s={}}return{bind:l,update:u,dispose:g}}function vK(){const t=jp("canvas");return t.style.display="block",t}class cE{constructor(e={}){const{canvas:n=vK(),context:r=null,depth:i=!0,stencil:s=!0,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:u=!1,powerPreference:c="default",failIfMajorPerformanceCaveat:d=!1}=e;this.isWebGLRenderer=!0;let p;r!==null?p=r.getContextAttributes().alpha:p=o;let m=null,v=null;const y=[],x=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=pi,this.useLegacyLights=!0,this.toneMapping=Ns,this.toneMappingExposure=1;const g=this;let b=!1,S=0,M=0,C=null,E=-1,R=null;const I=new Nt,P=new Nt;let B=null,O=n.width,H=n.height,U=1,V=null,j=null;const Z=new Nt(0,0,O,H),ne=new Nt(0,0,O,H);let z=!1;const J=new yx;let K=!1,ie=!1,re=null;const se=new ut,le=new N,Me={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function be(){return C===null?U:1}let ee=r;function Ve(G,ae){for(let pe=0;pe<G.length;pe++){const te=G[pe],ge=n.getContext(te,ae);if(ge!==null)return ge}return null}try{const G={alpha:!0,depth:i,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:u,powerPreference:c,failIfMajorPerformanceCaveat:d};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${cd}`),n.addEventListener("webglcontextlost",je,!1),n.addEventListener("webglcontextrestored",bt,!1),n.addEventListener("webglcontextcreationerror",Ft,!1),ee===null){const ae=["webgl2","webgl","experimental-webgl"];if(g.isWebGL1Renderer===!0&&ae.shift(),ee=Ve(ae,G),ee===null)throw Ve(ae)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}ee.getShaderPrecisionFormat===void 0&&(ee.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(G){throw console.error("THREE.WebGLRenderer: "+G.message),G}let We,we,Be,ye,ue,xe,Le,Re,qe,et,Ke,at,St,k,F,Q,ve,_e,Pe,tt,Oe,he,Ge,Xe;function nt(){We=new Dj(ee),we=new Cj(ee,We,e),We.init(we),he=new v4(ee,We,we),Be=new fK(ee,We,we),ye=new Fj,ue=new qJ,xe=new dK(ee,We,Be,ue,we,he,ye),Le=new Pj(g),Re=new Ij(g),qe=new KV(ee,we),Ge=new Aj(ee,We,qe,we),et=new Lj(ee,qe,ye,Ge),Ke=new zj(ee,et,qe,ye),Pe=new Uj(ee,we,xe),Q=new Tj(ue),at=new ZJ(g,Le,Re,We,we,Ge,Q),St=new mK(g,ue),k=new tK,F=new aK(We,we),_e=new Mj(g,Le,Re,Be,Ke,p,l),ve=new cK(g,Ke,we),Xe=new gK(ee,ye,we,Be),tt=new Ej(ee,We,ye,we),Oe=new Oj(ee,We,ye,we),ye.programs=at.programs,g.capabilities=we,g.extensions=We,g.properties=ue,g.renderLists=k,g.shadowMap=ve,g.state=Be,g.info=ye}nt();const Ne=new pK(g,ee);this.xr=Ne,this.getContext=function(){return ee},this.getContextAttributes=function(){return ee.getContextAttributes()},this.forceContextLoss=function(){const G=We.get("WEBGL_lose_context");G&&G.loseContext()},this.forceContextRestore=function(){const G=We.get("WEBGL_lose_context");G&&G.restoreContext()},this.getPixelRatio=function(){return U},this.setPixelRatio=function(G){G!==void 0&&(U=G,this.setSize(O,H,!1))},this.getSize=function(G){return G.set(O,H)},this.setSize=function(G,ae,pe=!0){if(Ne.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}O=G,H=ae,n.width=Math.floor(G*U),n.height=Math.floor(ae*U),pe===!0&&(n.style.width=G+"px",n.style.height=ae+"px"),this.setViewport(0,0,G,ae)},this.getDrawingBufferSize=function(G){return G.set(O*U,H*U).floor()},this.setDrawingBufferSize=function(G,ae,pe){O=G,H=ae,U=pe,n.width=Math.floor(G*pe),n.height=Math.floor(ae*pe),this.setViewport(0,0,G,ae)},this.getCurrentViewport=function(G){return G.copy(I)},this.getViewport=function(G){return G.copy(Z)},this.setViewport=function(G,ae,pe,te){G.isVector4?Z.set(G.x,G.y,G.z,G.w):Z.set(G,ae,pe,te),Be.viewport(I.copy(Z).multiplyScalar(U).floor())},this.getScissor=function(G){return G.copy(ne)},this.setScissor=function(G,ae,pe,te){G.isVector4?ne.set(G.x,G.y,G.z,G.w):ne.set(G,ae,pe,te),Be.scissor(P.copy(ne).multiplyScalar(U).floor())},this.getScissorTest=function(){return z},this.setScissorTest=function(G){Be.setScissorTest(z=G)},this.setOpaqueSort=function(G){V=G},this.setTransparentSort=function(G){j=G},this.getClearColor=function(G){return G.copy(_e.getClearColor())},this.setClearColor=function(){_e.setClearColor.apply(_e,arguments)},this.getClearAlpha=function(){return _e.getClearAlpha()},this.setClearAlpha=function(){_e.setClearAlpha.apply(_e,arguments)},this.clear=function(G=!0,ae=!0,pe=!0){let te=0;G&&(te|=16384),ae&&(te|=256),pe&&(te|=1024),ee.clear(te)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",je,!1),n.removeEventListener("webglcontextrestored",bt,!1),n.removeEventListener("webglcontextcreationerror",Ft,!1),k.dispose(),F.dispose(),ue.dispose(),Le.dispose(),Re.dispose(),Ke.dispose(),Ge.dispose(),Xe.dispose(),at.dispose(),Ne.dispose(),Ne.removeEventListener("sessionstart",Qe),Ne.removeEventListener("sessionend",Qt),re&&(re.dispose(),re=null),rn.stop()};function je(G){G.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),b=!0}function bt(){console.log("THREE.WebGLRenderer: Context Restored."),b=!1;const G=ye.autoReset,ae=ve.enabled,pe=ve.autoUpdate,te=ve.needsUpdate,ge=ve.type;nt(),ye.autoReset=G,ve.enabled=ae,ve.autoUpdate=pe,ve.needsUpdate=te,ve.type=ge}function Ft(G){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",G.statusMessage)}function cn(G){const ae=G.target;ae.removeEventListener("dispose",cn),X(ae)}function X(G){me(G),ue.remove(G)}function me(G){const ae=ue.get(G).programs;ae!==void 0&&(ae.forEach(function(pe){at.releaseProgram(pe)}),G.isShaderMaterial&&at.releaseShaderCache(G))}this.renderBufferDirect=function(G,ae,pe,te,ge,it){ae===null&&(ae=Me);const dt=ge.isMesh&&ge.matrixWorld.determinant()<0,ht=ng(G,ae,pe,te,ge);Be.setMaterial(te,dt);let xt=pe.index,Et=1;te.wireframe===!0&&(xt=et.getWireframeAttribute(pe),Et=2);const Ct=pe.drawRange,Bt=pe.attributes.position;let Jt=Ct.start*Et,mr=(Ct.start+Ct.count)*Et;it!==null&&(Jt=Math.max(Jt,it.start*Et),mr=Math.min(mr,(it.start+it.count)*Et)),xt!==null?(Jt=Math.max(Jt,0),mr=Math.min(mr,xt.count)):Bt!=null&&(Jt=Math.max(Jt,0),mr=Math.min(mr,Bt.count));const yi=mr-Jt;if(yi<0||yi===1/0)return;Ge.setup(ge,te,ht,pe,xt);let ys,sn=tt;if(xt!==null&&(ys=qe.get(xt),sn=Oe,sn.setIndex(ys)),ge.isMesh)te.wireframe===!0?(Be.setLineWidth(te.wireframeLinewidth*be()),sn.setMode(1)):sn.setMode(4);else if(ge.isLine){let It=te.linewidth;It===void 0&&(It=1),Be.setLineWidth(It*be()),ge.isLineSegments?sn.setMode(1):ge.isLineLoop?sn.setMode(2):sn.setMode(3)}else ge.isPoints?sn.setMode(0):ge.isSprite&&sn.setMode(4);if(ge.isInstancedMesh)sn.renderInstances(Jt,yi,ge.count);else if(pe.isInstancedBufferGeometry){const It=pe._maxInstanceCount!==void 0?pe._maxInstanceCount:1/0,Cl=Math.min(pe.instanceCount,It);sn.renderInstances(Jt,yi,Cl)}else sn.render(Jt,yi)},this.compile=function(G,ae){function pe(te,ge,it){te.transparent===!0&&te.side===Dr&&te.forceSinglePass===!1?(te.side=Zn,te.needsUpdate=!0,Zu(te,ge,it),te.side=Hs,te.needsUpdate=!0,Zu(te,ge,it),te.side=Dr):Zu(te,ge,it)}v=F.get(G),v.init(),x.push(v),G.traverseVisible(function(te){te.isLight&&te.layers.test(ae.layers)&&(v.pushLight(te),te.castShadow&&v.pushShadow(te))}),v.setupLights(g.useLegacyLights),G.traverse(function(te){const ge=te.material;if(ge)if(Array.isArray(ge))for(let it=0;it<ge.length;it++){const dt=ge[it];pe(dt,G,te)}else pe(ge,G,te)}),x.pop(),v=null};let Ae=null;function ke(G){Ae&&Ae(G)}function Qe(){rn.stop()}function Qt(){rn.start()}const rn=new d4;rn.setAnimationLoop(ke),typeof self<"u"&&rn.setContext(self),this.setAnimationLoop=function(G){Ae=G,Ne.setAnimationLoop(G),G===null?rn.stop():rn.start()},Ne.addEventListener("sessionstart",Qe),Ne.addEventListener("sessionend",Qt),this.render=function(G,ae){if(ae!==void 0&&ae.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(b===!0)return;G.matrixWorldAutoUpdate===!0&&G.updateMatrixWorld(),ae.parent===null&&ae.matrixWorldAutoUpdate===!0&&ae.updateMatrixWorld(),Ne.enabled===!0&&Ne.isPresenting===!0&&(Ne.cameraAutoUpdate===!0&&Ne.updateCamera(ae),ae=Ne.getCamera()),G.isScene===!0&&G.onBeforeRender(g,G,ae,C),v=F.get(G,x.length),v.init(),x.push(v),se.multiplyMatrices(ae.projectionMatrix,ae.matrixWorldInverse),J.setFromProjectionMatrix(se),ie=this.localClippingEnabled,K=Q.init(this.clippingPlanes,ie),m=k.get(G,y.length),m.init(),y.push(m),ir(G,ae,0,g.sortObjects),m.finish(),g.sortObjects===!0&&m.sort(V,j),K===!0&&Q.beginShadows();const pe=v.state.shadowsArray;if(ve.render(pe,G,ae),K===!0&&Q.endShadows(),this.info.autoReset===!0&&this.info.reset(),_e.render(m,G),v.setupLights(g.useLegacyLights),ae.isArrayCamera){const te=ae.cameras;for(let ge=0,it=te.length;ge<it;ge++){const dt=te[ge];vs(m,G,dt,dt.viewport)}}else vs(m,G,ae);C!==null&&(xe.updateMultisampleRenderTarget(C),xe.updateRenderTargetMipmap(C)),G.isScene===!0&&G.onAfterRender(g,G,ae),Ge.resetDefaultState(),E=-1,R=null,x.pop(),x.length>0?v=x[x.length-1]:v=null,y.pop(),y.length>0?m=y[y.length-1]:m=null};function ir(G,ae,pe,te){if(G.visible===!1)return;if(G.layers.test(ae.layers)){if(G.isGroup)pe=G.renderOrder;else if(G.isLOD)G.autoUpdate===!0&&G.update(ae);else if(G.isLight)v.pushLight(G),G.castShadow&&v.pushShadow(G);else if(G.isSprite){if(!G.frustumCulled||J.intersectsSprite(G)){te&&le.setFromMatrixPosition(G.matrixWorld).applyMatrix4(se);const dt=Ke.update(G),ht=G.material;ht.visible&&m.push(G,dt,ht,pe,le.z,null)}}else if((G.isMesh||G.isLine||G.isPoints)&&(G.isSkinnedMesh&&G.skeleton.frame!==ye.render.frame&&(G.skeleton.update(),G.skeleton.frame=ye.render.frame),!G.frustumCulled||J.intersectsObject(G))){te&&le.setFromMatrixPosition(G.matrixWorld).applyMatrix4(se);const dt=Ke.update(G),ht=G.material;if(Array.isArray(ht)){const xt=dt.groups;for(let Et=0,Ct=xt.length;Et<Ct;Et++){const Bt=xt[Et],Jt=ht[Bt.materialIndex];Jt&&Jt.visible&&m.push(G,dt,Jt,pe,le.z,Bt)}}else ht.visible&&m.push(G,dt,ht,pe,le.z,null)}}const it=G.children;for(let dt=0,ht=it.length;dt<ht;dt++)ir(it[dt],ae,pe,te)}function vs(G,ae,pe,te){const ge=G.opaque,it=G.transmissive,dt=G.transparent;v.setupLightsView(pe),K===!0&&Q.setGlobalState(g.clippingPlanes,pe),it.length>0&&gn(ge,it,ae,pe),te&&Be.viewport(I.copy(te)),ge.length>0&&zr(ge,ae,pe),it.length>0&&zr(it,ae,pe),dt.length>0&&zr(dt,ae,pe),Be.buffers.depth.setTest(!0),Be.buffers.depth.setMask(!0),Be.buffers.color.setMask(!0),Be.setPolygonOffset(!1)}function gn(G,ae,pe,te){if(re===null){const ht=we.isWebGL2;re=new Fn(1024,1024,{generateMipmaps:!0,type:We.has("EXT_color_buffer_half_float")?ls:er,minFilter:vo,samples:ht&&a===!0?4:0})}const ge=g.getRenderTarget();g.setRenderTarget(re),g.clear();const it=g.toneMapping;g.toneMapping=Ns,zr(G,pe,te),xe.updateMultisampleRenderTarget(re),xe.updateRenderTargetMipmap(re);let dt=!1;for(let ht=0,xt=ae.length;ht<xt;ht++){const Et=ae[ht],Ct=Et.object,Bt=Et.geometry,Jt=Et.material,mr=Et.group;if(Jt.side===Dr&&Ct.layers.test(te.layers)){const yi=Jt.side;Jt.side=Zn,Jt.needsUpdate=!0,Vi(Ct,pe,te,Bt,Jt,mr),Jt.side=yi,Jt.needsUpdate=!0,dt=!0}}dt===!0&&(xe.updateMultisampleRenderTarget(re),xe.updateRenderTargetMipmap(re)),g.setRenderTarget(ge),g.toneMapping=it}function zr(G,ae,pe){const te=ae.isScene===!0?ae.overrideMaterial:null;for(let ge=0,it=G.length;ge<it;ge++){const dt=G[ge],ht=dt.object,xt=dt.geometry,Et=te===null?dt.material:te,Ct=dt.group;ht.layers.test(pe.layers)&&Vi(ht,ae,pe,xt,Et,Ct)}}function Vi(G,ae,pe,te,ge,it){G.onBeforeRender(g,ae,pe,te,ge,it),G.modelViewMatrix.multiplyMatrices(pe.matrixWorldInverse,G.matrixWorld),G.normalMatrix.getNormalMatrix(G.modelViewMatrix),ge.onBeforeRender(g,ae,pe,te,G,it),ge.transparent===!0&&ge.side===Dr&&ge.forceSinglePass===!1?(ge.side=Zn,ge.needsUpdate=!0,g.renderBufferDirect(pe,ae,te,ge,G,it),ge.side=Hs,ge.needsUpdate=!0,g.renderBufferDirect(pe,ae,te,ge,G,it),ge.side=Dr):g.renderBufferDirect(pe,ae,te,ge,G,it),G.onAfterRender(g,ae,pe,te,ge,it)}function Zu(G,ae,pe){ae.isScene!==!0&&(ae=Me);const te=ue.get(G),ge=v.state.lights,it=v.state.shadowsArray,dt=ge.state.version,ht=at.getParameters(G,ge.state,it,ae,pe),xt=at.getProgramCacheKey(ht);let Et=te.programs;te.environment=G.isMeshStandardMaterial?ae.environment:null,te.fog=ae.fog,te.envMap=(G.isMeshStandardMaterial?Re:Le).get(G.envMap||te.environment),Et===void 0&&(G.addEventListener("dispose",cn),Et=new Map,te.programs=Et);let Ct=Et.get(xt);if(Ct!==void 0){if(te.currentProgram===Ct&&te.lightsStateVersion===dt)return tg(G,ht),Ct}else ht.uniforms=at.getUniforms(G),G.onBuild(pe,ht,g),G.onBeforeCompile(ht,g),Ct=at.acquireProgram(ht,xt),Et.set(xt,Ct),te.uniforms=ht.uniforms;const Bt=te.uniforms;(!G.isShaderMaterial&&!G.isRawShaderMaterial||G.clipping===!0)&&(Bt.clippingPlanes=Q.uniform),tg(G,ht),te.needsLights=o1(G),te.lightsStateVersion=dt,te.needsLights&&(Bt.ambientLightColor.value=ge.state.ambient,Bt.lightProbe.value=ge.state.probe,Bt.directionalLights.value=ge.state.directional,Bt.directionalLightShadows.value=ge.state.directionalShadow,Bt.spotLights.value=ge.state.spot,Bt.spotLightShadows.value=ge.state.spotShadow,Bt.rectAreaLights.value=ge.state.rectArea,Bt.ltc_1.value=ge.state.rectAreaLTC1,Bt.ltc_2.value=ge.state.rectAreaLTC2,Bt.pointLights.value=ge.state.point,Bt.pointLightShadows.value=ge.state.pointShadow,Bt.hemisphereLights.value=ge.state.hemi,Bt.directionalShadowMap.value=ge.state.directionalShadowMap,Bt.directionalShadowMatrix.value=ge.state.directionalShadowMatrix,Bt.spotShadowMap.value=ge.state.spotShadowMap,Bt.spotLightMatrix.value=ge.state.spotLightMatrix,Bt.spotLightMap.value=ge.state.spotLightMap,Bt.pointShadowMap.value=ge.state.pointShadowMap,Bt.pointShadowMatrix.value=ge.state.pointShadowMatrix);const Jt=Ct.getUniforms(),mr=Gv.seqWithValue(Jt.seq,Bt);return te.currentProgram=Ct,te.uniformsList=mr,Ct}function tg(G,ae){const pe=ue.get(G);pe.outputEncoding=ae.outputEncoding,pe.instancing=ae.instancing,pe.skinning=ae.skinning,pe.morphTargets=ae.morphTargets,pe.morphNormals=ae.morphNormals,pe.morphColors=ae.morphColors,pe.morphTargetsCount=ae.morphTargetsCount,pe.numClippingPlanes=ae.numClippingPlanes,pe.numIntersection=ae.numClipIntersection,pe.vertexAlphas=ae.vertexAlphas,pe.vertexTangents=ae.vertexTangents,pe.toneMapping=ae.toneMapping}function ng(G,ae,pe,te,ge){ae.isScene!==!0&&(ae=Me),xe.resetTextureUnits();const it=ae.fog,dt=te.isMeshStandardMaterial?ae.environment:null,ht=C===null?g.outputEncoding:C.isXRRenderTarget===!0?C.texture.encoding:pi,xt=(te.isMeshStandardMaterial?Re:Le).get(te.envMap||dt),Et=te.vertexColors===!0&&!!pe.attributes.color&&pe.attributes.color.itemSize===4,Ct=!!te.normalMap&&!!pe.attributes.tangent,Bt=!!pe.morphAttributes.position,Jt=!!pe.morphAttributes.normal,mr=!!pe.morphAttributes.color,yi=te.toneMapped?g.toneMapping:Ns,ys=pe.morphAttributes.position||pe.morphAttributes.normal||pe.morphAttributes.color,sn=ys!==void 0?ys.length:0,It=ue.get(te),Cl=v.state.lights;if(K===!0&&(ie===!0||G!==R)){const Zt=G===R&&te.id===E;Q.setState(te,G,Zt)}let Gn=!1;te.version===It.__version?(It.needsLights&&It.lightsStateVersion!==Cl.state.version||It.outputEncoding!==ht||ge.isInstancedMesh&&It.instancing===!1||!ge.isInstancedMesh&&It.instancing===!0||ge.isSkinnedMesh&&It.skinning===!1||!ge.isSkinnedMesh&&It.skinning===!0||It.envMap!==xt||te.fog===!0&&It.fog!==it||It.numClippingPlanes!==void 0&&(It.numClippingPlanes!==Q.numPlanes||It.numIntersection!==Q.numIntersection)||It.vertexAlphas!==Et||It.vertexTangents!==Ct||It.morphTargets!==Bt||It.morphNormals!==Jt||It.morphColors!==mr||It.toneMapping!==yi||we.isWebGL2===!0&&It.morphTargetsCount!==sn)&&(Gn=!0):(Gn=!0,It.__version=te.version);let xs=It.currentProgram;Gn===!0&&(xs=Zu(te,ae,ge));let bo=!1,ei=!1,Kt=!1;const _t=xs.getUniforms(),wr=It.uniforms;if(Be.useProgram(xs.program)&&(bo=!0,ei=!0,Kt=!0),te.id!==E&&(E=te.id,ei=!0),bo||R!==G){if(_t.setValue(ee,"projectionMatrix",G.projectionMatrix),we.logarithmicDepthBuffer&&_t.setValue(ee,"logDepthBufFC",2/(Math.log(G.far+1)/Math.LN2)),R!==G&&(R=G,ei=!0,Kt=!0),te.isShaderMaterial||te.isMeshPhongMaterial||te.isMeshToonMaterial||te.isMeshStandardMaterial||te.envMap){const Zt=_t.map.cameraPosition;Zt!==void 0&&Zt.setValue(ee,le.setFromMatrixPosition(G.matrixWorld))}(te.isMeshPhongMaterial||te.isMeshToonMaterial||te.isMeshLambertMaterial||te.isMeshBasicMaterial||te.isMeshStandardMaterial||te.isShaderMaterial)&&_t.setValue(ee,"isOrthographic",G.isOrthographicCamera===!0),(te.isMeshPhongMaterial||te.isMeshToonMaterial||te.isMeshLambertMaterial||te.isMeshBasicMaterial||te.isMeshStandardMaterial||te.isShaderMaterial||te.isShadowMaterial||ge.isSkinnedMesh)&&_t.setValue(ee,"viewMatrix",G.matrixWorldInverse)}if(ge.isSkinnedMesh){_t.setOptional(ee,ge,"bindMatrix"),_t.setOptional(ee,ge,"bindMatrixInverse");const Zt=ge.skeleton;Zt&&(we.floatVertexTextures?(Zt.boneTexture===null&&Zt.computeBoneTexture(),_t.setValue(ee,"boneTexture",Zt.boneTexture,xe),_t.setValue(ee,"boneTextureSize",Zt.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const $n=pe.morphAttributes;if(($n.position!==void 0||$n.normal!==void 0||$n.color!==void 0&&we.isWebGL2===!0)&&Pe.update(ge,pe,xs),(ei||It.receiveShadow!==ge.receiveShadow)&&(It.receiveShadow=ge.receiveShadow,_t.setValue(ee,"receiveShadow",ge.receiveShadow)),te.isMeshGouraudMaterial&&te.envMap!==null&&(wr.envMap.value=xt,wr.flipEnvMap.value=xt.isCubeTexture&&xt.isRenderTargetTexture===!1?-1:1),ei&&(_t.setValue(ee,"toneMappingExposure",g.toneMappingExposure),It.needsLights&&kd(wr,Kt),it&&te.fog===!0&&St.refreshFogUniforms(wr,it),St.refreshMaterialUniforms(wr,te,U,H,re),Gv.upload(ee,It.uniformsList,wr,xe)),te.isShaderMaterial&&te.uniformsNeedUpdate===!0&&(Gv.upload(ee,It.uniformsList,wr,xe),te.uniformsNeedUpdate=!1),te.isSpriteMaterial&&_t.setValue(ee,"center",ge.center),_t.setValue(ee,"modelViewMatrix",ge.modelViewMatrix),_t.setValue(ee,"normalMatrix",ge.normalMatrix),_t.setValue(ee,"modelMatrix",ge.matrixWorld),te.isShaderMaterial||te.isRawShaderMaterial){const Zt=te.uniformsGroups;for(let _s=0,va=Zt.length;_s<va;_s++)if(we.isWebGL2){const gr=Zt[_s];Xe.update(gr,xs),Xe.bind(gr,xs)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return xs}function kd(G,ae){G.ambientLightColor.needsUpdate=ae,G.lightProbe.needsUpdate=ae,G.directionalLights.needsUpdate=ae,G.directionalLightShadows.needsUpdate=ae,G.pointLights.needsUpdate=ae,G.pointLightShadows.needsUpdate=ae,G.spotLights.needsUpdate=ae,G.spotLightShadows.needsUpdate=ae,G.rectAreaLights.needsUpdate=ae,G.hemisphereLights.needsUpdate=ae}function o1(G){return G.isMeshLambertMaterial||G.isMeshToonMaterial||G.isMeshPhongMaterial||G.isMeshStandardMaterial||G.isShadowMaterial||G.isShaderMaterial&&G.lights===!0}this.getActiveCubeFace=function(){return S},this.getActiveMipmapLevel=function(){return M},this.getRenderTarget=function(){return C},this.setRenderTargetTextures=function(G,ae,pe){ue.get(G.texture).__webglTexture=ae,ue.get(G.depthTexture).__webglTexture=pe;const te=ue.get(G);te.__hasExternalTextures=!0,te.__hasExternalTextures&&(te.__autoAllocateDepthBuffer=pe===void 0,te.__autoAllocateDepthBuffer||We.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),te.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(G,ae){const pe=ue.get(G);pe.__webglFramebuffer=ae,pe.__useDefaultFramebuffer=ae===void 0},this.setRenderTarget=function(G,ae=0,pe=0){C=G,S=ae,M=pe;let te=!0,ge=null,it=!1,dt=!1;if(G){const xt=ue.get(G);xt.__useDefaultFramebuffer!==void 0?(Be.bindFramebuffer(36160,null),te=!1):xt.__webglFramebuffer===void 0?xe.setupRenderTarget(G):xt.__hasExternalTextures&&xe.rebindTextures(G,ue.get(G.texture).__webglTexture,ue.get(G.depthTexture).__webglTexture);const Et=G.texture;(Et.isData3DTexture||Et.isDataArrayTexture||Et.isCompressedArrayTexture)&&(dt=!0);const Ct=ue.get(G).__webglFramebuffer;G.isWebGLCubeRenderTarget?(ge=Ct[ae],it=!0):we.isWebGL2&&G.samples>0&&xe.useMultisampledRTT(G)===!1?ge=ue.get(G).__webglMultisampledFramebuffer:ge=Ct,I.copy(G.viewport),P.copy(G.scissor),B=G.scissorTest}else I.copy(Z).multiplyScalar(U).floor(),P.copy(ne).multiplyScalar(U).floor(),B=z;if(Be.bindFramebuffer(36160,ge)&&we.drawBuffers&&te&&Be.drawBuffers(G,ge),Be.viewport(I),Be.scissor(P),Be.setScissorTest(B),it){const xt=ue.get(G.texture);ee.framebufferTexture2D(36160,36064,34069+ae,xt.__webglTexture,pe)}else if(dt){const xt=ue.get(G.texture),Et=ae||0;ee.framebufferTextureLayer(36160,36064,xt.__webglTexture,pe||0,Et)}E=-1},this.readRenderTargetPixels=function(G,ae,pe,te,ge,it,dt){if(!(G&&G.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let ht=ue.get(G).__webglFramebuffer;if(G.isWebGLCubeRenderTarget&&dt!==void 0&&(ht=ht[dt]),ht){Be.bindFramebuffer(36160,ht);try{const xt=G.texture,Et=xt.format,Ct=xt.type;if(Et!==_r&&he.convert(Et)!==ee.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Bt=Ct===ls&&(We.has("EXT_color_buffer_half_float")||we.isWebGL2&&We.has("EXT_color_buffer_float"));if(Ct!==er&&he.convert(Ct)!==ee.getParameter(35738)&&!(Ct===Pi&&(we.isWebGL2||We.has("OES_texture_float")||We.has("WEBGL_color_buffer_float")))&&!Bt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ae>=0&&ae<=G.width-te&&pe>=0&&pe<=G.height-ge&&ee.readPixels(ae,pe,te,ge,he.convert(Et),he.convert(Ct),it)}finally{const xt=C!==null?ue.get(C).__webglFramebuffer:null;Be.bindFramebuffer(36160,xt)}}},this.copyFramebufferToTexture=function(G,ae,pe=0){const te=Math.pow(2,-pe),ge=Math.floor(ae.image.width*te),it=Math.floor(ae.image.height*te);xe.setTexture2D(ae,0),ee.copyTexSubImage2D(3553,pe,0,0,G.x,G.y,ge,it),Be.unbindTexture()},this.copyTextureToTexture=function(G,ae,pe,te=0){const ge=ae.image.width,it=ae.image.height,dt=he.convert(pe.format),ht=he.convert(pe.type);xe.setTexture2D(pe,0),ee.pixelStorei(37440,pe.flipY),ee.pixelStorei(37441,pe.premultiplyAlpha),ee.pixelStorei(3317,pe.unpackAlignment),ae.isDataTexture?ee.texSubImage2D(3553,te,G.x,G.y,ge,it,dt,ht,ae.image.data):ae.isCompressedTexture?ee.compressedTexSubImage2D(3553,te,G.x,G.y,ae.mipmaps[0].width,ae.mipmaps[0].height,dt,ae.mipmaps[0].data):ee.texSubImage2D(3553,te,G.x,G.y,dt,ht,ae.image),te===0&&pe.generateMipmaps&&ee.generateMipmap(3553),Be.unbindTexture()},this.copyTextureToTexture3D=function(G,ae,pe,te,ge=0){if(g.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const it=G.max.x-G.min.x+1,dt=G.max.y-G.min.y+1,ht=G.max.z-G.min.z+1,xt=he.convert(te.format),Et=he.convert(te.type);let Ct;if(te.isData3DTexture)xe.setTexture3D(te,0),Ct=32879;else if(te.isDataArrayTexture)xe.setTexture2DArray(te,0),Ct=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}ee.pixelStorei(37440,te.flipY),ee.pixelStorei(37441,te.premultiplyAlpha),ee.pixelStorei(3317,te.unpackAlignment);const Bt=ee.getParameter(3314),Jt=ee.getParameter(32878),mr=ee.getParameter(3316),yi=ee.getParameter(3315),ys=ee.getParameter(32877),sn=pe.isCompressedTexture?pe.mipmaps[0]:pe.image;ee.pixelStorei(3314,sn.width),ee.pixelStorei(32878,sn.height),ee.pixelStorei(3316,G.min.x),ee.pixelStorei(3315,G.min.y),ee.pixelStorei(32877,G.min.z),pe.isDataTexture||pe.isData3DTexture?ee.texSubImage3D(Ct,ge,ae.x,ae.y,ae.z,it,dt,ht,xt,Et,sn.data):pe.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),ee.compressedTexSubImage3D(Ct,ge,ae.x,ae.y,ae.z,it,dt,ht,xt,sn.data)):ee.texSubImage3D(Ct,ge,ae.x,ae.y,ae.z,it,dt,ht,xt,Et,sn),ee.pixelStorei(3314,Bt),ee.pixelStorei(32878,Jt),ee.pixelStorei(3316,mr),ee.pixelStorei(3315,yi),ee.pixelStorei(32877,ys),ge===0&&te.generateMipmaps&&ee.generateMipmap(Ct),Be.unbindTexture()},this.initTexture=function(G){G.isCubeTexture?xe.setTextureCube(G,0):G.isData3DTexture?xe.setTexture3D(G,0):G.isDataArrayTexture||G.isCompressedArrayTexture?xe.setTexture2DArray(G,0):xe.setTexture2D(G,0),Be.unbindTexture()},this.resetState=function(){S=0,M=0,C=null,Be.reset(),Ge.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}}class x4 extends cE{}x4.prototype.isWebGL1Renderer=!0;class Sx{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new Ce(e),this.density=n}clone(){return new Sx(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class bx{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new Ce(e),this.near=n,this.far=r}clone(){return new bx(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class Ru extends Ht{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class ym{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=Wp,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Oi()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Oi()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Oi()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const $r=new N;class fl{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)$r.fromBufferAttribute(this,n),$r.applyMatrix4(e),this.setXYZ(n,$r.x,$r.y,$r.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)$r.fromBufferAttribute(this,n),$r.applyNormalMatrix(e),this.setXYZ(n,$r.x,$r.y,$r.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)$r.fromBufferAttribute(this,n),$r.transformDirection(e),this.setXYZ(n,$r.x,$r.y,$r.z);return this}setX(e,n){return this.normalized&&(n=At(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=At(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=At(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=At(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=Ri(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=Ri(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=Ri(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=Ri(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=At(n,this.array),r=At(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=At(n,this.array),r=At(r,this.array),i=At(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(n=At(n,this.array),r=At(r,this.array),i=At(i,this.array),s=At(s,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return new Ut(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new fl(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class fE extends On{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Ce(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Tc;const mh=new N,Pc=new N,Rc=new N,Bc=new fe,gh=new fe,_4=new ut,O0=new N,vh=new N,F0=new N,XR=new fe,iS=new fe,YR=new fe;class S4 extends Ht{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",Tc===void 0){Tc=new gt;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new ym(n,5);Tc.setIndex([0,1,2,0,2,3]),Tc.setAttribute("position",new fl(r,3,0,!1)),Tc.setAttribute("uv",new fl(r,2,3,!1))}this.geometry=Tc,this.material=e!==void 0?e:new fE,this.center=new fe(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Pc.setFromMatrixScale(this.matrixWorld),_4.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Rc.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Pc.multiplyScalar(-Rc.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;k0(O0.set(-.5,-.5,0),Rc,o,Pc,i,s),k0(vh.set(.5,-.5,0),Rc,o,Pc,i,s),k0(F0.set(.5,.5,0),Rc,o,Pc,i,s),XR.set(0,0),iS.set(1,0),YR.set(1,1);let a=e.ray.intersectTriangle(O0,vh,F0,!1,mh);if(a===null&&(k0(vh.set(-.5,.5,0),Rc,o,Pc,i,s),iS.set(0,1),a=e.ray.intersectTriangle(O0,F0,vh,!1,mh),a===null))return;const l=e.ray.origin.distanceTo(mh);l<e.near||l>e.far||n.push({distance:l,point:mh.clone(),uv:li.getInterpolation(mh,O0,vh,F0,XR,iS,YR,new fe),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function k0(t,e,n,r,i,s){Bc.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(gh.x=s*Bc.x-i*Bc.y,gh.y=i*Bc.x+s*Bc.y):gh.copy(Bc),t.copy(e),t.x+=gh.x,t.y+=gh.y,t.applyMatrix4(_4)}const N0=new N,QR=new N;class b4 extends Ht{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,i=n.length;r<i;r++){const s=n[r];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,r=0){n=Math.abs(n);const i=this.levels;let s;for(s=0;s<i.length&&!(n<i[s].distance);s++);return i.splice(s,0,{distance:n,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,i;for(r=1,i=n.length;r<i;r++){let s=n[r].distance;if(n[r].object.visible&&(s-=s*n[r].hysteresis),e<s)break}return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){N0.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(N0);this.getObjectForDistance(i).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){N0.setFromMatrixPosition(e.matrixWorld),QR.setFromMatrixPosition(this.matrixWorld);const r=N0.distanceTo(QR)/e.zoom;n[0].object.visible=!0;let i,s;for(i=1,s=n.length;i<s;i++){let o=n[i].distance;if(n[i].object.visible&&(o-=o*n[i].hysteresis),r>=o)n[i-1].object.visible=!1,n[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)n[i].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];n.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return n}}const ZR=new N,qR=new Nt,e3=new Nt,yK=new N,t3=new ut,Ic=new N;class dE extends Hn{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new ut,this.bindMatrixInverse=new ut,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Gi),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)Ic.fromBufferAttribute(n,r),this.applyBoneTransform(r,Ic),this.boundingBox.expandByPoint(Ic)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new ms),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)Ic.fromBufferAttribute(n,r),this.applyBoneTransform(r,Ic),this.boundingSphere.expandByPoint(Ic)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Nt,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const r=this.skeleton,i=this.geometry;qR.fromBufferAttribute(i.attributes.skinIndex,e),e3.fromBufferAttribute(i.attributes.skinWeight,e),ZR.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let s=0;s<4;s++){const o=e3.getComponent(s);if(o!==0){const a=qR.getComponent(s);t3.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),n.addScaledVector(yK.copy(ZR).applyMatrix4(t3),o)}}return n.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,n){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,n)}}class wx extends Ht{constructor(){super(),this.isBone=!0,this.type="Bone"}}class _u extends ln{constructor(e=null,n=1,r=1,i,s,o,a,l,u=en,c=en,d,p){super(null,o,a,l,u,c,i,s,d,p),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const n3=new ut,xK=new ut;class xm{constructor(e=[],n=[]){this.uuid=Oi(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new ut)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new ut;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:xK;n3.multiplyMatrices(a,n[s]),n3.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new xm(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=s4(e),e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new _u(n,e,e,_r,Pi);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this.boneTextureSize=e,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=n[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new wx),this.bones.push(o),this.boneInverses.push(new ut().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,s=n.length;i<s;i++){const o=n[i];e.bones.push(o.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class Qf extends Ut{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Dc=new ut,r3=new ut,U0=[],i3=new Gi,_K=new ut,yh=new Hn,xh=new ms;class w4 extends Hn{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new Qf(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,_K)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new Gi),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,Dc),i3.copy(e.boundingBox).applyMatrix4(Dc),this.boundingBox.union(i3)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new ms),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,Dc),xh.copy(e.boundingSphere).applyMatrix4(Dc),this.boundingSphere.union(xh)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}raycast(e,n){const r=this.matrixWorld,i=this.count;if(yh.geometry=this.geometry,yh.material=this.material,yh.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),xh.copy(this.boundingSphere),xh.applyMatrix4(r),e.ray.intersectsSphere(xh)!==!1))for(let s=0;s<i;s++){this.getMatrixAt(s,Dc),r3.multiplyMatrices(r,Dc),yh.matrixWorld=r3,yh.raycast(e,U0);for(let o=0,a=U0.length;o<a;o++){const l=U0[o];l.instanceId=s,l.object=this,n.push(l)}U0.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new Qf(new Float32Array(this.instanceMatrix.count*3),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class Nr extends On{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Ce(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const s3=new N,o3=new N,a3=new ut,sS=new gm,z0=new ms;class oa extends Ht{constructor(e=new gt,n=new Nr){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,s=n.count;i<s;i++)s3.fromBufferAttribute(n,i-1),o3.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=s3.distanceTo(o3);e.setAttribute("lineDistance",new $e(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),z0.copy(r.boundingSphere),z0.applyMatrix4(i),z0.radius+=s,e.ray.intersectsSphere(z0)===!1)return;a3.copy(i).invert(),sS.copy(e.ray).applyMatrix4(a3);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=new N,c=new N,d=new N,p=new N,m=this.isLineSegments?2:1,v=r.index,x=r.attributes.position;if(v!==null){const g=Math.max(0,o.start),b=Math.min(v.count,o.start+o.count);for(let S=g,M=b-1;S<M;S+=m){const C=v.getX(S),E=v.getX(S+1);if(u.fromBufferAttribute(x,C),c.fromBufferAttribute(x,E),sS.distanceSqToSegment(u,c,p,d)>l)continue;p.applyMatrix4(this.matrixWorld);const I=e.ray.origin.distanceTo(p);I<e.near||I>e.far||n.push({distance:I,point:d.clone().applyMatrix4(this.matrixWorld),index:S,face:null,faceIndex:null,object:this})}}else{const g=Math.max(0,o.start),b=Math.min(x.count,o.start+o.count);for(let S=g,M=b-1;S<M;S+=m){if(u.fromBufferAttribute(x,S),c.fromBufferAttribute(x,S+1),sS.distanceSqToSegment(u,c,p,d)>l)continue;p.applyMatrix4(this.matrixWorld);const E=e.ray.origin.distanceTo(p);E<e.near||E>e.far||n.push({distance:E,point:d.clone().applyMatrix4(this.matrixWorld),index:S,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const l3=new N,u3=new N;class $s extends oa{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,s=n.count;i<s;i+=2)l3.fromBufferAttribute(n,i),u3.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+l3.distanceTo(u3);e.setAttribute("lineDistance",new $e(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class hE extends oa{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class Mx extends On{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Ce(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const c3=new ut,Nw=new gm,H0=new ms,G0=new N;class pE extends Ht{constructor(e=new gt,n=new Mx){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),H0.copy(r.boundingSphere),H0.applyMatrix4(i),H0.radius+=s,e.ray.intersectsSphere(H0)===!1)return;c3.copy(i).invert(),Nw.copy(e.ray).applyMatrix4(c3);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=r.index,d=r.attributes.position;if(u!==null){const p=Math.max(0,o.start),m=Math.min(u.count,o.start+o.count);for(let v=p,y=m;v<y;v++){const x=u.getX(v);G0.fromBufferAttribute(d,x),f3(G0,x,l,i,e,n,this)}}else{const p=Math.max(0,o.start),m=Math.min(d.count,o.start+o.count);for(let v=p,y=m;v<y;v++)G0.fromBufferAttribute(d,v),f3(G0,v,l,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function f3(t,e,n,r,i,s,o){const a=Nw.distanceSqToPoint(t);if(a<n){const l=new N;Nw.closestPointToPoint(t,l),l.applyMatrix4(r);const u=i.ray.origin.distanceTo(l);if(u<i.near||u>i.far)return;s.push({distance:u,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class SK extends ln{constructor(e,n,r,i,s,o,a,l,u){super(e,n,r,i,s,o,a,l,u),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:Xt,this.magFilter=s!==void 0?s:Xt,this.generateMipmaps=!1;const c=this;function d(){c.needsUpdate=!0,e.requestVideoFrameCallback(d)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(d)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class bK extends ln{constructor(e,n,r){super({width:e,height:n}),this.isFramebufferTexture=!0,this.format=r,this.magFilter=en,this.minFilter=en,this.generateMipmaps=!1,this.needsUpdate=!0}}class mE extends ln{constructor(e,n,r,i,s,o,a,l,u,c,d,p){super(null,o,a,l,u,c,i,s,d,p),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class wK extends mE{constructor(e,n,r,i,s,o){super(e,n,r,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=xr}}class MK extends ln{constructor(e,n,r,i,s,o,a,l,u){super(e,n,r,i,s,o,a,l,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Vs{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),s=0;n.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),n.push(s),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const r=this.getLengths();let i=0;const s=r.length;let o;n?o=n:o=e*r[s-1];let a=0,l=s-1,u;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),u=r[i]-o,u<0)a=i+1;else if(u>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(s-1);const c=r[i],p=r[i+1]-c,m=(o-c)/p;return(i+m)/(s-1)}getTangent(e,n){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),a=this.getPoint(s),l=n||(o.isVector2?new fe:new N);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n){const r=new N,i=[],s=[],o=[],a=new N,l=new ut;for(let m=0;m<=e;m++){const v=m/e;i[m]=this.getTangentAt(v,new N)}s[0]=new N,o[0]=new N;let u=Number.MAX_VALUE;const c=Math.abs(i[0].x),d=Math.abs(i[0].y),p=Math.abs(i[0].z);c<=u&&(u=c,r.set(1,0,0)),d<=u&&(u=d,r.set(0,1,0)),p<=u&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(i[m-1],i[m]),a.length()>Number.EPSILON){a.normalize();const v=Math.acos(Dn(i[m-1].dot(i[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,v))}o[m].crossVectors(i[m],s[m])}if(n===!0){let m=Math.acos(Dn(s[0].dot(s[e]),-1,1));m/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let v=1;v<=e;v++)s[v].applyMatrix4(l.makeRotationAxis(i[v],m*v)),o[v].crossVectors(i[v],s[v])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Ax extends Vs{constructor(e=0,n=0,r=1,i=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,n){const r=n||new fe,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),u=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const c=Math.cos(this.aRotation),d=Math.sin(this.aRotation),p=l-this.aX,m=u-this.aY;l=p*c-m*d+this.aX,u=p*d+m*c+this.aY}return r.set(l,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class M4 extends Ax{constructor(e,n,r,i,s,o){super(e,n,r,r,i,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function gE(){let t=0,e=0,n=0,r=0;function i(s,o,a,l){t=s,e=a,n=-3*s+3*o-2*a-l,r=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,u){i(o,a,u*(a-s),u*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,u,c,d){let p=(o-s)/u-(a-s)/(u+c)+(a-o)/c,m=(a-o)/c-(l-o)/(c+d)+(l-a)/d;p*=c,m*=c,i(o,a,p,m)},calc:function(s){const o=s*s,a=o*s;return t+e*s+n*o+r*a}}}const $0=new N,oS=new gE,aS=new gE,lS=new gE;class A4 extends Vs{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new N){const r=n,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let u,c;this.closed||a>0?u=i[(a-1)%s]:($0.subVectors(i[0],i[1]).add(i[0]),u=$0);const d=i[a%s],p=i[(a+1)%s];if(this.closed||a+2<s?c=i[(a+2)%s]:($0.subVectors(i[s-1],i[s-2]).add(i[s-1]),c=$0),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let v=Math.pow(u.distanceToSquared(d),m),y=Math.pow(d.distanceToSquared(p),m),x=Math.pow(p.distanceToSquared(c),m);y<1e-4&&(y=1),v<1e-4&&(v=y),x<1e-4&&(x=y),oS.initNonuniformCatmullRom(u.x,d.x,p.x,c.x,v,y,x),aS.initNonuniformCatmullRom(u.y,d.y,p.y,c.y,v,y,x),lS.initNonuniformCatmullRom(u.z,d.z,p.z,c.z,v,y,x)}else this.curveType==="catmullrom"&&(oS.initCatmullRom(u.x,d.x,p.x,c.x,this.tension),aS.initCatmullRom(u.y,d.y,p.y,c.y,this.tension),lS.initCatmullRom(u.z,d.z,p.z,c.z,this.tension));return r.set(oS.calc(l),aS.calc(l),lS.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new N().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function d3(t,e,n,r,i){const s=(r-e)*.5,o=(i-n)*.5,a=t*t,l=t*a;return(2*n-2*r+s+o)*l+(-3*n+3*r-2*s-o)*a+s*t+n}function AK(t,e){const n=1-t;return n*n*e}function EK(t,e){return 2*(1-t)*t*e}function CK(t,e){return t*t*e}function up(t,e,n,r){return AK(t,e)+EK(t,n)+CK(t,r)}function TK(t,e){const n=1-t;return n*n*n*e}function PK(t,e){const n=1-t;return 3*n*n*t*e}function RK(t,e){return 3*(1-t)*t*t*e}function BK(t,e){return t*t*t*e}function cp(t,e,n,r,i){return TK(t,e)+PK(t,n)+RK(t,r)+BK(t,i)}class vE extends Vs{constructor(e=new fe,n=new fe,r=new fe,i=new fe){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new fe){const r=n,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(cp(e,i.x,s.x,o.x,a.x),cp(e,i.y,s.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class E4 extends Vs{constructor(e=new N,n=new N,r=new N,i=new N){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new N){const r=n,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(cp(e,i.x,s.x,o.x,a.x),cp(e,i.y,s.y,o.y,a.y),cp(e,i.z,s.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Ex extends Vs{constructor(e=new fe,n=new fe){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new fe){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new fe){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class C4 extends Vs{constructor(e=new N,n=new N){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new N){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new N){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class yE extends Vs{constructor(e=new fe,n=new fe,r=new fe){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new fe){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(up(e,i.x,s.x,o.x),up(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class xE extends Vs{constructor(e=new N,n=new N,r=new N){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new N){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(up(e,i.x,s.x,o.x),up(e,i.y,s.y,o.y),up(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class _E extends Vs{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new fe){const r=n,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[o===0?o:o-1],u=i[o],c=i[o>i.length-2?i.length-1:o+1],d=i[o>i.length-3?i.length-1:o+2];return r.set(d3(a,l.x,u.x,c.x,d.x),d3(a,l.y,u.y,c.y,d.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new fe().fromArray(i))}return this}}var SE=Object.freeze({__proto__:null,ArcCurve:M4,CatmullRomCurve3:A4,CubicBezierCurve:vE,CubicBezierCurve3:E4,EllipseCurve:Ax,LineCurve:Ex,LineCurve3:C4,QuadraticBezierCurve:yE,QuadraticBezierCurve3:xE,SplineCurve:_E});class T4 extends Vs{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);e.equals(n)||this.curves.push(new Ex(n,e))}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,a=this.curves[s],l=a.getLength(),u=l===0?0:1-o/l;return a.getPointAt(u,n)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let u=0;u<l.length;u++){const c=l[u];r&&r.equals(c)||(n.push(c),r=c)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new SE[i.type]().fromJSON(i))}return this}}class Jp extends T4{constructor(e){super(),this.type="Path",this.currentPoint=new fe,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new Ex(this.currentPoint.clone(),new fe(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const s=new yE(this.currentPoint.clone(),new fe(e,n),new fe(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,s,o){const a=new vE(this.currentPoint.clone(),new fe(e,n),new fe(r,i),new fe(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new _E(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,n+l,r,i,s,o),this}absarc(e,n,r,i,s,o){return this.absellipse(e,n,r,r,i,s,o),this}ellipse(e,n,r,i,s,o,a,l){const u=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+u,n+c,r,i,s,o,a,l),this}absellipse(e,n,r,i,s,o,a,l){const u=new Ax(e,n,r,i,s,o,a,l);if(this.curves.length>0){const d=u.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(u);const c=u.getPoint(1);return this.currentPoint.copy(c),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class gd extends gt{constructor(e=[new fe(0,-.5),new fe(.5,0),new fe(0,.5)],n=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=Dn(i,0,Math.PI*2);const s=[],o=[],a=[],l=[],u=[],c=1/n,d=new N,p=new fe,m=new N,v=new N,y=new N;let x=0,g=0;for(let b=0;b<=e.length-1;b++)switch(b){case 0:x=e[b+1].x-e[b].x,g=e[b+1].y-e[b].y,m.x=g*1,m.y=-x,m.z=g*0,y.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(y.x,y.y,y.z);break;default:x=e[b+1].x-e[b].x,g=e[b+1].y-e[b].y,m.x=g*1,m.y=-x,m.z=g*0,v.copy(m),m.x+=y.x,m.y+=y.y,m.z+=y.z,m.normalize(),l.push(m.x,m.y,m.z),y.copy(v)}for(let b=0;b<=n;b++){const S=r+b*c*i,M=Math.sin(S),C=Math.cos(S);for(let E=0;E<=e.length-1;E++){d.x=e[E].x*M,d.y=e[E].y,d.z=e[E].x*C,o.push(d.x,d.y,d.z),p.x=b/n,p.y=E/(e.length-1),a.push(p.x,p.y);const R=l[3*E+0]*M,I=l[3*E+1],P=l[3*E+0]*C;u.push(R,I,P)}}for(let b=0;b<n;b++)for(let S=0;S<e.length-1;S++){const M=S+b*e.length,C=M,E=M+e.length,R=M+e.length+1,I=M+1;s.push(C,E,I),s.push(R,I,E)}this.setIndex(s),this.setAttribute("position",new $e(o,3)),this.setAttribute("uv",new $e(a,2)),this.setAttribute("normal",new $e(u,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new gd(e.points,e.segments,e.phiStart,e.phiLength)}}class _m extends gd{constructor(e=1,n=1,r=4,i=8){const s=new Jp;s.absarc(0,-n/2,e,Math.PI*1.5,0),s.absarc(0,n/2,e,0,Math.PI*.5),super(s.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,height:n,capSegments:r,radialSegments:i}}static fromJSON(e){return new _m(e.radius,e.length,e.capSegments,e.radialSegments)}}class Sm extends gt{constructor(e=1,n=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const s=[],o=[],a=[],l=[],u=new N,c=new fe;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let d=0,p=3;d<=n;d++,p+=3){const m=r+d/n*i;u.x=e*Math.cos(m),u.y=e*Math.sin(m),o.push(u.x,u.y,u.z),a.push(0,0,1),c.x=(o[p]/e+1)/2,c.y=(o[p+1]/e+1)/2,l.push(c.x,c.y)}for(let d=1;d<=n;d++)s.push(d,d+1,0);this.setIndex(s),this.setAttribute("position",new $e(o,3)),this.setAttribute("normal",new $e(a,3)),this.setAttribute("uv",new $e(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Sm(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Nu extends gt{constructor(e=1,n=1,r=1,i=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const u=this;i=Math.floor(i),s=Math.floor(s);const c=[],d=[],p=[],m=[];let v=0;const y=[],x=r/2;let g=0;b(),o===!1&&(e>0&&S(!0),n>0&&S(!1)),this.setIndex(c),this.setAttribute("position",new $e(d,3)),this.setAttribute("normal",new $e(p,3)),this.setAttribute("uv",new $e(m,2));function b(){const M=new N,C=new N;let E=0;const R=(n-e)/r;for(let I=0;I<=s;I++){const P=[],B=I/s,O=B*(n-e)+e;for(let H=0;H<=i;H++){const U=H/i,V=U*l+a,j=Math.sin(V),Z=Math.cos(V);C.x=O*j,C.y=-B*r+x,C.z=O*Z,d.push(C.x,C.y,C.z),M.set(j,R,Z).normalize(),p.push(M.x,M.y,M.z),m.push(U,1-B),P.push(v++)}y.push(P)}for(let I=0;I<i;I++)for(let P=0;P<s;P++){const B=y[P][I],O=y[P+1][I],H=y[P+1][I+1],U=y[P][I+1];c.push(B,O,U),c.push(O,H,U),E+=6}u.addGroup(g,E,0),g+=E}function S(M){const C=v,E=new fe,R=new N;let I=0;const P=M===!0?e:n,B=M===!0?1:-1;for(let H=1;H<=i;H++)d.push(0,x*B,0),p.push(0,B,0),m.push(.5,.5),v++;const O=v;for(let H=0;H<=i;H++){const V=H/i*l+a,j=Math.cos(V),Z=Math.sin(V);R.x=P*Z,R.y=x*B,R.z=P*j,d.push(R.x,R.y,R.z),p.push(0,B,0),E.x=j*.5+.5,E.y=Z*.5*B+.5,m.push(E.x,E.y),v++}for(let H=0;H<i;H++){const U=C+H,V=O+H;M===!0?c.push(V,V+1,U):c.push(V+1,V,U),I+=3}u.addGroup(g,I,M===!0?1:2),g+=I}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Nu(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class bm extends Nu{constructor(e=1,n=1,r=32,i=1,s=!1,o=0,a=Math.PI*2){super(0,e,n,r,i,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new bm(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class ca extends gt{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const s=[],o=[];a(i),u(r),c(),this.setAttribute("position",new $e(s,3)),this.setAttribute("normal",new $e(s.slice(),3)),this.setAttribute("uv",new $e(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(b){const S=new N,M=new N,C=new N;for(let E=0;E<n.length;E+=3)m(n[E+0],S),m(n[E+1],M),m(n[E+2],C),l(S,M,C,b)}function l(b,S,M,C){const E=C+1,R=[];for(let I=0;I<=E;I++){R[I]=[];const P=b.clone().lerp(M,I/E),B=S.clone().lerp(M,I/E),O=E-I;for(let H=0;H<=O;H++)H===0&&I===E?R[I][H]=P:R[I][H]=P.clone().lerp(B,H/O)}for(let I=0;I<E;I++)for(let P=0;P<2*(E-I)-1;P++){const B=Math.floor(P/2);P%2===0?(p(R[I][B+1]),p(R[I+1][B]),p(R[I][B])):(p(R[I][B+1]),p(R[I+1][B+1]),p(R[I+1][B]))}}function u(b){const S=new N;for(let M=0;M<s.length;M+=3)S.x=s[M+0],S.y=s[M+1],S.z=s[M+2],S.normalize().multiplyScalar(b),s[M+0]=S.x,s[M+1]=S.y,s[M+2]=S.z}function c(){const b=new N;for(let S=0;S<s.length;S+=3){b.x=s[S+0],b.y=s[S+1],b.z=s[S+2];const M=x(b)/2/Math.PI+.5,C=g(b)/Math.PI+.5;o.push(M,1-C)}v(),d()}function d(){for(let b=0;b<o.length;b+=6){const S=o[b+0],M=o[b+2],C=o[b+4],E=Math.max(S,M,C),R=Math.min(S,M,C);E>.9&&R<.1&&(S<.2&&(o[b+0]+=1),M<.2&&(o[b+2]+=1),C<.2&&(o[b+4]+=1))}}function p(b){s.push(b.x,b.y,b.z)}function m(b,S){const M=b*3;S.x=e[M+0],S.y=e[M+1],S.z=e[M+2]}function v(){const b=new N,S=new N,M=new N,C=new N,E=new fe,R=new fe,I=new fe;for(let P=0,B=0;P<s.length;P+=9,B+=6){b.set(s[P+0],s[P+1],s[P+2]),S.set(s[P+3],s[P+4],s[P+5]),M.set(s[P+6],s[P+7],s[P+8]),E.set(o[B+0],o[B+1]),R.set(o[B+2],o[B+3]),I.set(o[B+4],o[B+5]),C.copy(b).add(S).add(M).divideScalar(3);const O=x(C);y(E,B+0,b,O),y(R,B+2,S,O),y(I,B+4,M,O)}}function y(b,S,M,C){C<0&&b.x===1&&(o[S]=b.x-1),M.x===0&&M.z===0&&(o[S]=C/2/Math.PI+.5)}function x(b){return Math.atan2(b.z,-b.x)}function g(b){return Math.atan2(-b.y,Math.sqrt(b.x*b.x+b.z*b.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ca(e.vertices,e.indices,e.radius,e.details)}}class wm extends ca{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new wm(e.radius,e.detail)}}const V0=new N,W0=new N,uS=new N,j0=new li;class P4 extends gt{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const i=Math.pow(10,4),s=Math.cos(yu*n),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,u=[0,0,0],c=["a","b","c"],d=new Array(3),p={},m=[];for(let v=0;v<l;v+=3){o?(u[0]=o.getX(v),u[1]=o.getX(v+1),u[2]=o.getX(v+2)):(u[0]=v,u[1]=v+1,u[2]=v+2);const{a:y,b:x,c:g}=j0;if(y.fromBufferAttribute(a,u[0]),x.fromBufferAttribute(a,u[1]),g.fromBufferAttribute(a,u[2]),j0.getNormal(uS),d[0]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,d[1]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,d[2]=`${Math.round(g.x*i)},${Math.round(g.y*i)},${Math.round(g.z*i)}`,!(d[0]===d[1]||d[1]===d[2]||d[2]===d[0]))for(let b=0;b<3;b++){const S=(b+1)%3,M=d[b],C=d[S],E=j0[c[b]],R=j0[c[S]],I=`${M}_${C}`,P=`${C}_${M}`;P in p&&p[P]?(uS.dot(p[P].normal)<=s&&(m.push(E.x,E.y,E.z),m.push(R.x,R.y,R.z)),p[P]=null):I in p||(p[I]={index0:u[b],index1:u[S],normal:uS.clone()})}}for(const v in p)if(p[v]){const{index0:y,index1:x}=p[v];V0.fromBufferAttribute(a,y),W0.fromBufferAttribute(a,x),m.push(V0.x,V0.y,V0.z),m.push(W0.x,W0.y,W0.z)}this.setAttribute("position",new $e(m,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Su extends Jp{constructor(e){super(e),this.uuid=Oi(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new Jp().fromJSON(i))}return this}}const IK={triangulate:function(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let s=R4(t,0,i,n,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,u,c,d,p,m;if(r&&(s=kK(t,e,s,n)),t.length>80*n){a=u=t[0],l=c=t[1];for(let v=n;v<i;v+=n)d=t[v],p=t[v+1],d<a&&(a=d),p<l&&(l=p),d>u&&(u=d),p>c&&(c=p);m=Math.max(u-a,c-l),m=m!==0?32767/m:0}return Kp(s,o,n,a,l,m,0),o}};function R4(t,e,n,r,i){let s,o;if(i===KK(t,e,n,r)>0)for(s=e;s<n;s+=r)o=h3(s,t[s],t[s+1],o);else for(s=n-r;s>=e;s-=r)o=h3(s,t[s],t[s+1],o);return o&&Cx(o,o.next)&&(Yp(o),o=o.next),o}function Bu(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(Cx(n,n.next)||An(n.prev,n,n.next)===0)){if(Yp(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function Kp(t,e,n,r,i,s,o){if(!t)return;!o&&s&&GK(t,r,i,s);let a=t,l,u;for(;t.prev!==t.next;){if(l=t.prev,u=t.next,s?LK(t,r,i,s):DK(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(u.i/n|0),Yp(t),t=u.next,a=u.next;continue}if(t=u,t===a){o?o===1?(t=OK(Bu(t),e,n),Kp(t,e,n,r,i,s,2)):o===2&&FK(t,e,n,r,i,s):Kp(Bu(t),e,n,r,i,s,1);break}}}function DK(t){const e=t.prev,n=t,r=t.next;if(An(e,n,r)>=0)return!1;const i=e.x,s=n.x,o=r.x,a=e.y,l=n.y,u=r.y,c=i<s?i<o?i:o:s<o?s:o,d=a<l?a<u?a:u:l<u?l:u,p=i>s?i>o?i:o:s>o?s:o,m=a>l?a>u?a:u:l>u?l:u;let v=r.next;for(;v!==e;){if(v.x>=c&&v.x<=p&&v.y>=d&&v.y<=m&&wf(i,a,s,l,o,u,v.x,v.y)&&An(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function LK(t,e,n,r){const i=t.prev,s=t,o=t.next;if(An(i,s,o)>=0)return!1;const a=i.x,l=s.x,u=o.x,c=i.y,d=s.y,p=o.y,m=a<l?a<u?a:u:l<u?l:u,v=c<d?c<p?c:p:d<p?d:p,y=a>l?a>u?a:u:l>u?l:u,x=c>d?c>p?c:p:d>p?d:p,g=Uw(m,v,e,n,r),b=Uw(y,x,e,n,r);let S=t.prevZ,M=t.nextZ;for(;S&&S.z>=g&&M&&M.z<=b;){if(S.x>=m&&S.x<=y&&S.y>=v&&S.y<=x&&S!==i&&S!==o&&wf(a,c,l,d,u,p,S.x,S.y)&&An(S.prev,S,S.next)>=0||(S=S.prevZ,M.x>=m&&M.x<=y&&M.y>=v&&M.y<=x&&M!==i&&M!==o&&wf(a,c,l,d,u,p,M.x,M.y)&&An(M.prev,M,M.next)>=0))return!1;M=M.nextZ}for(;S&&S.z>=g;){if(S.x>=m&&S.x<=y&&S.y>=v&&S.y<=x&&S!==i&&S!==o&&wf(a,c,l,d,u,p,S.x,S.y)&&An(S.prev,S,S.next)>=0)return!1;S=S.prevZ}for(;M&&M.z<=b;){if(M.x>=m&&M.x<=y&&M.y>=v&&M.y<=x&&M!==i&&M!==o&&wf(a,c,l,d,u,p,M.x,M.y)&&An(M.prev,M,M.next)>=0)return!1;M=M.nextZ}return!0}function OK(t,e,n){let r=t;do{const i=r.prev,s=r.next.next;!Cx(i,s)&&B4(i,r,r.next,s)&&Xp(i,s)&&Xp(s,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(s.i/n|0),Yp(r),Yp(r.next),r=t=s),r=r.next}while(r!==t);return Bu(r)}function FK(t,e,n,r,i,s){let o=t;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&WK(o,a)){let l=I4(o,a);o=Bu(o,o.next),l=Bu(l,l.next),Kp(o,e,n,r,i,s,0),Kp(l,e,n,r,i,s,0);return}a=a.next}o=o.next}while(o!==t)}function kK(t,e,n,r){const i=[];let s,o,a,l,u;for(s=0,o=e.length;s<o;s++)a=e[s]*r,l=s<o-1?e[s+1]*r:t.length,u=R4(t,a,l,r,!1),u===u.next&&(u.steiner=!0),i.push(VK(u));for(i.sort(NK),s=0;s<i.length;s++)n=UK(i[s],n);return n}function NK(t,e){return t.x-e.x}function UK(t,e){const n=zK(t,e);if(!n)return e;const r=I4(n,t);return Bu(r,r.next),Bu(n,n.next)}function zK(t,e){let n=e,r=-1/0,i;const s=t.x,o=t.y;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){const p=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(p<=s&&p>r&&(r=p,i=n.x<n.next.x?n:n.next,p===s))return i}n=n.next}while(n!==e);if(!i)return null;const a=i,l=i.x,u=i.y;let c=1/0,d;n=i;do s>=n.x&&n.x>=l&&s!==n.x&&wf(o<u?s:r,o,l,u,o<u?r:s,o,n.x,n.y)&&(d=Math.abs(o-n.y)/(s-n.x),Xp(n,t)&&(d<c||d===c&&(n.x>i.x||n.x===i.x&&HK(i,n)))&&(i=n,c=d)),n=n.next;while(n!==a);return i}function HK(t,e){return An(t.prev,t,e.prev)<0&&An(e.next,t,t.next)<0}function GK(t,e,n,r){let i=t;do i.z===0&&(i.z=Uw(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,$K(i)}function $K(t){let e,n,r,i,s,o,a,l,u=1;do{for(n=t,t=null,s=null,o=0;n;){for(o++,r=n,a=0,e=0;e<u&&(a++,r=r.nextZ,!!r);e++);for(l=u;a>0||l>0&&r;)a!==0&&(l===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;n=r}s.nextZ=null,u*=2}while(o>1);return t}function Uw(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function VK(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function wf(t,e,n,r,i,s,o,a){return(i-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(r-a)>=(n-o)*(e-a)&&(n-o)*(s-a)>=(i-o)*(r-a)}function WK(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!jK(t,e)&&(Xp(t,e)&&Xp(e,t)&&JK(t,e)&&(An(t.prev,t,e.prev)||An(t,e.prev,e))||Cx(t,e)&&An(t.prev,t,t.next)>0&&An(e.prev,e,e.next)>0)}function An(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Cx(t,e){return t.x===e.x&&t.y===e.y}function B4(t,e,n,r){const i=K0(An(t,e,n)),s=K0(An(t,e,r)),o=K0(An(n,r,t)),a=K0(An(n,r,e));return!!(i!==s&&o!==a||i===0&&J0(t,n,e)||s===0&&J0(t,r,e)||o===0&&J0(n,t,r)||a===0&&J0(n,e,r))}function J0(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function K0(t){return t>0?1:t<0?-1:0}function jK(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&B4(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function Xp(t,e){return An(t.prev,t,t.next)<0?An(t,e,t.next)>=0&&An(t,t.prev,e)>=0:An(t,e,t.prev)<0||An(t,t.next,e)<0}function JK(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&i<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function I4(t,e){const n=new zw(t.i,t.x,t.y),r=new zw(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r}function h3(t,e,n,r){const i=new zw(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Yp(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function zw(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function KK(t,e,n,r){let i=0;for(let s=e,o=n-r;s<n;s+=r)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}class fo{static area(e){const n=e.length;let r=0;for(let i=n-1,s=0;s<n;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return fo.area(e)<0}static triangulateShape(e,n){const r=[],i=[],s=[];p3(e),m3(r,e);let o=e.length;n.forEach(p3);for(let l=0;l<n.length;l++)i.push(o),o+=n[l].length,m3(r,n[l]);const a=IK.triangulate(r,i);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function p3(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function m3(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class Mm extends gt{constructor(e=new Su([new fe(.5,.5),new fe(-.5,.5),new fe(-.5,-.5),new fe(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let a=0,l=e.length;a<l;a++){const u=e[a];o(u)}this.setAttribute("position",new $e(i,3)),this.setAttribute("uv",new $e(s,2)),this.computeVertexNormals();function o(a){const l=[],u=n.curveSegments!==void 0?n.curveSegments:12,c=n.steps!==void 0?n.steps:1,d=n.depth!==void 0?n.depth:1;let p=n.bevelEnabled!==void 0?n.bevelEnabled:!0,m=n.bevelThickness!==void 0?n.bevelThickness:.2,v=n.bevelSize!==void 0?n.bevelSize:m-.1,y=n.bevelOffset!==void 0?n.bevelOffset:0,x=n.bevelSegments!==void 0?n.bevelSegments:3;const g=n.extrudePath,b=n.UVGenerator!==void 0?n.UVGenerator:XK;let S,M=!1,C,E,R,I;g&&(S=g.getSpacedPoints(c),M=!0,p=!1,C=g.computeFrenetFrames(c,!1),E=new N,R=new N,I=new N),p||(x=0,m=0,v=0,y=0);const P=a.extractPoints(u);let B=P.shape;const O=P.holes;if(!fo.isClockWise(B)){B=B.reverse();for(let ye=0,ue=O.length;ye<ue;ye++){const xe=O[ye];fo.isClockWise(xe)&&(O[ye]=xe.reverse())}}const U=fo.triangulateShape(B,O),V=B;for(let ye=0,ue=O.length;ye<ue;ye++){const xe=O[ye];B=B.concat(xe)}function j(ye,ue,xe){return ue||console.error("THREE.ExtrudeGeometry: vec does not exist"),ye.clone().addScaledVector(ue,xe)}const Z=B.length,ne=U.length;function z(ye,ue,xe){let Le,Re,qe;const et=ye.x-ue.x,Ke=ye.y-ue.y,at=xe.x-ye.x,St=xe.y-ye.y,k=et*et+Ke*Ke,F=et*St-Ke*at;if(Math.abs(F)>Number.EPSILON){const Q=Math.sqrt(k),ve=Math.sqrt(at*at+St*St),_e=ue.x-Ke/Q,Pe=ue.y+et/Q,tt=xe.x-St/ve,Oe=xe.y+at/ve,he=((tt-_e)*St-(Oe-Pe)*at)/(et*St-Ke*at);Le=_e+et*he-ye.x,Re=Pe+Ke*he-ye.y;const Ge=Le*Le+Re*Re;if(Ge<=2)return new fe(Le,Re);qe=Math.sqrt(Ge/2)}else{let Q=!1;et>Number.EPSILON?at>Number.EPSILON&&(Q=!0):et<-Number.EPSILON?at<-Number.EPSILON&&(Q=!0):Math.sign(Ke)===Math.sign(St)&&(Q=!0),Q?(Le=-Ke,Re=et,qe=Math.sqrt(k)):(Le=et,Re=Ke,qe=Math.sqrt(k/2))}return new fe(Le/qe,Re/qe)}const J=[];for(let ye=0,ue=V.length,xe=ue-1,Le=ye+1;ye<ue;ye++,xe++,Le++)xe===ue&&(xe=0),Le===ue&&(Le=0),J[ye]=z(V[ye],V[xe],V[Le]);const K=[];let ie,re=J.concat();for(let ye=0,ue=O.length;ye<ue;ye++){const xe=O[ye];ie=[];for(let Le=0,Re=xe.length,qe=Re-1,et=Le+1;Le<Re;Le++,qe++,et++)qe===Re&&(qe=0),et===Re&&(et=0),ie[Le]=z(xe[Le],xe[qe],xe[et]);K.push(ie),re=re.concat(ie)}for(let ye=0;ye<x;ye++){const ue=ye/x,xe=m*Math.cos(ue*Math.PI/2),Le=v*Math.sin(ue*Math.PI/2)+y;for(let Re=0,qe=V.length;Re<qe;Re++){const et=j(V[Re],J[Re],Le);ee(et.x,et.y,-xe)}for(let Re=0,qe=O.length;Re<qe;Re++){const et=O[Re];ie=K[Re];for(let Ke=0,at=et.length;Ke<at;Ke++){const St=j(et[Ke],ie[Ke],Le);ee(St.x,St.y,-xe)}}}const se=v+y;for(let ye=0;ye<Z;ye++){const ue=p?j(B[ye],re[ye],se):B[ye];M?(R.copy(C.normals[0]).multiplyScalar(ue.x),E.copy(C.binormals[0]).multiplyScalar(ue.y),I.copy(S[0]).add(R).add(E),ee(I.x,I.y,I.z)):ee(ue.x,ue.y,0)}for(let ye=1;ye<=c;ye++)for(let ue=0;ue<Z;ue++){const xe=p?j(B[ue],re[ue],se):B[ue];M?(R.copy(C.normals[ye]).multiplyScalar(xe.x),E.copy(C.binormals[ye]).multiplyScalar(xe.y),I.copy(S[ye]).add(R).add(E),ee(I.x,I.y,I.z)):ee(xe.x,xe.y,d/c*ye)}for(let ye=x-1;ye>=0;ye--){const ue=ye/x,xe=m*Math.cos(ue*Math.PI/2),Le=v*Math.sin(ue*Math.PI/2)+y;for(let Re=0,qe=V.length;Re<qe;Re++){const et=j(V[Re],J[Re],Le);ee(et.x,et.y,d+xe)}for(let Re=0,qe=O.length;Re<qe;Re++){const et=O[Re];ie=K[Re];for(let Ke=0,at=et.length;Ke<at;Ke++){const St=j(et[Ke],ie[Ke],Le);M?ee(St.x,St.y+S[c-1].y,S[c-1].x+xe):ee(St.x,St.y,d+xe)}}}le(),Me();function le(){const ye=i.length/3;if(p){let ue=0,xe=Z*ue;for(let Le=0;Le<ne;Le++){const Re=U[Le];Ve(Re[2]+xe,Re[1]+xe,Re[0]+xe)}ue=c+x*2,xe=Z*ue;for(let Le=0;Le<ne;Le++){const Re=U[Le];Ve(Re[0]+xe,Re[1]+xe,Re[2]+xe)}}else{for(let ue=0;ue<ne;ue++){const xe=U[ue];Ve(xe[2],xe[1],xe[0])}for(let ue=0;ue<ne;ue++){const xe=U[ue];Ve(xe[0]+Z*c,xe[1]+Z*c,xe[2]+Z*c)}}r.addGroup(ye,i.length/3-ye,0)}function Me(){const ye=i.length/3;let ue=0;be(V,ue),ue+=V.length;for(let xe=0,Le=O.length;xe<Le;xe++){const Re=O[xe];be(Re,ue),ue+=Re.length}r.addGroup(ye,i.length/3-ye,1)}function be(ye,ue){let xe=ye.length;for(;--xe>=0;){const Le=xe;let Re=xe-1;Re<0&&(Re=ye.length-1);for(let qe=0,et=c+x*2;qe<et;qe++){const Ke=Z*qe,at=Z*(qe+1),St=ue+Le+Ke,k=ue+Re+Ke,F=ue+Re+at,Q=ue+Le+at;We(St,k,F,Q)}}}function ee(ye,ue,xe){l.push(ye),l.push(ue),l.push(xe)}function Ve(ye,ue,xe){we(ye),we(ue),we(xe);const Le=i.length/3,Re=b.generateTopUV(r,i,Le-3,Le-2,Le-1);Be(Re[0]),Be(Re[1]),Be(Re[2])}function We(ye,ue,xe,Le){we(ye),we(ue),we(Le),we(ue),we(xe),we(Le);const Re=i.length/3,qe=b.generateSideWallUV(r,i,Re-6,Re-3,Re-2,Re-1);Be(qe[0]),Be(qe[1]),Be(qe[3]),Be(qe[1]),Be(qe[2]),Be(qe[3])}function we(ye){i.push(l[ye*3+0]),i.push(l[ye*3+1]),i.push(l[ye*3+2])}function Be(ye){s.push(ye.x),s.push(ye.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return YK(n,r,e)}static fromJSON(e,n){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=n[e.shapes[s]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new SE[i.type]().fromJSON(i)),new Mm(r,e.options)}}const XK={generateTopUV:function(t,e,n,r,i){const s=e[n*3],o=e[n*3+1],a=e[r*3],l=e[r*3+1],u=e[i*3],c=e[i*3+1];return[new fe(s,o),new fe(a,l),new fe(u,c)]},generateSideWallUV:function(t,e,n,r,i,s){const o=e[n*3],a=e[n*3+1],l=e[n*3+2],u=e[r*3],c=e[r*3+1],d=e[r*3+2],p=e[i*3],m=e[i*3+1],v=e[i*3+2],y=e[s*3],x=e[s*3+1],g=e[s*3+2];return Math.abs(a-c)<Math.abs(o-u)?[new fe(o,1-l),new fe(u,1-d),new fe(p,1-v),new fe(y,1-g)]:[new fe(a,1-l),new fe(c,1-d),new fe(m,1-v),new fe(x,1-g)]}};function YK(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const s=t[r];n.shapes.push(s.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class vd extends ca{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new vd(e.radius,e.detail)}}class yd extends ca{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new yd(e.radius,e.detail)}}class Am extends gt{constructor(e=.5,n=1,r=32,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],u=[],c=[];let d=e;const p=(n-e)/i,m=new N,v=new fe;for(let y=0;y<=i;y++){for(let x=0;x<=r;x++){const g=s+x/r*o;m.x=d*Math.cos(g),m.y=d*Math.sin(g),l.push(m.x,m.y,m.z),u.push(0,0,1),v.x=(m.x/n+1)/2,v.y=(m.y/n+1)/2,c.push(v.x,v.y)}d+=p}for(let y=0;y<i;y++){const x=y*(r+1);for(let g=0;g<r;g++){const b=g+x,S=b,M=b+r+1,C=b+r+2,E=b+1;a.push(S,M,E),a.push(M,C,E)}}this.setIndex(a),this.setAttribute("position",new $e(l,3)),this.setAttribute("normal",new $e(u,3)),this.setAttribute("uv",new $e(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Am(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Em extends gt{constructor(e=new Su([new fe(0,.5),new fe(-.5,-.5),new fe(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)u(e);else for(let c=0;c<e.length;c++)u(e[c]),this.addGroup(a,l,c),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new $e(i,3)),this.setAttribute("normal",new $e(s,3)),this.setAttribute("uv",new $e(o,2));function u(c){const d=i.length/3,p=c.extractPoints(n);let m=p.shape;const v=p.holes;fo.isClockWise(m)===!1&&(m=m.reverse());for(let x=0,g=v.length;x<g;x++){const b=v[x];fo.isClockWise(b)===!0&&(v[x]=b.reverse())}const y=fo.triangulateShape(m,v);for(let x=0,g=v.length;x<g;x++){const b=v[x];m=m.concat(b)}for(let x=0,g=m.length;x<g;x++){const b=m[x];i.push(b.x,b.y,0),s.push(0,0,1),o.push(b.x,b.y)}for(let x=0,g=y.length;x<g;x++){const b=y[x],S=b[0]+d,M=b[1]+d,C=b[2]+d;r.push(S,M,C),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return QK(n,e)}static fromJSON(e,n){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=n[e.shapes[i]];r.push(o)}return new Em(r,e.curveSegments)}}function QK(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class xd extends gt{constructor(e=1,n=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const l=Math.min(o+a,Math.PI);let u=0;const c=[],d=new N,p=new N,m=[],v=[],y=[],x=[];for(let g=0;g<=r;g++){const b=[],S=g/r;let M=0;g===0&&o===0?M=.5/n:g===r&&l===Math.PI&&(M=-.5/n);for(let C=0;C<=n;C++){const E=C/n;d.x=-e*Math.cos(i+E*s)*Math.sin(o+S*a),d.y=e*Math.cos(o+S*a),d.z=e*Math.sin(i+E*s)*Math.sin(o+S*a),v.push(d.x,d.y,d.z),p.copy(d).normalize(),y.push(p.x,p.y,p.z),x.push(E+M,1-S),b.push(u++)}c.push(b)}for(let g=0;g<r;g++)for(let b=0;b<n;b++){const S=c[g][b+1],M=c[g][b],C=c[g+1][b],E=c[g+1][b+1];(g!==0||o>0)&&m.push(S,M,E),(g!==r-1||l<Math.PI)&&m.push(M,C,E)}this.setIndex(m),this.setAttribute("position",new $e(v,3)),this.setAttribute("normal",new $e(y,3)),this.setAttribute("uv",new $e(x,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new xd(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Cm extends ca{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Cm(e.radius,e.detail)}}class Tm extends gt{constructor(e=1,n=.4,r=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],a=[],l=[],u=[],c=new N,d=new N,p=new N;for(let m=0;m<=r;m++)for(let v=0;v<=i;v++){const y=v/i*s,x=m/r*Math.PI*2;d.x=(e+n*Math.cos(x))*Math.cos(y),d.y=(e+n*Math.cos(x))*Math.sin(y),d.z=n*Math.sin(x),a.push(d.x,d.y,d.z),c.x=e*Math.cos(y),c.y=e*Math.sin(y),p.subVectors(d,c).normalize(),l.push(p.x,p.y,p.z),u.push(v/i),u.push(m/r)}for(let m=1;m<=r;m++)for(let v=1;v<=i;v++){const y=(i+1)*m+v-1,x=(i+1)*(m-1)+v-1,g=(i+1)*(m-1)+v,b=(i+1)*m+v;o.push(y,x,b),o.push(x,g,b)}this.setIndex(o),this.setAttribute("position",new $e(a,3)),this.setAttribute("normal",new $e(l,3)),this.setAttribute("uv",new $e(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Tm(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Pm extends gt{constructor(e=1,n=.4,r=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],u=[],c=[],d=new N,p=new N,m=new N,v=new N,y=new N,x=new N,g=new N;for(let S=0;S<=r;++S){const M=S/r*s*Math.PI*2;b(M,s,o,e,m),b(M+.01,s,o,e,v),x.subVectors(v,m),g.addVectors(v,m),y.crossVectors(x,g),g.crossVectors(y,x),y.normalize(),g.normalize();for(let C=0;C<=i;++C){const E=C/i*Math.PI*2,R=-n*Math.cos(E),I=n*Math.sin(E);d.x=m.x+(R*g.x+I*y.x),d.y=m.y+(R*g.y+I*y.y),d.z=m.z+(R*g.z+I*y.z),l.push(d.x,d.y,d.z),p.subVectors(d,m).normalize(),u.push(p.x,p.y,p.z),c.push(S/r),c.push(C/i)}}for(let S=1;S<=r;S++)for(let M=1;M<=i;M++){const C=(i+1)*(S-1)+(M-1),E=(i+1)*S+(M-1),R=(i+1)*S+M,I=(i+1)*(S-1)+M;a.push(C,E,I),a.push(E,R,I)}this.setIndex(a),this.setAttribute("position",new $e(l,3)),this.setAttribute("normal",new $e(u,3)),this.setAttribute("uv",new $e(c,2));function b(S,M,C,E,R){const I=Math.cos(S),P=Math.sin(S),B=C/M*S,O=Math.cos(B);R.x=E*(2+O)*.5*I,R.y=E*(2+O)*P*.5,R.z=E*Math.sin(B)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Pm(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Rm extends gt{constructor(e=new xE(new N(-1,-1,0),new N(-1,1,0),new N(1,1,0)),n=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(n,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new N,l=new N,u=new fe;let c=new N;const d=[],p=[],m=[],v=[];y(),this.setIndex(v),this.setAttribute("position",new $e(d,3)),this.setAttribute("normal",new $e(p,3)),this.setAttribute("uv",new $e(m,2));function y(){for(let S=0;S<n;S++)x(S);x(s===!1?n:0),b(),g()}function x(S){c=e.getPointAt(S/n,c);const M=o.normals[S],C=o.binormals[S];for(let E=0;E<=i;E++){const R=E/i*Math.PI*2,I=Math.sin(R),P=-Math.cos(R);l.x=P*M.x+I*C.x,l.y=P*M.y+I*C.y,l.z=P*M.z+I*C.z,l.normalize(),p.push(l.x,l.y,l.z),a.x=c.x+r*l.x,a.y=c.y+r*l.y,a.z=c.z+r*l.z,d.push(a.x,a.y,a.z)}}function g(){for(let S=1;S<=n;S++)for(let M=1;M<=i;M++){const C=(i+1)*(S-1)+(M-1),E=(i+1)*S+(M-1),R=(i+1)*S+M,I=(i+1)*(S-1)+M;v.push(C,E,I),v.push(E,R,I)}}function b(){for(let S=0;S<=n;S++)for(let M=0;M<=i;M++)u.x=S/n,u.y=M/i,m.push(u.x,u.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Rm(new SE[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class D4 extends gt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new N,s=new N;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let u=0,c=l.length;u<c;++u){const d=l[u],p=d.start,m=d.count;for(let v=p,y=p+m;v<y;v+=3)for(let x=0;x<3;x++){const g=a.getX(v+x),b=a.getX(v+(x+1)%3);i.fromBufferAttribute(o,g),s.fromBufferAttribute(o,b),g3(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let u=0;u<3;u++){const c=3*a+u,d=3*a+(u+1)%3;i.fromBufferAttribute(o,c),s.fromBufferAttribute(o,d),g3(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}this.setAttribute("position",new $e(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function g3(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}var v3=Object.freeze({__proto__:null,BoxGeometry:bl,CapsuleGeometry:_m,CircleGeometry:Sm,ConeGeometry:bm,CylinderGeometry:Nu,DodecahedronGeometry:wm,EdgesGeometry:P4,ExtrudeGeometry:Mm,IcosahedronGeometry:vd,LatheGeometry:gd,OctahedronGeometry:yd,PlaneGeometry:hd,PolyhedronGeometry:ca,RingGeometry:Am,ShapeGeometry:Em,SphereGeometry:xd,TetrahedronGeometry:Cm,TorusGeometry:Tm,TorusKnotGeometry:Pm,TubeGeometry:Rm,WireframeGeometry:D4});class L4 extends On{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Ce(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class O4 extends tr{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class _d extends On{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Ce(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ce(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ua,this.normalScale=new fe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class fa extends _d{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new fe(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Dn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Ce(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Ce(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Ce(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class F4 extends On{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Ce(16777215),this.specular=new Ce(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ce(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ua,this.normalScale=new fe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=mm,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class k4 extends On{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Ce(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ce(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ua,this.normalScale=new fe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class bE extends On{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ua,this.normalScale=new fe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class N4 extends On{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Ce(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ce(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ua,this.normalScale=new fe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=mm,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class U4 extends On{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Ce(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ua,this.normalScale=new fe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class z4 extends Nr{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function ns(t,e,n){return wE(t)?new t.constructor(t.subarray(e,n!==void 0?n:t.length)):t.slice(e,n)}function fu(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function wE(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function H4(t){function e(i,s){return t[i]-t[s]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r}function Hw(t,e,n){const r=t.length,i=new t.constructor(r);for(let s=0,o=0;o!==r;++s){const a=n[s]*e;for(let l=0;l!==e;++l)i[o++]=t[a+l]}return i}function ME(t,e,n,r){let i=1,s=t[0];for(;s!==void 0&&s[r]===void 0;)s=t[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),n.push.apply(n,o)),s=t[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(n,n.length)),s=t[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),n.push(o)),s=t[i++];while(s!==void 0)}function ZK(t,e,n,r,i=30){const s=t.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const u=s.tracks[l],c=u.getValueSize(),d=[],p=[];for(let m=0;m<u.times.length;++m){const v=u.times[m]*i;if(!(v<n||v>=r)){d.push(u.times[m]);for(let y=0;y<c;++y)p.push(u.values[m*c+y])}}d.length!==0&&(u.times=fu(d,u.times.constructor),u.values=fu(p,u.values.constructor),o.push(u))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function qK(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,s=e/r;for(let o=0;o<i;++o){const a=n.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const u=t.tracks.find(function(g){return g.name===a.name&&g.ValueTypeName===l});if(u===void 0)continue;let c=0;const d=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=d/3);let p=0;const m=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=m/3);const v=a.times.length-1;let y;if(s<=a.times[0]){const g=c,b=d-c;y=ns(a.values,g,b)}else if(s>=a.times[v]){const g=v*d+c,b=g+d-c;y=ns(a.values,g,b)}else{const g=a.createInterpolant(),b=c,S=d-c;g.evaluate(s),y=ns(g.resultBuffer,b,S)}l==="quaternion"&&new pr().fromArray(y).normalize().conjugate().toArray(y);const x=u.times.length;for(let g=0;g<x;++g){const b=g*m+p;if(l==="quaternion")pr.multiplyQuaternionsFlat(u.values,b,y,0,u.values,b);else{const S=m-p*2;for(let M=0;M<S;++M)u.values[b+M]-=y[M]}}}return t.blendMode=ZA,t}const eX={arraySlice:ns,convertArray:fu,isTypedArray:wE,getKeyframeOrder:H4,sortedArray:Hw,flattenJSON:ME,subclip:ZK,makeClipAdditive:qK};class Sd{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],s=n[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(s=i,i=n[++r],e<i)break t}o=n.length;break n}if(!(e>=s)){const a=n[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=n[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const a=r+o>>>1;e<n[a]?o=a:r=a+1}if(i=n[r],s=n[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)n[o]=r[s+o];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class G4 extends Sd{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:lu,endingEnd:lu}}intervalChanged_(e,n,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case uu:s=e,a=2*n-r;break;case $p:s=i.length-2,a=n+i[s]-i[s+1];break;default:s=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case uu:o=e,l=2*r-n;break;case $p:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=n}const u=(r-n)*.5,c=this.valueSize;this._weightPrev=u/(n-a),this._weightNext=u/(l-r),this._offsetPrev=s*c,this._offsetNext=o*c}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,c=this._offsetPrev,d=this._offsetNext,p=this._weightPrev,m=this._weightNext,v=(r-n)/(i-n),y=v*v,x=y*v,g=-p*x+2*p*y-p*v,b=(1+p)*x+(-1.5-2*p)*y+(-.5+p)*v+1,S=(-1-m)*x+(1.5+m)*y+.5*v,M=m*x-m*y;for(let C=0;C!==a;++C)s[C]=g*o[c+C]+b*o[u+C]+S*o[l+C]+M*o[d+C];return s}}class AE extends Sd{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,c=(r-n)/(i-n),d=1-c;for(let p=0;p!==a;++p)s[p]=o[u+p]*d+o[l+p]*c;return s}}class $4 extends Sd{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Ws{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=fu(n,this.TimeBufferType),this.values=fu(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:fu(e.times,Array),values:fu(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new $4(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new AE(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new G4(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case Jf:n=this.InterpolantFactoryMethodDiscrete;break;case Pu:n=this.InterpolantFactoryMethodLinear;break;case zv:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Jf;case this.InterpolantFactoryMethodLinear:return Pu;case this.InterpolantFactoryMethodSmooth:return zv}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>n;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=ns(r,s,o),this.values=ns(this.values,s*a,o*a)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&wE(i))for(let a=0,l=i.length;a!==l;++a){const u=i[a];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,u),e=!1;break}}return e}optimize(){const e=ns(this.times),n=ns(this.values),r=this.getValueSize(),i=this.getInterpolation()===zv,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const u=e[a],c=e[a+1];if(u!==c&&(a!==1||u!==e[0]))if(i)l=!0;else{const d=a*r,p=d-r,m=d+r;for(let v=0;v!==r;++v){const y=n[d+v];if(y!==n[p+v]||y!==n[m+v]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const d=a*r,p=o*r;for(let m=0;m!==r;++m)n[p+m]=n[d+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,u=0;u!==r;++u)n[l+u]=n[a+u];++o}return o!==e.length?(this.times=ns(e,0,o),this.values=ns(n,0,o*r)):(this.times=e,this.values=n),this}clone(){const e=ns(this.times,0),n=ns(this.values,0),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}Ws.prototype.TimeBufferType=Float32Array;Ws.prototype.ValueBufferType=Float32Array;Ws.prototype.DefaultInterpolation=Pu;class Uu extends Ws{}Uu.prototype.ValueTypeName="bool";Uu.prototype.ValueBufferType=Array;Uu.prototype.DefaultInterpolation=Jf;Uu.prototype.InterpolantFactoryMethodLinear=void 0;Uu.prototype.InterpolantFactoryMethodSmooth=void 0;class EE extends Ws{}EE.prototype.ValueTypeName="color";class Zf extends Ws{}Zf.prototype.ValueTypeName="number";class V4 extends Sd{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-n)/(i-n);let u=e*a;for(let c=u+a;u!==c;u+=4)pr.slerpFlat(s,0,o,u-a,o,u,l);return s}}class dl extends Ws{InterpolantFactoryMethodLinear(e){return new V4(this.times,this.values,this.getValueSize(),e)}}dl.prototype.ValueTypeName="quaternion";dl.prototype.DefaultInterpolation=Pu;dl.prototype.InterpolantFactoryMethodSmooth=void 0;class zu extends Ws{}zu.prototype.ValueTypeName="string";zu.prototype.ValueBufferType=Array;zu.prototype.DefaultInterpolation=Jf;zu.prototype.InterpolantFactoryMethodLinear=void 0;zu.prototype.InterpolantFactoryMethodSmooth=void 0;class qf extends Ws{}qf.prototype.ValueTypeName="vector";class ed{constructor(e,n=-1,r,i=gx){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=Oi(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,a=r.length;o!==a;++o)n.push(nX(r[o]).scale(i));const s=new this(e.name,e.duration,n,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=r.length;s!==o;++s)n.push(Ws.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const s=n.length,o=[];for(let a=0;a<s;a++){let l=[],u=[];l.push((a+s-1)%s,a,(a+1)%s),u.push(0,1,0);const c=H4(l);l=Hw(l,1,c),u=Hw(u,1,c),!i&&l[0]===0&&(l.push(s),u.push(u[0])),o.push(new Zf(".morphTargetInfluences["+n[a].name+"]",l,u).scale(1/r))}return new this(e,-1,o)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const u=e[a],c=u.name.match(s);if(c&&c.length>1){const d=c[1];let p=i[d];p||(i[d]=p=[]),p.push(u)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],n,r));return o}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(d,p,m,v,y){if(m.length!==0){const x=[],g=[];ME(m,x,g,v),x.length!==0&&y.push(new d(p,x,g))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const u=e.hierarchy||[];for(let d=0;d<u.length;d++){const p=u[d].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const m={};let v;for(v=0;v<p.length;v++)if(p[v].morphTargets)for(let y=0;y<p[v].morphTargets.length;y++)m[p[v].morphTargets[y]]=-1;for(const y in m){const x=[],g=[];for(let b=0;b!==p[v].morphTargets.length;++b){const S=p[v];x.push(S.time),g.push(S.morphTarget===y?1:0)}i.push(new Zf(".morphTargetInfluence["+y+"]",x,g))}l=m.length*o}else{const m=".bones["+n[d].name+"]";r(qf,m+".position",p,"pos",i),r(dl,m+".quaternion",p,"rot",i),r(qf,m+".scale",p,"scl",i)}}return i.length===0?null:new this(s,l,i,a)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];n=Math.max(n,s.times[s.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function tX(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Zf;case"vector":case"vector2":case"vector3":case"vector4":return qf;case"color":return EE;case"quaternion":return dl;case"bool":case"boolean":return Uu;case"string":return zu}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function nX(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=tX(t.type);if(t.times===void 0){const n=[],r=[];ME(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const Iu={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class CE{constructor(e,n,r){const i=this;let s=!1,o=0,a=0,l;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(c){a++,s===!1&&i.onStart!==void 0&&i.onStart(c,o,a),s=!0},this.itemEnd=function(c){o++,i.onProgress!==void 0&&i.onProgress(c,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(c){i.onError!==void 0&&i.onError(c)},this.resolveURL=function(c){return l?l(c):c},this.setURLModifier=function(c){return l=c,this},this.addHandler=function(c,d){return u.push(c,d),this},this.removeHandler=function(c){const d=u.indexOf(c);return d!==-1&&u.splice(d,2),this},this.getHandler=function(c){for(let d=0,p=u.length;d<p;d+=2){const m=u[d],v=u[d+1];if(m.global&&(m.lastIndex=0),m.test(c))return v}return null}}}const W4=new CE;class qr{constructor(e){this.manager=e!==void 0?e:W4,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,s){r.load(e,i,n,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const Oo={};class rX extends Error{constructor(e,n){super(e),this.response=n}}class ki extends qr{constructor(e){super(e)}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Iu.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(s),this.manager.itemEnd(e)},0),s;if(Oo[e]!==void 0){Oo[e].push({onLoad:n,onProgress:r,onError:i});return}Oo[e]=[],Oo[e].push({onLoad:n,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const c=Oo[e],d=u.body.getReader(),p=u.headers.get("Content-Length")||u.headers.get("X-File-Size"),m=p?parseInt(p):0,v=m!==0;let y=0;const x=new ReadableStream({start(g){b();function b(){d.read().then(({done:S,value:M})=>{if(S)g.close();else{y+=M.byteLength;const C=new ProgressEvent("progress",{lengthComputable:v,loaded:y,total:m});for(let E=0,R=c.length;E<R;E++){const I=c[E];I.onProgress&&I.onProgress(C)}g.enqueue(M),b()}})}}});return new Response(x)}else throw new rX(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(l){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(c=>new DOMParser().parseFromString(c,a));case"json":return u.json();default:if(a===void 0)return u.text();{const d=/charset="?([^;"\s]*)"?/i.exec(a),p=d&&d[1]?d[1].toLowerCase():void 0,m=new TextDecoder(p);return u.arrayBuffer().then(v=>m.decode(v))}}}).then(u=>{Iu.add(e,u);const c=Oo[e];delete Oo[e];for(let d=0,p=c.length;d<p;d++){const m=c[d];m.onLoad&&m.onLoad(u)}}).catch(u=>{const c=Oo[e];if(c===void 0)throw this.manager.itemError(e),u;delete Oo[e];for(let d=0,p=c.length;d<p;d++){const m=c[d];m.onError&&m.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class iX extends qr{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new ki(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=[];for(let r=0;r<e.length;r++){const i=ed.parse(e[r]);n.push(i)}return n}}class sX extends qr{constructor(e){super(e)}load(e,n,r,i){const s=this,o=[],a=new mE,l=new ki(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let u=0;function c(d){l.load(e[d],function(p){const m=s.parse(p,!0);o[d]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},u+=1,u===6&&(m.mipmapCount===1&&(a.minFilter=Xt),a.image=o,a.format=m.format,a.needsUpdate=!0,n&&n(a))},r,i)}if(Array.isArray(e))for(let d=0,p=e.length;d<p;++d)c(d);else l.load(e,function(d){const p=s.parse(d,!0);if(p.isCubemap){const m=p.mipmaps.length/p.mipmapCount;for(let v=0;v<m;v++){o[v]={mipmaps:[]};for(let y=0;y<p.mipmapCount;y++)o[v].mipmaps.push(p.mipmaps[v*p.mipmapCount+y]),o[v].format=p.format,o[v].width=p.width,o[v].height=p.height}a.image=o}else a.image.width=p.width,a.image.height=p.height,a.mipmaps=p.mipmaps;p.mipmapCount===1&&(a.minFilter=Xt),a.format=p.format,a.needsUpdate=!0,n&&n(a)},r,i);return a}}class Qp extends qr{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Iu.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o;const a=jp("img");function l(){c(),Iu.add(e,this),n&&n(this),s.manager.itemEnd(e)}function u(d){c(),i&&i(d),s.manager.itemError(e),s.manager.itemEnd(e)}function c(){a.removeEventListener("load",l,!1),a.removeEventListener("error",u,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class j4 extends qr{constructor(e){super(e)}load(e,n,r,i){const s=new vm,o=new Qp(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(u){o.load(e[u],function(c){s.images[u]=c,a++,a===6&&(s.needsUpdate=!0,n&&n(s))},void 0,i)}for(let u=0;u<e.length;++u)l(u);return s}}class J4 extends qr{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new _u,a=new ki(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){const u=s.parse(l);u&&(u.image!==void 0?o.image=u.image:u.data!==void 0&&(o.image.width=u.width,o.image.height=u.height,o.image.data=u.data),o.wrapS=u.wrapS!==void 0?u.wrapS:xr,o.wrapT=u.wrapT!==void 0?u.wrapT:xr,o.magFilter=u.magFilter!==void 0?u.magFilter:Xt,o.minFilter=u.minFilter!==void 0?u.minFilter:Xt,o.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.encoding!==void 0&&(o.encoding=u.encoding),u.flipY!==void 0&&(o.flipY=u.flipY),u.format!==void 0&&(o.format=u.format),u.type!==void 0&&(o.type=u.type),u.mipmaps!==void 0&&(o.mipmaps=u.mipmaps,o.minFilter=vo),u.mipmapCount===1&&(o.minFilter=Xt),u.generateMipmaps!==void 0&&(o.generateMipmaps=u.generateMipmaps),o.needsUpdate=!0,n&&n(o,u))},r,i),o}}class Bm extends qr{constructor(e){super(e)}load(e,n,r,i){const s=new ln,o=new Qp(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,n!==void 0&&n(s)},r,i),s}}class wl extends Ht{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new Ce(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}class K4 extends wl{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Ht.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Ce(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const cS=new ut,y3=new N,x3=new N;class TE{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new fe(512,512),this.map=null,this.mapPass=null,this.matrix=new ut,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new yx,this._frameExtents=new fe(1,1),this._viewportCount=1,this._viewports=[new Nt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;y3.setFromMatrixPosition(e.matrixWorld),n.position.copy(y3),x3.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(x3),n.updateMatrixWorld(),cS.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(cS),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(cS)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class oX extends TE{constructor(){super(new Ln(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,r=Xf*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||n.far;(r!==n.fov||i!==n.aspect||s!==n.far)&&(n.fov=r,n.aspect=i,n.far=s,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class PE extends wl{constructor(e,n,r=0,i=Math.PI/3,s=0,o=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Ht.DEFAULT_UP),this.updateMatrix(),this.target=new Ht,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new oX}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const _3=new ut,_h=new N,fS=new N;class aX extends TE{constructor(){super(new Ln(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new fe(4,2),this._viewportCount=6,this._viewports=[new Nt(2,1,1,1),new Nt(0,1,1,1),new Nt(3,1,1,1),new Nt(1,1,1,1),new Nt(3,0,1,1),new Nt(1,0,1,1)],this._cubeDirections=[new N(1,0,0),new N(-1,0,0),new N(0,0,1),new N(0,0,-1),new N(0,1,0),new N(0,-1,0)],this._cubeUps=[new N(0,1,0),new N(0,1,0),new N(0,1,0),new N(0,1,0),new N(0,0,1),new N(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),_h.setFromMatrixPosition(e.matrixWorld),r.position.copy(_h),fS.copy(r.position),fS.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(fS),r.updateMatrixWorld(),i.makeTranslation(-_h.x,-_h.y,-_h.z),_3.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_3)}}class RE extends wl{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new aX}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class lX extends TE{constructor(){super(new pd(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class BE extends wl{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Ht.DEFAULT_UP),this.updateMatrix(),this.target=new Ht,this.shadow=new lX}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class X4 extends wl{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class Y4 extends wl{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class Q4{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new N)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.282095),n.addScaledVector(o[1],.488603*i),n.addScaledVector(o[2],.488603*s),n.addScaledVector(o[3],.488603*r),n.addScaledVector(o[4],1.092548*(r*i)),n.addScaledVector(o[5],1.092548*(i*s)),n.addScaledVector(o[6],.315392*(3*s*s-1)),n.addScaledVector(o[7],1.092548*(r*s)),n.addScaledVector(o[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.886227),n.addScaledVector(o[1],2*.511664*i),n.addScaledVector(o[2],2*.511664*s),n.addScaledVector(o[3],2*.511664*r),n.addScaledVector(o[4],2*.429043*r*i),n.addScaledVector(o[5],2*.429043*i*s),n.addScaledVector(o[6],.743125*s*s-.247708),n.addScaledVector(o[7],2*.429043*r*s),n.addScaledVector(o[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,s=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*s,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*s,n[6]=.315392*(3*s*s-1),n[7]=1.092548*r*s,n[8]=.546274*(r*r-i*i)}}class Tx extends wl{constructor(e=new Q4,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class Px extends qr{constructor(e){super(e),this.textures={}}load(e,n,r,i){const s=this,o=new ki(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=this.textures;function r(s){return n[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),n[s]}const i=Px.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new Ce().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==1&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new Ce().setHex(o.value);break;case"v2":i.uniforms[s].value=new fe().fromArray(o.value);break;case"v3":i.uniforms[s].value=new N().fromArray(o.value);break;case"v4":i.uniforms[s].value=new Nt().fromArray(o.value);break;case"m3":i.uniforms[s].value=new Dt().fromArray(o.value);break;case"m4":i.uniforms[s].value=new ut().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new fe().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new fe().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const n={ShadowMaterial:L4,SpriteMaterial:fE,RawShaderMaterial:O4,ShaderMaterial:tr,PointsMaterial:Mx,MeshPhysicalMaterial:fa,MeshStandardMaterial:_d,MeshPhongMaterial:F4,MeshToonMaterial:k4,MeshNormalMaterial:bE,MeshLambertMaterial:N4,MeshDepthMaterial:_x,MeshDistanceMaterial:lE,MeshBasicMaterial:Bi,MeshMatcapMaterial:U4,LineDashedMaterial:z4,LineBasicMaterial:Nr,Material:On};return new n[e]}}class ho{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let r=0,i=e.length;r<i;r++)n+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class Z4 extends gt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class q4 extends qr{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new ki(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n={},r={};function i(m,v){if(n[v]!==void 0)return n[v];const x=m.interleavedBuffers[v],g=s(m,x.buffer),b=Sf(x.type,g),S=new ym(b,x.stride);return S.uuid=x.uuid,n[v]=S,S}function s(m,v){if(r[v]!==void 0)return r[v];const x=m.arrayBuffers[v],g=new Uint32Array(x).buffer;return r[v]=g,g}const o=e.isInstancedBufferGeometry?new Z4:new gt,a=e.data.index;if(a!==void 0){const m=Sf(a.type,a.array);o.setIndex(new Ut(m,1))}const l=e.data.attributes;for(const m in l){const v=l[m];let y;if(v.isInterleavedBufferAttribute){const x=i(e.data,v.data);y=new fl(x,v.itemSize,v.offset,v.normalized)}else{const x=Sf(v.type,v.array),g=v.isInstancedBufferAttribute?Qf:Ut;y=new g(x,v.itemSize,v.normalized)}v.name!==void 0&&(y.name=v.name),v.usage!==void 0&&y.setUsage(v.usage),v.updateRange!==void 0&&(y.updateRange.offset=v.updateRange.offset,y.updateRange.count=v.updateRange.count),o.setAttribute(m,y)}const u=e.data.morphAttributes;if(u)for(const m in u){const v=u[m],y=[];for(let x=0,g=v.length;x<g;x++){const b=v[x];let S;if(b.isInterleavedBufferAttribute){const M=i(e.data,b.data);S=new fl(M,b.itemSize,b.offset,b.normalized)}else{const M=Sf(b.type,b.array);S=new Ut(M,b.itemSize,b.normalized)}b.name!==void 0&&(S.name=b.name),y.push(S)}o.morphAttributes[m]=y}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const d=e.data.groups||e.data.drawcalls||e.data.offsets;if(d!==void 0)for(let m=0,v=d.length;m!==v;++m){const y=d[m];o.addGroup(y.start,y.count,y.materialIndex)}const p=e.data.boundingSphere;if(p!==void 0){const m=new N;p.center!==void 0&&m.fromArray(p.center),o.boundingSphere=new ms(m,p.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class uX extends qr{constructor(e){super(e)}load(e,n,r,i){const s=this,o=this.path===""?ho.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new ki(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let u=null;try{u=JSON.parse(l)}catch(d){i!==void 0&&i(d),console.error("THREE:ObjectLoader: Can't parse "+e+".",d.message);return}const c=u.metadata;if(c===void 0||c.type===void 0||c.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(u,n)},r,i)}async loadAsync(e,n){const r=this,i=this.path===""?ho.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new ki(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,n),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,n){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){n!==void 0&&n(u)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),u=this.parseObject(e.object,s,l,a,r),c=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,c),n!==void 0){let d=!1;for(const p in o)if(o[p].data instanceof HTMLImageElement){d=!0;break}d===!1&&n(u)}return u}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,a,o,n),u=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,u),l}parseShapes(e){const n={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new Su().fromJSON(e[r]);n[s.uuid]=s}return n}parseSkeletons(e,n){const r={},i={};if(n.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new xm().fromJSON(e[s],i);r[a.uuid]=a}return r}parseGeometries(e,n){const r={};if(e!==void 0){const i=new q4;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;default:l.type in v3?a=v3[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,n){const r={},i={};if(e!==void 0){const s=new Px;s.setTextures(n);for(let o=0,a=e.length;o<a;o++){const l=e[o];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=ed.parse(i);n[s.uuid]=s}return n}parseImages(e,n){const r=this,i={};let s;function o(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const u=l,c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:r.resourcePath+u;return o(c)}else return l.data?{data:Sf(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new CE(n);s=new Qp(l),s.setCrossOrigin(this.crossOrigin);for(let u=0,c=e.length;u<c;u++){const d=e[u],p=d.url;if(Array.isArray(p)){const m=[];for(let v=0,y=p.length;v<y;v++){const x=p[v],g=a(x);g!==null&&(g instanceof HTMLImageElement?m.push(g):m.push(new _u(g.data,g.width,g.height)))}i[d.uuid]=new cu(m)}else{const m=a(d.url);i[d.uuid]=new cu(m)}}}return i}async parseImagesAsync(e){const n=this,r={};let i;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:n.resourcePath+a;return await i.loadAsync(l)}else return o.data?{data:Sf(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new Qp(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],u=l.url;if(Array.isArray(u)){const c=[];for(let d=0,p=u.length;d<p;d++){const m=u[d],v=await s(m);v!==null&&(v instanceof HTMLImageElement?c.push(v):c.push(new _u(v.data,v.width,v.height)))}r[l.uuid]=new cu(c)}else{const c=await s(l.url);r[l.uuid]=new cu(c)}}}return r}parseTextures(e,n){function r(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),n[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=n[a.image],u=l.data;let c;Array.isArray(u)?(c=new vm,u.length===6&&(c.needsUpdate=!0)):(u&&u.data?c=new _u:c=new ln,u&&(c.needsUpdate=!0)),c.source=l,c.uuid=a.uuid,a.name!==void 0&&(c.name=a.name),a.mapping!==void 0&&(c.mapping=r(a.mapping,cX)),a.channel!==void 0&&(c.channel=a.channel),a.offset!==void 0&&c.offset.fromArray(a.offset),a.repeat!==void 0&&c.repeat.fromArray(a.repeat),a.center!==void 0&&c.center.fromArray(a.center),a.rotation!==void 0&&(c.rotation=a.rotation),a.wrap!==void 0&&(c.wrapS=r(a.wrap[0],S3),c.wrapT=r(a.wrap[1],S3)),a.format!==void 0&&(c.format=a.format),a.internalFormat!==void 0&&(c.internalFormat=a.internalFormat),a.type!==void 0&&(c.type=a.type),a.encoding!==void 0&&(c.encoding=a.encoding),a.minFilter!==void 0&&(c.minFilter=r(a.minFilter,b3)),a.magFilter!==void 0&&(c.magFilter=r(a.magFilter,b3)),a.anisotropy!==void 0&&(c.anisotropy=a.anisotropy),a.flipY!==void 0&&(c.flipY=a.flipY),a.generateMipmaps!==void 0&&(c.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(c.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(c.unpackAlignment=a.unpackAlignment),a.userData!==void 0&&(c.userData=a.userData),i[a.uuid]=c}return i}parseObject(e,n,r,i,s){let o;function a(p){return n[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),n[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const m=[];for(let v=0,y=p.length;v<y;v++){const x=p[v];r[x]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",x),m.push(r[x])}return m}return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),r[p]}}function u(p){return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),i[p]}let c,d;switch(e.type){case"Scene":o=new Ru,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new Ce(e.background):o.background=u(e.background)),e.environment!==void 0&&(o.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new bx(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new Sx(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":o=new Ln(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new pd(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new X4(e.color,e.intensity);break;case"DirectionalLight":o=new BE(e.color,e.intensity);break;case"PointLight":o=new RE(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new Y4(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new PE(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new K4(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new Tx().fromJSON(e);break;case"SkinnedMesh":c=a(e.geometry),d=l(e.material),o=new dE(c,d),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":c=a(e.geometry),d=l(e.material),o=new Hn(c,d);break;case"InstancedMesh":c=a(e.geometry),d=l(e.material);const p=e.count,m=e.instanceMatrix,v=e.instanceColor;o=new w4(c,d,p),o.instanceMatrix=new Qf(new Float32Array(m.array),16),v!==void 0&&(o.instanceColor=new Qf(new Float32Array(v.array),v.itemSize));break;case"LOD":o=new b4;break;case"Line":o=new oa(a(e.geometry),l(e.material));break;case"LineLoop":o=new hE(a(e.geometry),l(e.material));break;case"LineSegments":o=new $s(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new pE(a(e.geometry),l(e.material));break;case"Sprite":o=new S4(l(e.material));break;case"Group":o=new Xo;break;case"Bone":o=new wx;break;default:o=new Ht}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let m=0;m<p.length;m++)o.add(this.parseObject(p[m],n,r,i,s))}if(e.animations!==void 0){const p=e.animations;for(let m=0;m<p.length;m++){const v=p[m];o.animations.push(s[v])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const p=e.levels;for(let m=0;m<p.length;m++){const v=p[m],y=o.getObjectByProperty("uuid",v.object);y!==void 0&&o.addLevel(y,v.distance,v.hysteresis)}}return o}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=n[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const cX={UVMapping:hx,CubeReflectionMapping:sa,CubeRefractionMapping:ul,EquirectangularReflectionMapping:Wf,EquirectangularRefractionMapping:Hp,CubeUVReflectionMapping:fd},S3={RepeatWrapping:go,ClampToEdgeWrapping:xr,MirroredRepeatWrapping:jf},b3={NearestFilter:en,NearestMipmapNearestFilter:Gp,NearestMipmapLinearFilter:Lf,LinearFilter:Xt,LinearMipmapNearestFilter:px,LinearMipmapLinearFilter:vo};class eU extends qr{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Iu.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){Iu.add(e,l),n&&n(l),s.manager.itemEnd(e)}).catch(function(l){i&&i(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let X0;class IE{static getContext(){return X0===void 0&&(X0=new(window.AudioContext||window.webkitAudioContext)),X0}static setContext(e){X0=e}}class fX extends qr{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new ki(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{const l=a.slice(0);IE.getContext().decodeAudioData(l,function(c){n(c)})}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}}class dX extends Tx{constructor(e,n,r=1){super(void 0,r),this.isHemisphereLightProbe=!0;const i=new Ce().set(e),s=new Ce().set(n),o=new N(i.r,i.g,i.b),a=new N(s.r,s.g,s.b),l=Math.sqrt(Math.PI),u=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(u)}}class hX extends Tx{constructor(e,n=1){super(void 0,n),this.isAmbientLightProbe=!0;const r=new Ce().set(e);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const w3=new ut,M3=new ut,zl=new ut;class pX{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Ln,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Ln,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,zl.copy(e.projectionMatrix);const i=n.eyeSep/2,s=i*n.near/n.focus,o=n.near*Math.tan(yu*n.fov*.5)/n.zoom;let a,l;M3.elements[12]=-i,w3.elements[12]=i,a=-o*n.aspect+s,l=o*n.aspect+s,zl.elements[0]=2*n.near/(l-a),zl.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(zl),a=-o*n.aspect-s,l=o*n.aspect-s,zl.elements[0]=2*n.near/(l-a),zl.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(zl)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(M3),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(w3)}}class DE{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=A3(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=A3();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function A3(){return(typeof performance>"u"?Date:performance).now()}const Hl=new N,E3=new pr,mX=new N,Gl=new N;class gX extends Ht{constructor(){super(),this.type="AudioListener",this.context=IE.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new DE}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Hl,E3,mX),Gl.set(0,0,-1).applyQuaternion(E3),n.positionX){const i=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(Hl.x,i),n.positionY.linearRampToValueAtTime(Hl.y,i),n.positionZ.linearRampToValueAtTime(Hl.z,i),n.forwardX.linearRampToValueAtTime(Gl.x,i),n.forwardY.linearRampToValueAtTime(Gl.y,i),n.forwardZ.linearRampToValueAtTime(Gl.z,i),n.upX.linearRampToValueAtTime(r.x,i),n.upY.linearRampToValueAtTime(r.y,i),n.upZ.linearRampToValueAtTime(r.z,i)}else n.setPosition(Hl.x,Hl.y,Hl.z),n.setOrientation(Gl.x,Gl.y,Gl.z,r.x,r.y,r.z)}}class tU extends Ht{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const $l=new N,C3=new pr,vX=new N,Vl=new N;class yX extends tU{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose($l,C3,vX),Vl.set(0,0,1).applyQuaternion(C3);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime($l.x,r),n.positionY.linearRampToValueAtTime($l.y,r),n.positionZ.linearRampToValueAtTime($l.z,r),n.orientationX.linearRampToValueAtTime(Vl.x,r),n.orientationY.linearRampToValueAtTime(Vl.y,r),n.orientationZ.linearRampToValueAtTime(Vl.z,r)}else n.setPosition($l.x,$l.y,$l.z),n.setOrientation(Vl.x,Vl.y,Vl.z)}}class xX{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class nU{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,s,o;switch(n){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)r[s+a]=r[a];o=n}else{o+=n;const a=n/o;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=n*this._origIndex;this._mixBufferRegion(r,i,l,1-s,n)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let l=n,u=n+n;l!==u;++l)if(r[l]!==r[l+n]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let s=r,o=i;s!==o;++s)n[s]=n[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[n+o]=e[r+o]}_slerp(e,n,r,i){pr.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,s){const o=this._workIndex*s;pr.multiplyQuaternionsFlat(e,o,e,n,e,r),pr.slerpFlat(e,n,e,n,e,o,i)}_lerp(e,n,r,i,s){const o=1-i;for(let a=0;a!==s;++a){const l=n+a;e[l]=e[l]*o+e[r+a]*i}}_lerpAdditive(e,n,r,i,s){for(let o=0;o!==s;++o){const a=n+o;e[a]=e[a]+e[r+o]*i}}}const LE="\\[\\]\\.:\\/",_X=new RegExp("["+LE+"]","g"),OE="[^"+LE+"]",SX="[^"+LE.replace("\\.","")+"]",bX=/((?:WC+[\/:])*)/.source.replace("WC",OE),wX=/(WCOD+)?/.source.replace("WCOD",SX),MX=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",OE),AX=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",OE),EX=new RegExp("^"+bX+wX+MX+AX+"$"),CX=["material","materials","bones","map"];class TX{constructor(e,n,r){const i=r||zt.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class zt{constructor(e,n,r){this.path=n,this.parsedPath=r||zt.parseTrackName(n),this.node=zt.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new zt.Composite(e,n,r):new zt(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(_X,"")}static parseTrackName(e){const n=EX.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);CX.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===n||a.uuid===n)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let s=n.propertyIndex;if(e||(e=zt.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(r){let u=n.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let c=0;c<e.length;c++)if(e[c].name===u){u=c;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const o=e[i];if(o===void 0){const u=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}zt.Composite=TX;zt.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};zt.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};zt.prototype.GetterByBindingType=[zt.prototype._getValue_direct,zt.prototype._getValue_array,zt.prototype._getValue_arrayElement,zt.prototype._getValue_toArray];zt.prototype.SetterByBindingTypeAndVersioning=[[zt.prototype._setValue_direct,zt.prototype._setValue_direct_setNeedsUpdate,zt.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[zt.prototype._setValue_array,zt.prototype._setValue_array_setNeedsUpdate,zt.prototype._setValue_array_setMatrixWorldNeedsUpdate],[zt.prototype._setValue_arrayElement,zt.prototype._setValue_arrayElement_setNeedsUpdate,zt.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[zt.prototype._setValue_fromArray,zt.prototype._setValue_fromArray_setNeedsUpdate,zt.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class PX{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Oi(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,u=this.nCachedObjects_;for(let c=0,d=arguments.length;c!==d;++c){const p=arguments[c],m=p.uuid;let v=n[m];if(v===void 0){v=l++,n[m]=v,e.push(p);for(let y=0,x=o;y!==x;++y)s[y].push(new zt(p,r[y],i[y]))}else if(v<u){a=e[v];const y=--u,x=e[y];n[x.uuid]=v,e[v]=x,n[m]=y,e[y]=p;for(let g=0,b=o;g!==b;++g){const S=s[g],M=S[y];let C=S[v];S[v]=M,C===void 0&&(C=new zt(p,r[g],i[g])),S[y]=C}}else e[v]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],u=l.uuid,c=n[u];if(c!==void 0&&c>=s){const d=s++,p=e[d];n[p.uuid]=c,e[c]=p,n[u]=d,e[d]=l;for(let m=0,v=i;m!==v;++m){const y=r[m],x=y[d],g=y[c];y[c]=x,y[d]=g}}}this.nCachedObjects_=s}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const u=arguments[a],c=u.uuid,d=n[c];if(d!==void 0)if(delete n[c],d<s){const p=--s,m=e[p],v=--o,y=e[v];n[m.uuid]=d,e[d]=m,n[y.uuid]=p,e[p]=y,e.pop();for(let x=0,g=i;x!==g;++x){const b=r[x],S=b[p],M=b[v];b[d]=S,b[p]=M,b.pop()}}else{const p=--o,m=e[p];p>0&&(n[m.uuid]=d),e[d]=m,e.pop();for(let v=0,y=i;v!==y;++v){const x=r[v];x[d]=x[p],x.pop()}}}this.nCachedObjects_=s}subscribe_(e,n){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,a=this._parsedPaths,l=this._objects,u=l.length,c=this.nCachedObjects_,d=new Array(u);i=s.length,r[e]=i,o.push(e),a.push(n),s.push(d);for(let p=c,m=l.length;p!==m;++p){const v=l[p];d[p]=new zt(v,e,n)}return d}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],u=e[a];n[u]=r,o[r]=l,o.pop(),s[r]=s[a],s.pop(),i[r]=i[a],i.pop()}}}class rU{constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const s=n.tracks,o=s.length,a=new Array(o),l={endingStart:lu,endingEnd:lu};for(let u=0;u!==o;++u){const c=s[u].createInterpolant(null);a[u]=c,c.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=e4,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r){if(e.fadeOut(n),this.fadeIn(n),r){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,n),this.warp(a,1,n)}return this}crossFadeTo(e,n,r){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,u=a.sampleValues;return l[0]=s,l[1]=s+r,u[0]=e/o,u[1]=n/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?n=0:(this._startTime=null,n=r*l)}n*=this._updateTimeScale(e);const o=this._updateTime(n),a=this._updateWeight(e);if(a>0){const l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case ZA:for(let c=0,d=l.length;c!==d;++c)l[c].evaluate(o),u[c].accumulateAdditive(a);break;case gx:default:for(let c=0,d=l.length;c!==d;++c)l[c].evaluate(o),u[c].accumulate(i,a)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===t4;if(e===0)return s===-1?i:o&&(s&1)===1?n-i:i;if(r===qN){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=n||i<0){const a=Math.floor(i/n);i-=n*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const u=e<0;this._setEndings(u,!u,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=uu,i.endingEnd=uu):(e?i.endingStart=this.zeroSlopeAtStart?uu:lu:i.endingStart=$p,n?i.endingEnd=this.zeroSlopeAtEnd?uu:lu:i.endingEnd=$p)}_scheduleFading(e,n,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=n,a[1]=s+e,l[1]=r,this}}const RX=new Float32Array(1);class BX extends ps{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,l=r.uuid,u=this._bindingsByRootAndName;let c=u[l];c===void 0&&(c={},u[l]=c);for(let d=0;d!==s;++d){const p=i[d],m=p.name;let v=c[m];if(v!==void 0)++v.referenceCount,o[d]=v;else{if(v=o[d],v!==void 0){v._cacheIndex===null&&(++v.referenceCount,this._addInactiveBinding(v,l,m));continue}const y=n&&n._propertyBindings[d].binding.parsedPath;v=new nU(zt.create(r,m,y),p.ValueTypeName,p.getValueSize()),++v.referenceCount,this._addInactiveBinding(v,l,m),o[d]=v}a[d].resultBuffer=v.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,s=this._actionsByClip;let o=s[n];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[n]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,u=l[l.length-1],c=e._byClipCacheIndex;u._byClipCacheIndex=c,l[c]=u,l.pop(),e._byClipCacheIndex=null;const d=a.actionByRoot,p=(e._localRoot||this._root).uuid;delete d[p],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[n];o===void 0&&(o={},i[n]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,a=o[i],l=n[n.length-1],u=e._cacheIndex;l._cacheIndex=u,n[u]=l,n.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new AE(new Float32Array(2),new Float32Array(2),1,RX),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=n[i];e.__cacheIndex=i,n[i]=e,s.__cacheIndex=r,n[r]=s}clipAction(e,n,r){const i=n||this._root,s=i.uuid;let o=typeof e=="string"?ed.findByName(i,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let u=null;if(r===void 0&&(o!==null?r=o.blendMode:r=gx),l!==void 0){const d=l.actionByRoot[s];if(d!==void 0&&d.blendMode===r)return d;u=l.knownActions[0],o===null&&(o=u._clip)}if(o===null)return null;const c=new rU(this,o,n,r);return this._bindAction(c,u),this._addInactiveAction(c,a,s),c}existingAction(e,n){const r=n||this._root,i=r.uuid,s=typeof e=="string"?ed.findByName(r,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let u=0;u!==r;++u)n[u]._update(i,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let u=0;u!==l;++u)a[u].apply(o);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const u=o[a];this._deactivateAction(u);const c=u._cacheIndex,d=n[n.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,d._cacheIndex=c,n[c]=d,n.pop(),this._removeInactiveBindingsForAction(u)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const o in r){const a=r[o].actionByRoot,l=a[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[n];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class rt{constructor(e){this.value=e}clone(){return new rt(this.value.clone===void 0?this.value:this.value.clone())}}let IX=0;class DX extends ps{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:IX++}),this.name="",this.usage=Wp,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let r=0,i=n.length;r<i;r++)this.uniforms.push(n[r].clone());return this}clone(){return new this.constructor().copy(this)}}class LX extends ym{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class OX{constructor(e,n,r,i,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class FE{constructor(e,n,r=0,i=1/0){this.ray=new gm(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new xu,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}intersectObject(e,n=!0,r=[]){return Gw(e,this,r,n),r.sort(T3),r}intersectObjects(e,n=!0,r=[]){for(let i=0,s=e.length;i<s;i++)Gw(e[i],this,r,n);return r.sort(T3),r}}function T3(t,e){return t.distance-e.distance}function Gw(t,e,n,r){if(t.layers.test(e.layers)&&t.raycast(e,n),r===!0){const i=t.children;for(let s=0,o=i.length;s<o;s++)Gw(i[s],e,n,!0)}}class iU{constructor(e=1,n=0,r=0){return this.radius=e,this.phi=n,this.theta=r,this}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Dn(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class FX{constructor(e=1,n=0,r=0){return this.radius=e,this.theta=n,this.y=r,this}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}const P3=new fe;class kX{constructor(e=new fe(1/0,1/0),n=new fe(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=P3.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,P3).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const R3=new N,Y0=new N;class NX{constructor(e=new N,n=new N){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){R3.subVectors(e,this.start),Y0.subVectors(this.end,this.start);const r=Y0.dot(Y0);let s=Y0.dot(R3)/r;return n&&(s=Dn(s,0,1)),s}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const B3=new N;class UX extends Ht{constructor(e,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const r=new gt,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const u=o/l*Math.PI*2,c=a/l*Math.PI*2;i.push(Math.cos(u),Math.sin(u),1,Math.cos(c),Math.sin(c),1)}r.setAttribute("position",new $e(i,3));const s=new Nr({fog:!1,toneMapped:!1});this.cone=new $s(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),B3.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(B3),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Ba=new N,Q0=new ut,dS=new ut;class zX extends $s{constructor(e){const n=sU(e),r=new gt,i=[],s=[],o=new Ce(0,0,1),a=new Ce(0,1,0);for(let u=0;u<n.length;u++){const c=n[u];c.parent&&c.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}r.setAttribute("position",new $e(i,3)),r.setAttribute("color",new $e(s,3));const l=new Nr({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");dS.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<n.length;s++){const a=n[s];a.parent&&a.parent.isBone&&(Q0.multiplyMatrices(dS,a.matrixWorld),Ba.setFromMatrixPosition(Q0),i.setXYZ(o,Ba.x,Ba.y,Ba.z),Q0.multiplyMatrices(dS,a.parent.matrixWorld),Ba.setFromMatrixPosition(Q0),i.setXYZ(o+1,Ba.x,Ba.y,Ba.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function sU(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,sU(t.children[n]));return e}class HX extends Hn{constructor(e,n,r){const i=new xd(n,4,2),s=new Bi({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const GX=new N,I3=new Ce,D3=new Ce;class $X extends Ht{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new yd(n);i.rotateY(Math.PI*.5),this.material=new Bi({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new Ut(o,3)),this.add(new Hn(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");I3.copy(this.light.color),D3.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const s=r<i/2?I3:D3;n.setXYZ(r,s.r,s.g,s.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(GX.setFromMatrixPosition(this.light.matrixWorld).negate())}}class VX extends $s{constructor(e=10,n=10,r=4473924,i=8947848){r=new Ce(r),i=new Ce(i);const s=n/2,o=e/n,a=e/2,l=[],u=[];for(let p=0,m=0,v=-a;p<=n;p++,v+=o){l.push(-a,0,v,a,0,v),l.push(v,0,-a,v,0,a);const y=p===s?r:i;y.toArray(u,m),m+=3,y.toArray(u,m),m+=3,y.toArray(u,m),m+=3,y.toArray(u,m),m+=3}const c=new gt;c.setAttribute("position",new $e(l,3)),c.setAttribute("color",new $e(u,3));const d=new Nr({vertexColors:!0,toneMapped:!1});super(c,d),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class WX extends $s{constructor(e=10,n=16,r=8,i=64,s=4473924,o=8947848){s=new Ce(s),o=new Ce(o);const a=[],l=[];if(n>1)for(let d=0;d<n;d++){const p=d/n*(Math.PI*2),m=Math.sin(p)*e,v=Math.cos(p)*e;a.push(0,0,0),a.push(m,0,v);const y=d&1?s:o;l.push(y.r,y.g,y.b),l.push(y.r,y.g,y.b)}for(let d=0;d<r;d++){const p=d&1?s:o,m=e-e/r*d;for(let v=0;v<i;v++){let y=v/i*(Math.PI*2),x=Math.sin(y)*m,g=Math.cos(y)*m;a.push(x,0,g),l.push(p.r,p.g,p.b),y=(v+1)/i*(Math.PI*2),x=Math.sin(y)*m,g=Math.cos(y)*m,a.push(x,0,g),l.push(p.r,p.g,p.b)}}const u=new gt;u.setAttribute("position",new $e(a,3)),u.setAttribute("color",new $e(l,3));const c=new Nr({vertexColors:!0,toneMapped:!1});super(u,c),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const L3=new N,Z0=new N,O3=new N;class jX extends Ht{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let i=new gt;i.setAttribute("position",new $e([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const s=new Nr({fog:!1,toneMapped:!1});this.lightPlane=new oa(i,s),this.add(this.lightPlane),i=new gt,i.setAttribute("position",new $e([0,0,0,0,0,1],3)),this.targetLine=new oa(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),L3.setFromMatrixPosition(this.light.matrixWorld),Z0.setFromMatrixPosition(this.light.target.matrixWorld),O3.subVectors(Z0,L3),this.lightPlane.lookAt(Z0),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Z0),this.targetLine.scale.z=O3.length()}}const q0=new N,Bn=new dd;class JX extends $s{constructor(e){const n=new gt,r=new Nr({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(v,y){l(v),l(y)}function l(v){i.push(0,0,0),s.push(0,0,0),o[v]===void 0&&(o[v]=[]),o[v].push(i.length/3-1)}n.setAttribute("position",new $e(i,3)),n.setAttribute("color",new $e(s,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const u=new Ce(16755200),c=new Ce(16711680),d=new Ce(43775),p=new Ce(16777215),m=new Ce(3355443);this.setColors(u,c,d,p,m)}setColors(e,n,r,i,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,n.r,n.g,n.b),a.setXYZ(25,n.r,n.g,n.b),a.setXYZ(26,n.r,n.g,n.b),a.setXYZ(27,n.r,n.g,n.b),a.setXYZ(28,n.r,n.g,n.b),a.setXYZ(29,n.r,n.g,n.b),a.setXYZ(30,n.r,n.g,n.b),a.setXYZ(31,n.r,n.g,n.b),a.setXYZ(32,r.r,r.g,r.b),a.setXYZ(33,r.r,r.g,r.b),a.setXYZ(34,r.r,r.g,r.b),a.setXYZ(35,r.r,r.g,r.b),a.setXYZ(36,r.r,r.g,r.b),a.setXYZ(37,r.r,r.g,r.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;Bn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Un("c",n,e,Bn,0,0,-1),Un("t",n,e,Bn,0,0,1),Un("n1",n,e,Bn,-r,-i,-1),Un("n2",n,e,Bn,r,-i,-1),Un("n3",n,e,Bn,-r,i,-1),Un("n4",n,e,Bn,r,i,-1),Un("f1",n,e,Bn,-r,-i,1),Un("f2",n,e,Bn,r,-i,1),Un("f3",n,e,Bn,-r,i,1),Un("f4",n,e,Bn,r,i,1),Un("u1",n,e,Bn,r*.7,i*1.1,-1),Un("u2",n,e,Bn,-r*.7,i*1.1,-1),Un("u3",n,e,Bn,0,i*2,-1),Un("cf1",n,e,Bn,-r,0,1),Un("cf2",n,e,Bn,r,0,1),Un("cf3",n,e,Bn,0,-i,1),Un("cf4",n,e,Bn,0,i,1),Un("cn1",n,e,Bn,-r,0,-1),Un("cn2",n,e,Bn,r,0,-1),Un("cn3",n,e,Bn,0,-i,-1),Un("cn4",n,e,Bn,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Un(t,e,n,r,i,s,o){q0.set(i,s,o).unproject(r);const a=e[t];if(a!==void 0){const l=n.getAttribute("position");for(let u=0,c=a.length;u<c;u++)l.setXYZ(a[u],q0.x,q0.y,q0.z)}}const ev=new Gi;class KX extends $s{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new gt;s.setIndex(new Ut(r,1)),s.setAttribute("position",new Ut(i,3)),super(s,new Nr({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&ev.setFromObject(this.object),ev.isEmpty())return;const n=ev.min,r=ev.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=n.x,s[4]=r.y,s[5]=r.z,s[6]=n.x,s[7]=n.y,s[8]=r.z,s[9]=r.x,s[10]=n.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=n.z,s[15]=n.x,s[16]=r.y,s[17]=n.z,s[18]=n.x,s[19]=n.y,s[20]=n.z,s[21]=r.x,s[22]=n.y,s[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class XX extends $s{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new gt;s.setIndex(new Ut(r,1)),s.setAttribute("position",new $e(i,3)),super(s,new Nr({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class YX extends oa{constructor(e,n=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new gt;o.setAttribute("position",new $e(s,3)),o.computeBoundingSphere(),super(o,new Nr({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new gt;l.setAttribute("position",new $e(a,3)),l.computeBoundingSphere(),this.add(new Hn(l,new Bi({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const F3=new N;let tv,hS;class QX extends Ht{constructor(e=new N(0,0,1),n=new N(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper",tv===void 0&&(tv=new gt,tv.setAttribute("position",new $e([0,0,0,0,1,0],3)),hS=new Nu(0,.5,1,5,1),hS.translate(0,-.5,0)),this.position.copy(n),this.line=new oa(tv,new Nr({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Hn(hS,new Bi({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{F3.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(F3,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class ZX extends $s{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new gt;i.setAttribute("position",new $e(n,3)),i.setAttribute("color",new $e(r,3));const s=new Nr({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,n,r){const i=new Ce,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(n),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class qX{constructor(){this.type="ShapePath",this.color=new Ce,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new Jp,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,s,o){return this.currentPath.bezierCurveTo(e,n,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(g){const b=[];for(let S=0,M=g.length;S<M;S++){const C=g[S],E=new Su;E.curves=C.curves,b.push(E)}return b}function r(g,b){const S=b.length;let M=!1;for(let C=S-1,E=0;E<S;C=E++){let R=b[C],I=b[E],P=I.x-R.x,B=I.y-R.y;if(Math.abs(B)>Number.EPSILON){if(B<0&&(R=b[E],P=-P,I=b[C],B=-B),g.y<R.y||g.y>I.y)continue;if(g.y===R.y){if(g.x===R.x)return!0}else{const O=B*(g.x-R.x)-P*(g.y-R.y);if(O===0)return!0;if(O<0)continue;M=!M}}else{if(g.y!==R.y)continue;if(I.x<=g.x&&g.x<=R.x||R.x<=g.x&&g.x<=I.x)return!0}}return M}const i=fo.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const u=[];if(s.length===1)return a=s[0],l=new Su,l.curves=a.curves,u.push(l),u;let c=!i(s[0].getPoints());c=e?!c:c;const d=[],p=[];let m=[],v=0,y;p[v]=void 0,m[v]=[];for(let g=0,b=s.length;g<b;g++)a=s[g],y=a.getPoints(),o=i(y),o=e?!o:o,o?(!c&&p[v]&&v++,p[v]={s:new Su,p:y},p[v].s.curves=a.curves,c&&v++,m[v]=[]):m[v].push({h:a,p:y[0]});if(!p[0])return n(s);if(p.length>1){let g=!1,b=0;for(let S=0,M=p.length;S<M;S++)d[S]=[];for(let S=0,M=p.length;S<M;S++){const C=m[S];for(let E=0;E<C.length;E++){const R=C[E];let I=!0;for(let P=0;P<p.length;P++)r(R.p,p[P].p)&&(S!==P&&b++,I?(I=!1,d[P].push(R)):g=!0);I&&d[S].push(R)}}b>0&&g===!1&&(m=d)}let x;for(let g=0,b=p.length;g<b;g++){l=p[g].s,u.push(l),x=m[g];for(let S=0,M=x.length;S<M;S++)l.holes.push(x[S].h)}return u}}class eY extends bl{constructor(e,n,r,i,s,o){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(e,n,r,i,s,o)}}class tY extends _m{constructor(e,n,r,i){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(e,n,r,i)}}class nY extends Sm{constructor(e,n,r,i){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(e,n,r,i)}}class rY extends bm{constructor(e,n,r,i,s,o,a){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(e,n,r,i,s,o,a)}}class iY extends Nu{constructor(e,n,r,i,s,o,a,l){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(e,n,r,i,s,o,a,l)}}class sY extends wm{constructor(e,n){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(e,n)}}class oY extends Mm{constructor(e,n){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(e,n)}}class aY extends vd{constructor(e,n){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(e,n)}}class lY extends gd{constructor(e,n,r,i){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(e,n,r,i)}}class uY extends yd{constructor(e,n){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(e,n)}}class cY extends hd{constructor(e,n,r,i){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(e,n,r,i)}}class fY extends ca{constructor(e,n,r,i){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(e,n,r,i)}}class dY extends Am{constructor(e,n,r,i,s,o){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(e,n,r,i,s,o)}}class hY extends Em{constructor(e,n){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(e,n)}}class pY extends xd{constructor(e,n,r,i,s,o,a){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(e,n,r,i,s,o,a)}}class mY extends Cm{constructor(e,n){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(e,n)}}class gY extends Tm{constructor(e,n,r,i,s){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(e,n,r,i,s)}}class vY extends Pm{constructor(e,n,r,i,s,o){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(e,n,r,i,s,o)}}class yY extends Rm{constructor(e,n,r,i,s){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(e,n,r,i,s)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:cd}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=cd);const xY=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:KA,AddEquation:nu,AddOperation:FN,AdditiveAnimationBlendMode:ZA,AdditiveBlending:ow,AlphaFormat:jN,AlwaysDepth:PN,AlwaysStencilFunc:i4,AmbientLight:X4,AmbientLightProbe:hX,AnimationAction:rU,AnimationClip:ed,AnimationLoader:iX,AnimationMixer:BX,AnimationObjectGroup:PX,AnimationUtils:eX,ArcCurve:M4,ArrayCamera:y4,ArrowHelper:QX,Audio:tU,AudioAnalyser:xX,AudioContext:IE,AudioListener:gX,AudioLoader:fX,AxesHelper:ZX,BackSide:Zn,BasicDepthPacking:_o,BasicShadowMap:mN,Bone:wx,BooleanKeyframeTrack:Uu,Box2:kX,Box3:Gi,Box3Helper:XX,BoxBufferGeometry:eY,BoxGeometry:bl,BoxHelper:KX,BufferAttribute:Ut,BufferGeometry:gt,BufferGeometryLoader:q4,ByteType:HN,Cache:Iu,Camera:dd,CameraHelper:JX,CanvasTexture:MK,CapsuleBufferGeometry:tY,CapsuleGeometry:_m,CatmullRomCurve3:A4,CineonToneMapping:UN,CircleBufferGeometry:nY,CircleGeometry:Sm,ClampToEdgeWrapping:xr,Clock:DE,Color:Ce,ColorKeyframeTrack:EE,ColorManagement:ii,CompressedArrayTexture:wK,CompressedTexture:mE,CompressedTextureLoader:sX,ConeBufferGeometry:rY,ConeGeometry:bm,CubeCamera:f4,CubeReflectionMapping:sa,CubeRefractionMapping:ul,CubeTexture:vm,CubeTextureLoader:j4,CubeUVReflectionMapping:fd,CubicBezierCurve:vE,CubicBezierCurve3:E4,CubicInterpolant:G4,CullFaceBack:sw,CullFaceFront:pN,CullFaceFrontBack:M$,CullFaceNone:hN,Curve:Vs,CurvePath:T4,CustomBlending:gN,CustomToneMapping:zN,CylinderBufferGeometry:iY,CylinderGeometry:Nu,Cylindrical:FX,Data3DTexture:rE,DataArrayTexture:vx,DataTexture:_u,DataTextureLoader:J4,DataUtils:Wh,DecrementStencilOp:O$,DecrementWrapStencilOp:k$,DefaultLoadingManager:W4,DepthFormat:nl,DepthStencilFormat:cl,DepthTexture:uE,DirectionalLight:BE,DirectionalLightHelper:jX,DiscreteInterpolant:$4,DisplayP3ColorSpace:eE,DodecahedronBufferGeometry:sY,DodecahedronGeometry:wm,DoubleSide:Dr,DstAlphaFactor:wN,DstColorFactor:AN,DynamicCopyUsage:Z$,DynamicDrawUsage:j$,DynamicReadUsage:X$,EdgesGeometry:P4,EllipseCurve:Ax,EqualDepth:BN,EqualStencilFunc:H$,EquirectangularReflectionMapping:Wf,EquirectangularRefractionMapping:Hp,Euler:Sl,EventDispatcher:ps,ExtrudeBufferGeometry:oY,ExtrudeGeometry:Mm,FileLoader:ki,Float16BufferAttribute:UV,Float32BufferAttribute:$e,Float64BufferAttribute:zV,FloatType:Pi,Fog:bx,FogExp2:Sx,FramebufferTexture:bK,FrontSide:Hs,Frustum:yx,GLBufferAttribute:OX,GLSL1:eV,GLSL3:Lw,GreaterDepth:DN,GreaterEqualDepth:IN,GreaterEqualStencilFunc:W$,GreaterStencilFunc:$$,GridHelper:VX,Group:Xo,HalfFloatType:ls,HemisphereLight:K4,HemisphereLightHelper:$X,HemisphereLightProbe:dX,IcosahedronBufferGeometry:aY,IcosahedronGeometry:vd,ImageBitmapLoader:eU,ImageLoader:Qp,ImageUtils:nE,IncrementStencilOp:L$,IncrementWrapStencilOp:F$,InstancedBufferAttribute:Qf,InstancedBufferGeometry:Z4,InstancedInterleavedBuffer:LX,InstancedMesh:w4,Int16BufferAttribute:kV,Int32BufferAttribute:NV,Int8BufferAttribute:LV,IntType:$N,InterleavedBuffer:ym,InterleavedBufferAttribute:fl,Interpolant:Sd,InterpolateDiscrete:Jf,InterpolateLinear:Pu,InterpolateSmooth:zv,InvertStencilOp:N$,KeepStencilOp:Hv,KeyframeTrack:Ws,LOD:b4,LatheBufferGeometry:lY,LatheGeometry:gd,Layers:xu,LessDepth:RN,LessEqualDepth:yy,LessEqualStencilFunc:G$,LessStencilFunc:z$,Light:wl,LightProbe:Tx,Line:oa,Line3:NX,LineBasicMaterial:Nr,LineCurve:Ex,LineCurve3:C4,LineDashedMaterial:z4,LineLoop:hE,LineSegments:$s,LinearEncoding:pi,LinearFilter:Xt,LinearInterpolant:AE,LinearMipMapLinearFilter:P$,LinearMipMapNearestFilter:T$,LinearMipmapLinearFilter:vo,LinearMipmapNearestFilter:px,LinearSRGBColorSpace:Kf,LinearToneMapping:kN,Loader:qr,LoaderUtils:ho,LoadingManager:CE,LoopOnce:qN,LoopPingPong:t4,LoopRepeat:e4,LuminanceAlphaFormat:JN,LuminanceFormat:mx,MOUSE:b$,Material:On,MaterialLoader:Px,MathUtils:lo,Matrix3:Dt,Matrix4:ut,MaxEquation:cw,Mesh:Hn,MeshBasicMaterial:Bi,MeshDepthMaterial:_x,MeshDistanceMaterial:lE,MeshLambertMaterial:N4,MeshMatcapMaterial:U4,MeshNormalMaterial:bE,MeshPhongMaterial:F4,MeshPhysicalMaterial:fa,MeshStandardMaterial:_d,MeshToonMaterial:k4,MinEquation:uw,MirroredRepeatWrapping:jf,MixOperation:ON,MultiplyBlending:lw,MultiplyOperation:mm,NearestFilter:en,NearestMipMapLinearFilter:C$,NearestMipMapNearestFilter:E$,NearestMipmapLinearFilter:Lf,NearestMipmapNearestFilter:Gp,NeverDepth:TN,NeverStencilFunc:U$,NoBlending:Fr,NoColorSpace:B$,NoToneMapping:Ns,NormalAnimationBlendMode:gx,NormalBlending:vu,NotEqualDepth:LN,NotEqualStencilFunc:V$,NumberKeyframeTrack:Zf,Object3D:Ht,ObjectLoader:uX,ObjectSpaceNormalMap:r4,OctahedronBufferGeometry:uY,OctahedronGeometry:yd,OneFactor:_N,OneMinusDstAlphaFactor:MN,OneMinusDstColorFactor:EN,OneMinusSrcAlphaFactor:JA,OneMinusSrcColorFactor:bN,OrthographicCamera:pd,PCFShadowMap:dx,PCFSoftShadowMap:ap,PMREMGenerator:Fw,Path:Jp,PerspectiveCamera:Ln,Plane:Ua,PlaneBufferGeometry:cY,PlaneGeometry:hd,PlaneHelper:YX,PointLight:RE,PointLightHelper:HX,Points:pE,PointsMaterial:Mx,PolarGridHelper:WX,PolyhedronBufferGeometry:fY,PolyhedronGeometry:ca,PositionalAudio:yX,PropertyBinding:zt,PropertyMixer:nU,QuadraticBezierCurve:yE,QuadraticBezierCurve3:xE,Quaternion:pr,QuaternionKeyframeTrack:dl,QuaternionLinearInterpolant:V4,RED_GREEN_RGTC2_Format:Iw,RED_RGTC1_Format:ZN,REVISION:cd,RGBADepthPacking:Vp,RGBAFormat:_r,RGBAIntegerFormat:YN,RGBA_ASTC_10x10_Format:Tw,RGBA_ASTC_10x5_Format:Aw,RGBA_ASTC_10x6_Format:Ew,RGBA_ASTC_10x8_Format:Cw,RGBA_ASTC_12x10_Format:Pw,RGBA_ASTC_12x12_Format:Rw,RGBA_ASTC_4x4_Format:vw,RGBA_ASTC_5x4_Format:yw,RGBA_ASTC_5x5_Format:xw,RGBA_ASTC_6x5_Format:_w,RGBA_ASTC_6x6_Format:Sw,RGBA_ASTC_8x5_Format:bw,RGBA_ASTC_8x6_Format:ww,RGBA_ASTC_8x8_Format:Mw,RGBA_BPTC_Format:Uv,RGBA_ETC2_EAC_Format:gw,RGBA_PVRTC_2BPPV1_Format:pw,RGBA_PVRTC_4BPPV1_Format:hw,RGBA_S3TC_DXT1_Format:Fv,RGBA_S3TC_DXT3_Format:kv,RGBA_S3TC_DXT5_Format:Nv,RGB_ETC1_Format:QN,RGB_ETC2_Format:mw,RGB_PVRTC_2BPPV1_Format:dw,RGB_PVRTC_4BPPV1_Format:fw,RGB_S3TC_DXT1_Format:Ov,RGFormat:QA,RGIntegerFormat:XN,RawShaderMaterial:O4,Ray:gm,Raycaster:FE,RectAreaLight:Y4,RedFormat:YA,RedIntegerFormat:KN,ReinhardToneMapping:NN,RepeatWrapping:go,ReplaceStencilOp:D$,ReverseSubtractEquation:yN,RingBufferGeometry:dY,RingGeometry:Am,SIGNED_RED_GREEN_RGTC2_Format:Dw,SIGNED_RED_RGTC1_Format:Bw,SRGBColorSpace:Is,Scene:Ru,ShaderChunk:Mt,ShaderLib:Ls,ShaderMaterial:tr,ShadowMaterial:L4,Shape:Su,ShapeBufferGeometry:hY,ShapeGeometry:Em,ShapePath:qX,ShapeUtils:fo,ShortType:GN,Skeleton:xm,SkeletonHelper:zX,SkinnedMesh:dE,Source:cu,Sphere:ms,SphereBufferGeometry:pY,SphereGeometry:xd,Spherical:iU,SphericalHarmonics3:Q4,SplineCurve:_E,SpotLight:PE,SpotLightHelper:UX,Sprite:S4,SpriteMaterial:fE,SrcAlphaFactor:jA,SrcAlphaSaturateFactor:CN,SrcColorFactor:SN,StaticCopyUsage:Q$,StaticDrawUsage:Wp,StaticReadUsage:K$,StereoCamera:pX,StreamCopyUsage:q$,StreamDrawUsage:J$,StreamReadUsage:Y$,StringKeyframeTrack:zu,SubtractEquation:vN,SubtractiveBlending:aw,TOUCH:w$,TangentSpaceNormalMap:ua,TetrahedronBufferGeometry:mY,TetrahedronGeometry:Cm,Texture:ln,TextureLoader:Bm,TorusBufferGeometry:gY,TorusGeometry:Tm,TorusKnotBufferGeometry:vY,TorusKnotGeometry:Pm,Triangle:li,TriangleFanDrawMode:qA,TriangleStripDrawMode:n4,TrianglesDrawMode:R$,TubeBufferGeometry:yY,TubeGeometry:Rm,TwoPassDoubleSide:A$,UVMapping:hx,Uint16BufferAttribute:iE,Uint32BufferAttribute:sE,Uint8BufferAttribute:OV,Uint8ClampedBufferAttribute:FV,Uniform:rt,UniformsGroup:DX,UniformsLib:Ie,UniformsUtils:c4,UnsignedByteType:er,UnsignedInt248Type:tl,UnsignedIntType:Ko,UnsignedShort4444Type:VN,UnsignedShort5551Type:WN,UnsignedShortType:XA,VSMShadowMap:au,Vector2:fe,Vector3:N,Vector4:Nt,VectorKeyframeTrack:qf,VideoTexture:SK,WebGL1Renderer:x4,WebGL3DRenderTarget:wV,WebGLArrayRenderTarget:bV,WebGLCubeRenderTarget:oE,WebGLMultipleRenderTargets:MV,WebGLRenderTarget:Fn,WebGLRenderer:cE,WebGLUtils:v4,WireframeGeometry:D4,WrapAroundEnding:$p,ZeroCurvatureEnding:lu,ZeroFactor:xN,ZeroSlopeEnding:uu,ZeroStencilOp:I$,_SRGBAFormat:xy,sRGBEncoding:lt},Symbol.toStringTag,{value:"Module"}));var ja={},_Y={get exports(){return ja},set exports(t){ja=t}},Hu={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Hu.ConcurrentRoot=1;Hu.ContinuousEventPriority=4;Hu.DefaultEventPriority=16;Hu.DiscreteEventPriority=1;Hu.IdleEventPriority=536870912;Hu.LegacyRoot=0;(function(t){t.exports=Hu})(_Y);function SY(t){let e;const n=new Set,r=(u,c)=>{const d=typeof u=="function"?u(e):u;if(d!==e){const p=e;e=c?d:Object.assign({},e,d),n.forEach(m=>m(e,p))}},i=()=>e,s=(u,c=i,d=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=c(e);function m(){const v=c(e);if(!d(p,v)){const y=p;u(p=v,y)}}return n.add(m),()=>n.delete(m)},l={setState:r,getState:i,subscribe:(u,c,d)=>c||d?s(u,c,d):(n.add(u),()=>n.delete(u)),destroy:()=>n.clear()};return e=t(r,i,l),l}const bY=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),k3=bY?T.useEffect:T.useLayoutEffect;function oU(t){const e=typeof t=="function"?SY(t):t,n=(r=e.getState,i=Object.is)=>{const[,s]=T.useReducer(x=>x+1,0),o=e.getState(),a=T.useRef(o),l=T.useRef(r),u=T.useRef(i),c=T.useRef(!1),d=T.useRef();d.current===void 0&&(d.current=r(o));let p,m=!1;(a.current!==o||l.current!==r||u.current!==i||c.current)&&(p=r(o),m=!i(d.current,p)),k3(()=>{m&&(d.current=p),a.current=o,l.current=r,u.current=i,c.current=!1});const v=T.useRef(o);k3(()=>{const x=()=>{try{const b=e.getState(),S=l.current(b);u.current(d.current,S)||(a.current=b,d.current=S,s())}catch{c.current=!0,s()}},g=e.subscribe(x);return e.getState()!==v.current&&x(),g},[]);const y=m?p:d.current;return T.useDebugValue(y),y};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}var $w={},wY={get exports(){return $w},set exports(t){$w=t}},Zp={},MY={get exports(){return Zp},set exports(t){Zp=t}},aU={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,J){var K=z.length;z.push(J);e:for(;0<K;){var ie=K-1>>>1,re=z[ie];if(0<i(re,J))z[ie]=J,z[K]=re,K=ie;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var J=z[0],K=z.pop();if(K!==J){z[0]=K;e:for(var ie=0,re=z.length,se=re>>>1;ie<se;){var le=2*(ie+1)-1,Me=z[le],be=le+1,ee=z[be];if(0>i(Me,K))be<re&&0>i(ee,Me)?(z[ie]=ee,z[be]=K,ie=be):(z[ie]=Me,z[le]=K,ie=le);else if(be<re&&0>i(ee,K))z[ie]=ee,z[be]=K,ie=be;else break e}}return J}function i(z,J){var K=z.sortIndex-J.sortIndex;return K!==0?K:z.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,p=3,m=!1,v=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(z){for(var J=n(u);J!==null;){if(J.callback===null)r(u);else if(J.startTime<=z)r(u),J.sortIndex=J.expirationTime,e(l,J);else break;J=n(u)}}function M(z){if(y=!1,S(z),!v)if(n(l)!==null)v=!0,Z(C);else{var J=n(u);J!==null&&ne(M,J.startTime-z)}}function C(z,J){v=!1,y&&(y=!1,g(I),I=-1),m=!0;var K=p;try{for(S(J),d=n(l);d!==null&&(!(d.expirationTime>J)||z&&!O());){var ie=d.callback;if(typeof ie=="function"){d.callback=null,p=d.priorityLevel;var re=ie(d.expirationTime<=J);J=t.unstable_now(),typeof re=="function"?d.callback=re:d===n(l)&&r(l),S(J)}else r(l);d=n(l)}if(d!==null)var se=!0;else{var le=n(u);le!==null&&ne(M,le.startTime-J),se=!1}return se}finally{d=null,p=K,m=!1}}var E=!1,R=null,I=-1,P=5,B=-1;function O(){return!(t.unstable_now()-B<P)}function H(){if(R!==null){var z=t.unstable_now();B=z;var J=!0;try{J=R(!0,z)}finally{J?U():(E=!1,R=null)}}else E=!1}var U;if(typeof b=="function")U=function(){b(H)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,j=V.port2;V.port1.onmessage=H,U=function(){j.postMessage(null)}}else U=function(){x(H,0)};function Z(z){R=z,E||(E=!0,U())}function ne(z,J){I=x(function(){z(t.unstable_now())},J)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,Z(C))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(z){switch(p){case 1:case 2:case 3:var J=3;break;default:J=p}var K=p;p=J;try{return z()}finally{p=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,J){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var K=p;p=z;try{return J()}finally{p=K}},t.unstable_scheduleCallback=function(z,J,K){var ie=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ie+K:ie):K=ie,z){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=K+re,z={id:c++,callback:J,priorityLevel:z,startTime:K,expirationTime:re,sortIndex:-1},K>ie?(z.sortIndex=K,e(u,z),n(l)===null&&z===n(u)&&(y?(g(I),I=-1):y=!0,ne(M,K-ie))):(z.sortIndex=re,e(l,z),v||m||(v=!0,Z(C))),z},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(z){var J=p;return function(){var K=p;p=J;try{return z.apply(this,arguments)}finally{p=K}}}})(aU);(function(t){t.exports=aU})(MY);/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AY=function(e){var n={},r=T,i=Zp,s=Object.assign;function o(f){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+f,_=1;_<arguments.length;_++)h+="&args[]="+encodeURIComponent(arguments[_]);return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),u=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),v=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),M=Symbol.for("react.offscreen"),C=Symbol.iterator;function E(f){return f===null||typeof f!="object"?null:(f=C&&f[C]||f["@@iterator"],typeof f=="function"?f:null)}function R(f){if(f==null)return null;if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case c:return"Fragment";case u:return"Portal";case p:return"Profiler";case d:return"StrictMode";case x:return"Suspense";case g:return"SuspenseList"}if(typeof f=="object")switch(f.$$typeof){case v:return(f.displayName||"Context")+".Consumer";case m:return(f._context.displayName||"Context")+".Provider";case y:var h=f.render;return f=f.displayName,f||(f=h.displayName||h.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case b:return h=f.displayName||null,h!==null?h:R(f.type)||"Memo";case S:h=f._payload,f=f._init;try{return R(f(h))}catch{}}return null}function I(f){var h=f.type;switch(f.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return f=h.render,f=f.displayName||f.name||"",h.displayName||(f!==""?"ForwardRef("+f+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return R(h);case 8:return h===d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function P(f){var h=f,_=f;if(f.alternate)for(;h.return;)h=h.return;else{f=h;do h=f,h.flags&4098&&(_=h.return),f=h.return;while(f)}return h.tag===3?_:null}function B(f){if(P(f)!==f)throw Error(o(188))}function O(f){var h=f.alternate;if(!h){if(h=P(f),h===null)throw Error(o(188));return h!==f?null:f}for(var _=f,w=h;;){var A=_.return;if(A===null)break;var L=A.alternate;if(L===null){if(w=A.return,w!==null){_=w;continue}break}if(A.child===L.child){for(L=A.child;L;){if(L===_)return B(A),f;if(L===w)return B(A),h;L=L.sibling}throw Error(o(188))}if(_.return!==w.return)_=A,w=L;else{for(var $=!1,Y=A.child;Y;){if(Y===_){$=!0,_=A,w=L;break}if(Y===w){$=!0,w=A,_=L;break}Y=Y.sibling}if(!$){for(Y=L.child;Y;){if(Y===_){$=!0,_=L,w=A;break}if(Y===w){$=!0,w=L,_=A;break}Y=Y.sibling}if(!$)throw Error(o(189))}}if(_.alternate!==w)throw Error(o(190))}if(_.tag!==3)throw Error(o(188));return _.stateNode.current===_?f:h}function H(f){return f=O(f),f!==null?U(f):null}function U(f){if(f.tag===5||f.tag===6)return f;for(f=f.child;f!==null;){var h=U(f);if(h!==null)return h;f=f.sibling}return null}function V(f){if(f.tag===5||f.tag===6)return f;for(f=f.child;f!==null;){if(f.tag!==4){var h=V(f);if(h!==null)return h}f=f.sibling}return null}var j=Array.isArray,Z=e.getPublicInstance,ne=e.getRootHostContext,z=e.getChildHostContext,J=e.prepareForCommit,K=e.resetAfterCommit,ie=e.createInstance,re=e.appendInitialChild,se=e.finalizeInitialChildren,le=e.prepareUpdate,Me=e.shouldSetTextContent,be=e.createTextInstance,ee=e.scheduleTimeout,Ve=e.cancelTimeout,We=e.noTimeout,we=e.isPrimaryRenderer,Be=e.supportsMutation,ye=e.supportsPersistence,ue=e.supportsHydration,xe=e.getInstanceFromNode,Le=e.preparePortalMount,Re=e.getCurrentEventPriority,qe=e.detachDeletedInstance,et=e.supportsMicrotasks,Ke=e.scheduleMicrotask,at=e.supportsTestSelectors,St=e.findFiberRoot,k=e.getBoundingRect,F=e.getTextContent,Q=e.isHiddenSubtree,ve=e.matchAccessibilityRole,_e=e.setFocusIfFocusable,Pe=e.setupIntersectionObserver,tt=e.appendChild,Oe=e.appendChildToContainer,he=e.commitTextUpdate,Ge=e.commitMount,Xe=e.commitUpdate,nt=e.insertBefore,Ne=e.insertInContainerBefore,je=e.removeChild,bt=e.removeChildFromContainer,Ft=e.resetTextContent,cn=e.hideInstance,X=e.hideTextInstance,me=e.unhideInstance,Ae=e.unhideTextInstance,ke=e.clearContainer,Qe=e.cloneInstance,Qt=e.createContainerChildSet,rn=e.appendChildToContainerChildSet,ir=e.finalizeContainerChildren,vs=e.replaceContainerChildren,gn=e.cloneHiddenInstance,zr=e.cloneHiddenTextInstance,Vi=e.canHydrateInstance,Zu=e.canHydrateTextInstance,tg=e.canHydrateSuspenseInstance,ng=e.isSuspenseInstancePending,kd=e.isSuspenseInstanceFallback,o1=e.registerSuspenseInstanceRetry,G=e.getNextHydratableSibling,ae=e.getFirstHydratableChild,pe=e.getFirstHydratableChildWithinContainer,te=e.getFirstHydratableChildWithinSuspenseInstance,ge=e.hydrateInstance,it=e.hydrateTextInstance,dt=e.hydrateSuspenseInstance,ht=e.getNextHydratableInstanceAfterSuspenseInstance,xt=e.commitHydratedContainer,Et=e.commitHydratedSuspenseInstance,Ct=e.clearSuspenseBoundary,Bt=e.clearSuspenseBoundaryFromContainer,Jt=e.shouldDeleteUnhydratedTailInstances,mr=e.didNotMatchHydratedContainerTextInstance,yi=e.didNotMatchHydratedTextInstance,ys;function sn(f){if(ys===void 0)try{throw Error()}catch(_){var h=_.stack.trim().match(/\n( *(at )?)/);ys=h&&h[1]||""}return`
`+ys+f}var It=!1;function Cl(f,h){if(!f||It)return"";It=!0;var _=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(Te){var w=Te}Reflect.construct(f,[],h)}else{try{h.call()}catch(Te){w=Te}f.call(h.prototype)}else{try{throw Error()}catch(Te){w=Te}f()}}catch(Te){if(Te&&w&&typeof Te.stack=="string"){for(var A=Te.stack.split(`
`),L=w.stack.split(`
`),$=A.length-1,Y=L.length-1;1<=$&&0<=Y&&A[$]!==L[Y];)Y--;for(;1<=$&&0<=Y;$--,Y--)if(A[$]!==L[Y]){if($!==1||Y!==1)do if($--,Y--,0>Y||A[$]!==L[Y]){var de=`
`+A[$].replace(" at new "," at ");return f.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",f.displayName)),de}while(1<=$&&0<=Y);break}}}finally{It=!1,Error.prepareStackTrace=_}return(f=f?f.displayName||f.name:"")?sn(f):""}var Gn=Object.prototype.hasOwnProperty,xs=[],bo=-1;function ei(f){return{current:f}}function Kt(f){0>bo||(f.current=xs[bo],xs[bo]=null,bo--)}function _t(f,h){bo++,xs[bo]=f.current,f.current=h}var wr={},$n=ei(wr),Zt=ei(!1),_s=wr;function va(f,h){var _=f.type.contextTypes;if(!_)return wr;var w=f.stateNode;if(w&&w.__reactInternalMemoizedUnmaskedChildContext===h)return w.__reactInternalMemoizedMaskedChildContext;var A={},L;for(L in _)A[L]=h[L];return w&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=h,f.__reactInternalMemoizedMaskedChildContext=A),A}function gr(f){return f=f.childContextTypes,f!=null}function rg(){Kt(Zt),Kt($n)}function MT(f,h,_){if($n.current!==wr)throw Error(o(168));_t($n,h),_t(Zt,_)}function AT(f,h,_){var w=f.stateNode;if(h=h.childContextTypes,typeof w.getChildContext!="function")return _;w=w.getChildContext();for(var A in w)if(!(A in h))throw Error(o(108,I(f)||"Unknown",A));return s({},_,w)}function ig(f){return f=(f=f.stateNode)&&f.__reactInternalMemoizedMergedChildContext||wr,_s=$n.current,_t($n,f),_t(Zt,Zt.current),!0}function ET(f,h,_){var w=f.stateNode;if(!w)throw Error(o(169));_?(f=AT(f,h,_s),w.__reactInternalMemoizedMergedChildContext=f,Kt(Zt),Kt($n),_t($n,f)):Kt(Zt),_t(Zt,_)}var Ss=Math.clz32?Math.clz32:n8,e8=Math.log,t8=Math.LN2;function n8(f){return f>>>=0,f===0?32:31-(e8(f)/t8|0)|0}var sg=64,og=4194304;function Nd(f){switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return f&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return f}}function ag(f,h){var _=f.pendingLanes;if(_===0)return 0;var w=0,A=f.suspendedLanes,L=f.pingedLanes,$=_&268435455;if($!==0){var Y=$&~A;Y!==0?w=Nd(Y):(L&=$,L!==0&&(w=Nd(L)))}else $=_&~A,$!==0?w=Nd($):L!==0&&(w=Nd(L));if(w===0)return 0;if(h!==0&&h!==w&&!(h&A)&&(A=w&-w,L=h&-h,A>=L||A===16&&(L&4194240)!==0))return h;if(w&4&&(w|=_&16),h=f.entangledLanes,h!==0)for(f=f.entanglements,h&=w;0<h;)_=31-Ss(h),A=1<<_,w|=f[_],h&=~A;return w}function r8(f,h){switch(f){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function i8(f,h){for(var _=f.suspendedLanes,w=f.pingedLanes,A=f.expirationTimes,L=f.pendingLanes;0<L;){var $=31-Ss(L),Y=1<<$,de=A[$];de===-1?(!(Y&_)||Y&w)&&(A[$]=r8(Y,h)):de<=h&&(f.expiredLanes|=Y),L&=~Y}}function a1(f){return f=f.pendingLanes&-1073741825,f!==0?f:f&1073741824?1073741824:0}function l1(f){for(var h=[],_=0;31>_;_++)h.push(f);return h}function Ud(f,h,_){f.pendingLanes|=h,h!==536870912&&(f.suspendedLanes=0,f.pingedLanes=0),f=f.eventTimes,h=31-Ss(h),f[h]=_}function s8(f,h){var _=f.pendingLanes&~h;f.pendingLanes=h,f.suspendedLanes=0,f.pingedLanes=0,f.expiredLanes&=h,f.mutableReadLanes&=h,f.entangledLanes&=h,h=f.entanglements;var w=f.eventTimes;for(f=f.expirationTimes;0<_;){var A=31-Ss(_),L=1<<A;h[A]=0,w[A]=-1,f[A]=-1,_&=~L}}function u1(f,h){var _=f.entangledLanes|=h;for(f=f.entanglements;_;){var w=31-Ss(_),A=1<<w;A&h|f[w]&h&&(f[w]|=h),_&=~A}}var $t=0;function CT(f){return f&=-f,1<f?4<f?f&268435455?16:536870912:4:1}var c1=i.unstable_scheduleCallback,TT=i.unstable_cancelCallback,o8=i.unstable_shouldYield,a8=i.unstable_requestPaint,sr=i.unstable_now,f1=i.unstable_ImmediatePriority,l8=i.unstable_UserBlockingPriority,d1=i.unstable_NormalPriority,u8=i.unstable_IdlePriority,lg=null,Xs=null;function c8(f){if(Xs&&typeof Xs.onCommitFiberRoot=="function")try{Xs.onCommitFiberRoot(lg,f,void 0,(f.current.flags&128)===128)}catch{}}function f8(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var Ys=typeof Object.is=="function"?Object.is:f8,wo=null,ug=!1,h1=!1;function PT(f){wo===null?wo=[f]:wo.push(f)}function d8(f){ug=!0,PT(f)}function Qs(){if(!h1&&wo!==null){h1=!0;var f=0,h=$t;try{var _=wo;for($t=1;f<_.length;f++){var w=_[f];do w=w(!0);while(w!==null)}wo=null,ug=!1}catch(A){throw wo!==null&&(wo=wo.slice(f+1)),c1(f1,Qs),A}finally{$t=h,h1=!1}}return null}var h8=a.ReactCurrentBatchConfig;function cg(f,h){if(Ys(f,h))return!0;if(typeof f!="object"||f===null||typeof h!="object"||h===null)return!1;var _=Object.keys(f),w=Object.keys(h);if(_.length!==w.length)return!1;for(w=0;w<_.length;w++){var A=_[w];if(!Gn.call(h,A)||!Ys(f[A],h[A]))return!1}return!0}function p8(f){switch(f.tag){case 5:return sn(f.type);case 16:return sn("Lazy");case 13:return sn("Suspense");case 19:return sn("SuspenseList");case 0:case 2:case 15:return f=Cl(f.type,!1),f;case 11:return f=Cl(f.type.render,!1),f;case 1:return f=Cl(f.type,!0),f;default:return""}}function bs(f,h){if(f&&f.defaultProps){h=s({},h),f=f.defaultProps;for(var _ in f)h[_]===void 0&&(h[_]=f[_]);return h}return h}var fg=ei(null),dg=null,qu=null,p1=null;function m1(){p1=qu=dg=null}function RT(f,h,_){we?(_t(fg,h._currentValue),h._currentValue=_):(_t(fg,h._currentValue2),h._currentValue2=_)}function g1(f){var h=fg.current;Kt(fg),we?f._currentValue=h:f._currentValue2=h}function v1(f,h,_){for(;f!==null;){var w=f.alternate;if((f.childLanes&h)!==h?(f.childLanes|=h,w!==null&&(w.childLanes|=h)):w!==null&&(w.childLanes&h)!==h&&(w.childLanes|=h),f===_)break;f=f.return}}function ec(f,h){dg=f,p1=qu=null,f=f.dependencies,f!==null&&f.firstContext!==null&&(f.lanes&h&&(Si=!0),f.firstContext=null)}function Wi(f){var h=we?f._currentValue:f._currentValue2;if(p1!==f)if(f={context:f,memoizedValue:h,next:null},qu===null){if(dg===null)throw Error(o(308));qu=f,dg.dependencies={lanes:0,firstContext:f}}else qu=qu.next=f;return h}var Zs=null,ya=!1;function y1(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function BT(f,h){f=f.updateQueue,h.updateQueue===f&&(h.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,effects:f.effects})}function Mo(f,h){return{eventTime:f,lane:h,tag:0,payload:null,callback:null,next:null}}function xa(f,h){var _=f.updateQueue;_!==null&&(_=_.shared,Vn!==null&&f.mode&1&&!(Tt&2)?(f=_.interleaved,f===null?(h.next=h,Zs===null?Zs=[_]:Zs.push(_)):(h.next=f.next,f.next=h),_.interleaved=h):(f=_.pending,f===null?h.next=h:(h.next=f.next,f.next=h),_.pending=h))}function hg(f,h,_){if(h=h.updateQueue,h!==null&&(h=h.shared,(_&4194240)!==0)){var w=h.lanes;w&=f.pendingLanes,_|=w,h.lanes=_,u1(f,_)}}function IT(f,h){var _=f.updateQueue,w=f.alternate;if(w!==null&&(w=w.updateQueue,_===w)){var A=null,L=null;if(_=_.firstBaseUpdate,_!==null){do{var $={eventTime:_.eventTime,lane:_.lane,tag:_.tag,payload:_.payload,callback:_.callback,next:null};L===null?A=L=$:L=L.next=$,_=_.next}while(_!==null);L===null?A=L=h:L=L.next=h}else A=L=h;_={baseState:w.baseState,firstBaseUpdate:A,lastBaseUpdate:L,shared:w.shared,effects:w.effects},f.updateQueue=_;return}f=_.lastBaseUpdate,f===null?_.firstBaseUpdate=h:f.next=h,_.lastBaseUpdate=h}function pg(f,h,_,w){var A=f.updateQueue;ya=!1;var L=A.firstBaseUpdate,$=A.lastBaseUpdate,Y=A.shared.pending;if(Y!==null){A.shared.pending=null;var de=Y,Te=de.next;de.next=null,$===null?L=Te:$.next=Te,$=de;var ze=f.alternate;ze!==null&&(ze=ze.updateQueue,Y=ze.lastBaseUpdate,Y!==$&&(Y===null?ze.firstBaseUpdate=Te:Y.next=Te,ze.lastBaseUpdate=de))}if(L!==null){var vt=A.baseState;$=0,ze=Te=de=null,Y=L;do{var st=Y.lane,nn=Y.eventTime;if((w&st)===st){ze!==null&&(ze=ze.next={eventTime:nn,lane:0,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null});e:{var Ze=f,Cr=Y;switch(st=h,nn=_,Cr.tag){case 1:if(Ze=Cr.payload,typeof Ze=="function"){vt=Ze.call(nn,vt,st);break e}vt=Ze;break e;case 3:Ze.flags=Ze.flags&-65537|128;case 0:if(Ze=Cr.payload,st=typeof Ze=="function"?Ze.call(nn,vt,st):Ze,st==null)break e;vt=s({},vt,st);break e;case 2:ya=!0}}Y.callback!==null&&Y.lane!==0&&(f.flags|=64,st=A.effects,st===null?A.effects=[Y]:st.push(Y))}else nn={eventTime:nn,lane:st,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null},ze===null?(Te=ze=nn,de=vt):ze=ze.next=nn,$|=st;if(Y=Y.next,Y===null){if(Y=A.shared.pending,Y===null)break;st=Y,Y=st.next,st.next=null,A.lastBaseUpdate=st,A.shared.pending=null}}while(1);if(ze===null&&(de=vt),A.baseState=de,A.firstBaseUpdate=Te,A.lastBaseUpdate=ze,h=A.shared.interleaved,h!==null){A=h;do $|=A.lane,A=A.next;while(A!==h)}else L===null&&(A.shared.lanes=0);uc|=$,f.lanes=$,f.memoizedState=vt}}function DT(f,h,_){if(f=h.effects,h.effects=null,f!==null)for(h=0;h<f.length;h++){var w=f[h],A=w.callback;if(A!==null){if(w.callback=null,w=_,typeof A!="function")throw Error(o(191,A));A.call(w)}}}var LT=new r.Component().refs;function x1(f,h,_,w){h=f.memoizedState,_=_(w,h),_=_==null?h:s({},h,_),f.memoizedState=_,f.lanes===0&&(f.updateQueue.baseState=_)}var mg={isMounted:function(f){return(f=f._reactInternals)?P(f)===f:!1},enqueueSetState:function(f,h,_){f=f._reactInternals;var w=Gr(),A=ba(f),L=Mo(w,A);L.payload=h,_!=null&&(L.callback=_),xa(f,L),h=Yi(f,A,w),h!==null&&hg(h,f,A)},enqueueReplaceState:function(f,h,_){f=f._reactInternals;var w=Gr(),A=ba(f),L=Mo(w,A);L.tag=1,L.payload=h,_!=null&&(L.callback=_),xa(f,L),h=Yi(f,A,w),h!==null&&hg(h,f,A)},enqueueForceUpdate:function(f,h){f=f._reactInternals;var _=Gr(),w=ba(f),A=Mo(_,w);A.tag=2,h!=null&&(A.callback=h),xa(f,A),h=Yi(f,w,_),h!==null&&hg(h,f,w)}};function OT(f,h,_,w,A,L,$){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(w,L,$):h.prototype&&h.prototype.isPureReactComponent?!cg(_,w)||!cg(A,L):!0}function FT(f,h,_){var w=!1,A=wr,L=h.contextType;return typeof L=="object"&&L!==null?L=Wi(L):(A=gr(h)?_s:$n.current,w=h.contextTypes,L=(w=w!=null)?va(f,A):wr),h=new h(_,L),f.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=mg,f.stateNode=h,h._reactInternals=f,w&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=A,f.__reactInternalMemoizedMaskedChildContext=L),h}function kT(f,h,_,w){f=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(_,w),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(_,w),h.state!==f&&mg.enqueueReplaceState(h,h.state,null)}function _1(f,h,_,w){var A=f.stateNode;A.props=_,A.state=f.memoizedState,A.refs=LT,y1(f);var L=h.contextType;typeof L=="object"&&L!==null?A.context=Wi(L):(L=gr(h)?_s:$n.current,A.context=va(f,L)),A.state=f.memoizedState,L=h.getDerivedStateFromProps,typeof L=="function"&&(x1(f,h,L,_),A.state=f.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(h=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),h!==A.state&&mg.enqueueReplaceState(A,A.state,null),pg(f,_,A,w),A.state=f.memoizedState),typeof A.componentDidMount=="function"&&(f.flags|=4194308)}var tc=[],nc=0,gg=null,vg=0,ji=[],Ji=0,Tl=null,Ao=1,Eo="";function Pl(f,h){tc[nc++]=vg,tc[nc++]=gg,gg=f,vg=h}function NT(f,h,_){ji[Ji++]=Ao,ji[Ji++]=Eo,ji[Ji++]=Tl,Tl=f;var w=Ao;f=Eo;var A=32-Ss(w)-1;w&=~(1<<A),_+=1;var L=32-Ss(h)+A;if(30<L){var $=A-A%5;L=(w&(1<<$)-1).toString(32),w>>=$,A-=$,Ao=1<<32-Ss(h)+A|_<<A|w,Eo=L+f}else Ao=1<<L|_<<A|w,Eo=f}function S1(f){f.return!==null&&(Pl(f,1),NT(f,1,0))}function b1(f){for(;f===gg;)gg=tc[--nc],tc[nc]=null,vg=tc[--nc],tc[nc]=null;for(;f===Tl;)Tl=ji[--Ji],ji[Ji]=null,Eo=ji[--Ji],ji[Ji]=null,Ao=ji[--Ji],ji[Ji]=null}var xi=null,_i=null,vn=!1,zd=!1,ws=null;function UT(f,h){var _=Qi(5,null,null,0);_.elementType="DELETED",_.stateNode=h,_.return=f,h=f.deletions,h===null?(f.deletions=[_],f.flags|=16):h.push(_)}function zT(f,h){switch(f.tag){case 5:return h=Vi(h,f.type,f.pendingProps),h!==null?(f.stateNode=h,xi=f,_i=ae(h),!0):!1;case 6:return h=Zu(h,f.pendingProps),h!==null?(f.stateNode=h,xi=f,_i=null,!0):!1;case 13:if(h=tg(h),h!==null){var _=Tl!==null?{id:Ao,overflow:Eo}:null;return f.memoizedState={dehydrated:h,treeContext:_,retryLane:1073741824},_=Qi(18,null,null,0),_.stateNode=h,_.return=f,f.child=_,xi=f,_i=null,!0}return!1;default:return!1}}function w1(f){return(f.mode&1)!==0&&(f.flags&128)===0}function M1(f){if(vn){var h=_i;if(h){var _=h;if(!zT(f,h)){if(w1(f))throw Error(o(418));h=G(_);var w=xi;h&&zT(f,h)?UT(w,_):(f.flags=f.flags&-4097|2,vn=!1,xi=f)}}else{if(w1(f))throw Error(o(418));f.flags=f.flags&-4097|2,vn=!1,xi=f}}}function HT(f){for(f=f.return;f!==null&&f.tag!==5&&f.tag!==3&&f.tag!==13;)f=f.return;xi=f}function Hd(f){if(!ue||f!==xi)return!1;if(!vn)return HT(f),vn=!0,!1;if(f.tag!==3&&(f.tag!==5||Jt(f.type)&&!Me(f.type,f.memoizedProps))){var h=_i;if(h){if(w1(f)){for(f=_i;f;)f=G(f);throw Error(o(418))}for(;h;)UT(f,h),h=G(h)}}if(HT(f),f.tag===13){if(!ue)throw Error(o(316));if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(o(317));_i=ht(f)}else _i=xi?G(f.stateNode):null;return!0}function rc(){ue&&(_i=xi=null,zd=vn=!1)}function A1(f){ws===null?ws=[f]:ws.push(f)}function Gd(f,h,_){if(f=_.ref,f!==null&&typeof f!="function"&&typeof f!="object"){if(_._owner){if(_=_._owner,_){if(_.tag!==1)throw Error(o(309));var w=_.stateNode}if(!w)throw Error(o(147,f));var A=w,L=""+f;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===L?h.ref:(h=function($){var Y=A.refs;Y===LT&&(Y=A.refs={}),$===null?delete Y[L]:Y[L]=$},h._stringRef=L,h)}if(typeof f!="string")throw Error(o(284));if(!_._owner)throw Error(o(290,f))}return f}function yg(f,h){throw f=Object.prototype.toString.call(h),Error(o(31,f==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":f))}function GT(f){var h=f._init;return h(f._payload)}function $T(f){function h(oe,q){if(f){var ce=oe.deletions;ce===null?(oe.deletions=[q],oe.flags|=16):ce.push(q)}}function _(oe,q){if(!f)return null;for(;q!==null;)h(oe,q),q=q.sibling;return null}function w(oe,q){for(oe=new Map;q!==null;)q.key!==null?oe.set(q.key,q):oe.set(q.index,q),q=q.sibling;return oe}function A(oe,q){return oe=Ma(oe,q),oe.index=0,oe.sibling=null,oe}function L(oe,q,ce){return oe.index=ce,f?(ce=oe.alternate,ce!==null?(ce=ce.index,ce<q?(oe.flags|=2,q):ce):(oe.flags|=2,q)):(oe.flags|=1048576,q)}function $(oe){return f&&oe.alternate===null&&(oe.flags|=2),oe}function Y(oe,q,ce,Fe){return q===null||q.tag!==6?(q=l_(ce,oe.mode,Fe),q.return=oe,q):(q=A(q,ce),q.return=oe,q)}function de(oe,q,ce,Fe){var Ye=ce.type;return Ye===c?ze(oe,q,ce.props.children,Fe,ce.key):q!==null&&(q.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===S&&GT(Ye)===q.type)?(Fe=A(q,ce.props),Fe.ref=Gd(oe,q,ce),Fe.return=oe,Fe):(Fe=Xg(ce.type,ce.key,ce.props,null,oe.mode,Fe),Fe.ref=Gd(oe,q,ce),Fe.return=oe,Fe)}function Te(oe,q,ce,Fe){return q===null||q.tag!==4||q.stateNode.containerInfo!==ce.containerInfo||q.stateNode.implementation!==ce.implementation?(q=u_(ce,oe.mode,Fe),q.return=oe,q):(q=A(q,ce.children||[]),q.return=oe,q)}function ze(oe,q,ce,Fe,Ye){return q===null||q.tag!==7?(q=Fl(ce,oe.mode,Fe,Ye),q.return=oe,q):(q=A(q,ce),q.return=oe,q)}function vt(oe,q,ce){if(typeof q=="string"&&q!==""||typeof q=="number")return q=l_(""+q,oe.mode,ce),q.return=oe,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case l:return ce=Xg(q.type,q.key,q.props,null,oe.mode,ce),ce.ref=Gd(oe,null,q),ce.return=oe,ce;case u:return q=u_(q,oe.mode,ce),q.return=oe,q;case S:var Fe=q._init;return vt(oe,Fe(q._payload),ce)}if(j(q)||E(q))return q=Fl(q,oe.mode,ce,null),q.return=oe,q;yg(oe,q)}return null}function st(oe,q,ce,Fe){var Ye=q!==null?q.key:null;if(typeof ce=="string"&&ce!==""||typeof ce=="number")return Ye!==null?null:Y(oe,q,""+ce,Fe);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case l:return ce.key===Ye?de(oe,q,ce,Fe):null;case u:return ce.key===Ye?Te(oe,q,ce,Fe):null;case S:return Ye=ce._init,st(oe,q,Ye(ce._payload),Fe)}if(j(ce)||E(ce))return Ye!==null?null:ze(oe,q,ce,Fe,null);yg(oe,ce)}return null}function nn(oe,q,ce,Fe,Ye){if(typeof Fe=="string"&&Fe!==""||typeof Fe=="number")return oe=oe.get(ce)||null,Y(q,oe,""+Fe,Ye);if(typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case l:return oe=oe.get(Fe.key===null?ce:Fe.key)||null,de(q,oe,Fe,Ye);case u:return oe=oe.get(Fe.key===null?ce:Fe.key)||null,Te(q,oe,Fe,Ye);case S:var wt=Fe._init;return nn(oe,q,ce,wt(Fe._payload),Ye)}if(j(Fe)||E(Fe))return oe=oe.get(ce)||null,ze(q,oe,Fe,Ye,null);yg(q,Fe)}return null}function Ze(oe,q,ce,Fe){for(var Ye=null,wt=null,yt=q,Vt=q=0,ar=null;yt!==null&&Vt<ce.length;Vt++){yt.index>Vt?(ar=yt,yt=null):ar=yt.sibling;var Wt=st(oe,yt,ce[Vt],Fe);if(Wt===null){yt===null&&(yt=ar);break}f&&yt&&Wt.alternate===null&&h(oe,yt),q=L(Wt,q,Vt),wt===null?Ye=Wt:wt.sibling=Wt,wt=Wt,yt=ar}if(Vt===ce.length)return _(oe,yt),vn&&Pl(oe,Vt),Ye;if(yt===null){for(;Vt<ce.length;Vt++)yt=vt(oe,ce[Vt],Fe),yt!==null&&(q=L(yt,q,Vt),wt===null?Ye=yt:wt.sibling=yt,wt=yt);return vn&&Pl(oe,Vt),Ye}for(yt=w(oe,yt);Vt<ce.length;Vt++)ar=nn(yt,oe,Vt,ce[Vt],Fe),ar!==null&&(f&&ar.alternate!==null&&yt.delete(ar.key===null?Vt:ar.key),q=L(ar,q,Vt),wt===null?Ye=ar:wt.sibling=ar,wt=ar);return f&&yt.forEach(function(Aa){return h(oe,Aa)}),vn&&Pl(oe,Vt),Ye}function Cr(oe,q,ce,Fe){var Ye=E(ce);if(typeof Ye!="function")throw Error(o(150));if(ce=Ye.call(ce),ce==null)throw Error(o(151));for(var wt=Ye=null,yt=q,Vt=q=0,ar=null,Wt=ce.next();yt!==null&&!Wt.done;Vt++,Wt=ce.next()){yt.index>Vt?(ar=yt,yt=null):ar=yt.sibling;var Aa=st(oe,yt,Wt.value,Fe);if(Aa===null){yt===null&&(yt=ar);break}f&&yt&&Aa.alternate===null&&h(oe,yt),q=L(Aa,q,Vt),wt===null?Ye=Aa:wt.sibling=Aa,wt=Aa,yt=ar}if(Wt.done)return _(oe,yt),vn&&Pl(oe,Vt),Ye;if(yt===null){for(;!Wt.done;Vt++,Wt=ce.next())Wt=vt(oe,Wt.value,Fe),Wt!==null&&(q=L(Wt,q,Vt),wt===null?Ye=Wt:wt.sibling=Wt,wt=Wt);return vn&&Pl(oe,Vt),Ye}for(yt=w(oe,yt);!Wt.done;Vt++,Wt=ce.next())Wt=nn(yt,oe,Vt,Wt.value,Fe),Wt!==null&&(f&&Wt.alternate!==null&&yt.delete(Wt.key===null?Vt:Wt.key),q=L(Wt,q,Vt),wt===null?Ye=Wt:wt.sibling=Wt,wt=Wt);return f&&yt.forEach(function(V8){return h(oe,V8)}),vn&&Pl(oe,Vt),Ye}function Zi(oe,q,ce,Fe){if(typeof ce=="object"&&ce!==null&&ce.type===c&&ce.key===null&&(ce=ce.props.children),typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case l:e:{for(var Ye=ce.key,wt=q;wt!==null;){if(wt.key===Ye){if(Ye=ce.type,Ye===c){if(wt.tag===7){_(oe,wt.sibling),q=A(wt,ce.props.children),q.return=oe,oe=q;break e}}else if(wt.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===S&&GT(Ye)===wt.type){_(oe,wt.sibling),q=A(wt,ce.props),q.ref=Gd(oe,wt,ce),q.return=oe,oe=q;break e}_(oe,wt);break}else h(oe,wt);wt=wt.sibling}ce.type===c?(q=Fl(ce.props.children,oe.mode,Fe,ce.key),q.return=oe,oe=q):(Fe=Xg(ce.type,ce.key,ce.props,null,oe.mode,Fe),Fe.ref=Gd(oe,q,ce),Fe.return=oe,oe=Fe)}return $(oe);case u:e:{for(wt=ce.key;q!==null;){if(q.key===wt)if(q.tag===4&&q.stateNode.containerInfo===ce.containerInfo&&q.stateNode.implementation===ce.implementation){_(oe,q.sibling),q=A(q,ce.children||[]),q.return=oe,oe=q;break e}else{_(oe,q);break}else h(oe,q);q=q.sibling}q=u_(ce,oe.mode,Fe),q.return=oe,oe=q}return $(oe);case S:return wt=ce._init,Zi(oe,q,wt(ce._payload),Fe)}if(j(ce))return Ze(oe,q,ce,Fe);if(E(ce))return Cr(oe,q,ce,Fe);yg(oe,ce)}return typeof ce=="string"&&ce!==""||typeof ce=="number"?(ce=""+ce,q!==null&&q.tag===6?(_(oe,q.sibling),q=A(q,ce),q.return=oe,oe=q):(_(oe,q),q=l_(ce,oe.mode,Fe),q.return=oe,oe=q),$(oe)):_(oe,q)}return Zi}var ic=$T(!0),VT=$T(!1),$d={},Ki=ei($d),Vd=ei($d),sc=ei($d);function qs(f){if(f===$d)throw Error(o(174));return f}function E1(f,h){_t(sc,h),_t(Vd,f),_t(Ki,$d),f=ne(h),Kt(Ki),_t(Ki,f)}function oc(){Kt(Ki),Kt(Vd),Kt(sc)}function WT(f){var h=qs(sc.current),_=qs(Ki.current);h=z(_,f.type,h),_!==h&&(_t(Vd,f),_t(Ki,h))}function C1(f){Vd.current===f&&(Kt(Ki),Kt(Vd))}var Sn=ei(0);function xg(f){for(var h=f;h!==null;){if(h.tag===13){var _=h.memoizedState;if(_!==null&&(_=_.dehydrated,_===null||ng(_)||kd(_)))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if(h.flags&128)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===f)break;for(;h.sibling===null;){if(h.return===null||h.return===f)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var T1=[];function P1(){for(var f=0;f<T1.length;f++){var h=T1[f];we?h._workInProgressVersionPrimary=null:h._workInProgressVersionSecondary=null}T1.length=0}var _g=a.ReactCurrentDispatcher,Xi=a.ReactCurrentBatchConfig,ac=0,Rn=null,Mr=null,or=null,Sg=!1,Wd=!1,jd=0,m8=0;function Ar(){throw Error(o(321))}function R1(f,h){if(h===null)return!1;for(var _=0;_<h.length&&_<f.length;_++)if(!Ys(f[_],h[_]))return!1;return!0}function B1(f,h,_,w,A,L){if(ac=L,Rn=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,_g.current=f===null||f.memoizedState===null?x8:_8,f=_(w,A),Wd){L=0;do{if(Wd=!1,jd=0,25<=L)throw Error(o(301));L+=1,or=Mr=null,h.updateQueue=null,_g.current=S8,f=_(w,A)}while(Wd)}if(_g.current=Eg,h=Mr!==null&&Mr.next!==null,ac=0,or=Mr=Rn=null,Sg=!1,h)throw Error(o(300));return f}function I1(){var f=jd!==0;return jd=0,f}function Co(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return or===null?Rn.memoizedState=or=f:or=or.next=f,or}function eo(){if(Mr===null){var f=Rn.alternate;f=f!==null?f.memoizedState:null}else f=Mr.next;var h=or===null?Rn.memoizedState:or.next;if(h!==null)or=h,Mr=f;else{if(f===null)throw Error(o(310));Mr=f,f={memoizedState:Mr.memoizedState,baseState:Mr.baseState,baseQueue:Mr.baseQueue,queue:Mr.queue,next:null},or===null?Rn.memoizedState=or=f:or=or.next=f}return or}function Rl(f,h){return typeof h=="function"?h(f):h}function bg(f){var h=eo(),_=h.queue;if(_===null)throw Error(o(311));_.lastRenderedReducer=f;var w=Mr,A=w.baseQueue,L=_.pending;if(L!==null){if(A!==null){var $=A.next;A.next=L.next,L.next=$}w.baseQueue=A=L,_.pending=null}if(A!==null){L=A.next,w=w.baseState;var Y=$=null,de=null,Te=L;do{var ze=Te.lane;if((ac&ze)===ze)de!==null&&(de=de.next={lane:0,action:Te.action,hasEagerState:Te.hasEagerState,eagerState:Te.eagerState,next:null}),w=Te.hasEagerState?Te.eagerState:f(w,Te.action);else{var vt={lane:ze,action:Te.action,hasEagerState:Te.hasEagerState,eagerState:Te.eagerState,next:null};de===null?(Y=de=vt,$=w):de=de.next=vt,Rn.lanes|=ze,uc|=ze}Te=Te.next}while(Te!==null&&Te!==L);de===null?$=w:de.next=Y,Ys(w,h.memoizedState)||(Si=!0),h.memoizedState=w,h.baseState=$,h.baseQueue=de,_.lastRenderedState=w}if(f=_.interleaved,f!==null){A=f;do L=A.lane,Rn.lanes|=L,uc|=L,A=A.next;while(A!==f)}else A===null&&(_.lanes=0);return[h.memoizedState,_.dispatch]}function wg(f){var h=eo(),_=h.queue;if(_===null)throw Error(o(311));_.lastRenderedReducer=f;var w=_.dispatch,A=_.pending,L=h.memoizedState;if(A!==null){_.pending=null;var $=A=A.next;do L=f(L,$.action),$=$.next;while($!==A);Ys(L,h.memoizedState)||(Si=!0),h.memoizedState=L,h.baseQueue===null&&(h.baseState=L),_.lastRenderedState=L}return[L,w]}function jT(){}function JT(f,h){var _=Rn,w=eo(),A=h(),L=!Ys(w.memoizedState,A);if(L&&(w.memoizedState=A,Si=!0),w=w.queue,Kd(YT.bind(null,_,w,f),[f]),w.getSnapshot!==h||L||or!==null&&or.memoizedState.tag&1){if(_.flags|=2048,Jd(9,XT.bind(null,_,w,A,h),void 0,null),Vn===null)throw Error(o(349));ac&30||KT(_,h,A)}return A}function KT(f,h,_){f.flags|=16384,f={getSnapshot:h,value:_},h=Rn.updateQueue,h===null?(h={lastEffect:null,stores:null},Rn.updateQueue=h,h.stores=[f]):(_=h.stores,_===null?h.stores=[f]:_.push(f))}function XT(f,h,_,w){h.value=_,h.getSnapshot=w,QT(h)&&Yi(f,1,-1)}function YT(f,h,_){return _(function(){QT(h)&&Yi(f,1,-1)})}function QT(f){var h=f.getSnapshot;f=f.value;try{var _=h();return!Ys(f,_)}catch{return!0}}function D1(f){var h=Co();return typeof f=="function"&&(f=f()),h.memoizedState=h.baseState=f,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rl,lastRenderedState:f},h.queue=f,f=f.dispatch=y8.bind(null,Rn,f),[h.memoizedState,f]}function Jd(f,h,_,w){return f={tag:f,create:h,destroy:_,deps:w,next:null},h=Rn.updateQueue,h===null?(h={lastEffect:null,stores:null},Rn.updateQueue=h,h.lastEffect=f.next=f):(_=h.lastEffect,_===null?h.lastEffect=f.next=f:(w=_.next,_.next=f,f.next=w,h.lastEffect=f)),f}function ZT(){return eo().memoizedState}function Mg(f,h,_,w){var A=Co();Rn.flags|=f,A.memoizedState=Jd(1|h,_,void 0,w===void 0?null:w)}function Ag(f,h,_,w){var A=eo();w=w===void 0?null:w;var L=void 0;if(Mr!==null){var $=Mr.memoizedState;if(L=$.destroy,w!==null&&R1(w,$.deps)){A.memoizedState=Jd(h,_,L,w);return}}Rn.flags|=f,A.memoizedState=Jd(1|h,_,L,w)}function L1(f,h){return Mg(8390656,8,f,h)}function Kd(f,h){return Ag(2048,8,f,h)}function qT(f,h){return Ag(4,2,f,h)}function e2(f,h){return Ag(4,4,f,h)}function t2(f,h){if(typeof h=="function")return f=f(),h(f),function(){h(null)};if(h!=null)return f=f(),h.current=f,function(){h.current=null}}function n2(f,h,_){return _=_!=null?_.concat([f]):null,Ag(4,4,t2.bind(null,h,f),_)}function O1(){}function r2(f,h){var _=eo();h=h===void 0?null:h;var w=_.memoizedState;return w!==null&&h!==null&&R1(h,w[1])?w[0]:(_.memoizedState=[f,h],f)}function i2(f,h){var _=eo();h=h===void 0?null:h;var w=_.memoizedState;return w!==null&&h!==null&&R1(h,w[1])?w[0]:(f=f(),_.memoizedState=[f,h],f)}function g8(f,h){var _=$t;$t=_!==0&&4>_?_:4,f(!0);var w=Xi.transition;Xi.transition={};try{f(!1),h()}finally{$t=_,Xi.transition=w}}function s2(){return eo().memoizedState}function v8(f,h,_){var w=ba(f);_={lane:w,action:_,hasEagerState:!1,eagerState:null,next:null},o2(f)?a2(h,_):(l2(f,h,_),_=Gr(),f=Yi(f,w,_),f!==null&&u2(f,h,w))}function y8(f,h,_){var w=ba(f),A={lane:w,action:_,hasEagerState:!1,eagerState:null,next:null};if(o2(f))a2(h,A);else{l2(f,h,A);var L=f.alternate;if(f.lanes===0&&(L===null||L.lanes===0)&&(L=h.lastRenderedReducer,L!==null))try{var $=h.lastRenderedState,Y=L($,_);if(A.hasEagerState=!0,A.eagerState=Y,Ys(Y,$))return}catch{}finally{}_=Gr(),f=Yi(f,w,_),f!==null&&u2(f,h,w)}}function o2(f){var h=f.alternate;return f===Rn||h!==null&&h===Rn}function a2(f,h){Wd=Sg=!0;var _=f.pending;_===null?h.next=h:(h.next=_.next,_.next=h),f.pending=h}function l2(f,h,_){Vn!==null&&f.mode&1&&!(Tt&2)?(f=h.interleaved,f===null?(_.next=_,Zs===null?Zs=[h]:Zs.push(h)):(_.next=f.next,f.next=_),h.interleaved=_):(f=h.pending,f===null?_.next=_:(_.next=f.next,f.next=_),h.pending=_)}function u2(f,h,_){if(_&4194240){var w=h.lanes;w&=f.pendingLanes,_|=w,h.lanes=_,u1(f,_)}}var Eg={readContext:Wi,useCallback:Ar,useContext:Ar,useEffect:Ar,useImperativeHandle:Ar,useInsertionEffect:Ar,useLayoutEffect:Ar,useMemo:Ar,useReducer:Ar,useRef:Ar,useState:Ar,useDebugValue:Ar,useDeferredValue:Ar,useTransition:Ar,useMutableSource:Ar,useSyncExternalStore:Ar,useId:Ar,unstable_isNewReconciler:!1},x8={readContext:Wi,useCallback:function(f,h){return Co().memoizedState=[f,h===void 0?null:h],f},useContext:Wi,useEffect:L1,useImperativeHandle:function(f,h,_){return _=_!=null?_.concat([f]):null,Mg(4194308,4,t2.bind(null,h,f),_)},useLayoutEffect:function(f,h){return Mg(4194308,4,f,h)},useInsertionEffect:function(f,h){return Mg(4,2,f,h)},useMemo:function(f,h){var _=Co();return h=h===void 0?null:h,f=f(),_.memoizedState=[f,h],f},useReducer:function(f,h,_){var w=Co();return h=_!==void 0?_(h):h,w.memoizedState=w.baseState=h,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:h},w.queue=f,f=f.dispatch=v8.bind(null,Rn,f),[w.memoizedState,f]},useRef:function(f){var h=Co();return f={current:f},h.memoizedState=f},useState:D1,useDebugValue:O1,useDeferredValue:function(f){var h=D1(f),_=h[0],w=h[1];return L1(function(){var A=Xi.transition;Xi.transition={};try{w(f)}finally{Xi.transition=A}},[f]),_},useTransition:function(){var f=D1(!1),h=f[0];return f=g8.bind(null,f[1]),Co().memoizedState=f,[h,f]},useMutableSource:function(){},useSyncExternalStore:function(f,h,_){var w=Rn,A=Co();if(vn){if(_===void 0)throw Error(o(407));_=_()}else{if(_=h(),Vn===null)throw Error(o(349));ac&30||KT(w,h,_)}A.memoizedState=_;var L={value:_,getSnapshot:h};return A.queue=L,L1(YT.bind(null,w,L,f),[f]),w.flags|=2048,Jd(9,XT.bind(null,w,L,_,h),void 0,null),_},useId:function(){var f=Co(),h=Vn.identifierPrefix;if(vn){var _=Eo,w=Ao;_=(w&~(1<<32-Ss(w)-1)).toString(32)+_,h=":"+h+"R"+_,_=jd++,0<_&&(h+="H"+_.toString(32)),h+=":"}else _=m8++,h=":"+h+"r"+_.toString(32)+":";return f.memoizedState=h},unstable_isNewReconciler:!1},_8={readContext:Wi,useCallback:r2,useContext:Wi,useEffect:Kd,useImperativeHandle:n2,useInsertionEffect:qT,useLayoutEffect:e2,useMemo:i2,useReducer:bg,useRef:ZT,useState:function(){return bg(Rl)},useDebugValue:O1,useDeferredValue:function(f){var h=bg(Rl),_=h[0],w=h[1];return Kd(function(){var A=Xi.transition;Xi.transition={};try{w(f)}finally{Xi.transition=A}},[f]),_},useTransition:function(){var f=bg(Rl)[0],h=eo().memoizedState;return[f,h]},useMutableSource:jT,useSyncExternalStore:JT,useId:s2,unstable_isNewReconciler:!1},S8={readContext:Wi,useCallback:r2,useContext:Wi,useEffect:Kd,useImperativeHandle:n2,useInsertionEffect:qT,useLayoutEffect:e2,useMemo:i2,useReducer:wg,useRef:ZT,useState:function(){return wg(Rl)},useDebugValue:O1,useDeferredValue:function(f){var h=wg(Rl),_=h[0],w=h[1];return Kd(function(){var A=Xi.transition;Xi.transition={};try{w(f)}finally{Xi.transition=A}},[f]),_},useTransition:function(){var f=wg(Rl)[0],h=eo().memoizedState;return[f,h]},useMutableSource:jT,useSyncExternalStore:JT,useId:s2,unstable_isNewReconciler:!1};function F1(f,h){try{var _="",w=h;do _+=p8(w),w=w.return;while(w);var A=_}catch(L){A=`
Error generating stack: `+L.message+`
`+L.stack}return{value:f,source:h,stack:A}}function k1(f,h){try{console.error(h.value)}catch(_){setTimeout(function(){throw _})}}var b8=typeof WeakMap=="function"?WeakMap:Map;function c2(f,h,_){_=Mo(-1,_),_.tag=3,_.payload={element:null};var w=h.value;return _.callback=function(){Gg||(Gg=!0,t_=w),k1(f,h)},_}function f2(f,h,_){_=Mo(-1,_),_.tag=3;var w=f.type.getDerivedStateFromError;if(typeof w=="function"){var A=h.value;_.payload=function(){return w(A)},_.callback=function(){k1(f,h)}}var L=f.stateNode;return L!==null&&typeof L.componentDidCatch=="function"&&(_.callback=function(){k1(f,h),typeof w!="function"&&(_a===null?_a=new Set([this]):_a.add(this));var $=h.stack;this.componentDidCatch(h.value,{componentStack:$!==null?$:""})}),_}function d2(f,h,_){var w=f.pingCache;if(w===null){w=f.pingCache=new b8;var A=new Set;w.set(h,A)}else A=w.get(h),A===void 0&&(A=new Set,w.set(h,A));A.has(_)||(A.add(_),f=F8.bind(null,f,h,_),h.then(f,f))}function h2(f){do{var h;if((h=f.tag===13)&&(h=f.memoizedState,h=h!==null?h.dehydrated!==null:!0),h)return f;f=f.return}while(f!==null);return null}function p2(f,h,_,w,A){return f.mode&1?(f.flags|=65536,f.lanes=A,f):(f===h?f.flags|=65536:(f.flags|=128,_.flags|=131072,_.flags&=-52805,_.tag===1&&(_.alternate===null?_.tag=17:(h=Mo(-1,1),h.tag=2,xa(_,h))),_.lanes|=1),f)}function to(f){f.flags|=4}function m2(f,h){if(f!==null&&f.child===h.child)return!0;if(h.flags&16)return!1;for(f=h.child;f!==null;){if(f.flags&12854||f.subtreeFlags&12854)return!1;f=f.sibling}return!0}var Xd,Yd,Cg,Tg;if(Be)Xd=function(f,h){for(var _=h.child;_!==null;){if(_.tag===5||_.tag===6)re(f,_.stateNode);else if(_.tag!==4&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===h)break;for(;_.sibling===null;){if(_.return===null||_.return===h)return;_=_.return}_.sibling.return=_.return,_=_.sibling}},Yd=function(){},Cg=function(f,h,_,w,A){if(f=f.memoizedProps,f!==w){var L=h.stateNode,$=qs(Ki.current);_=le(L,_,f,w,A,$),(h.updateQueue=_)&&to(h)}},Tg=function(f,h,_,w){_!==w&&to(h)};else if(ye){Xd=function(f,h,_,w){for(var A=h.child;A!==null;){if(A.tag===5){var L=A.stateNode;_&&w&&(L=gn(L,A.type,A.memoizedProps,A)),re(f,L)}else if(A.tag===6)L=A.stateNode,_&&w&&(L=zr(L,A.memoizedProps,A)),re(f,L);else if(A.tag!==4){if(A.tag===22&&A.memoizedState!==null)L=A.child,L!==null&&(L.return=A),Xd(f,A,!0,!0);else if(A.child!==null){A.child.return=A,A=A.child;continue}}if(A===h)break;for(;A.sibling===null;){if(A.return===null||A.return===h)return;A=A.return}A.sibling.return=A.return,A=A.sibling}};var g2=function(f,h,_,w){for(var A=h.child;A!==null;){if(A.tag===5){var L=A.stateNode;_&&w&&(L=gn(L,A.type,A.memoizedProps,A)),rn(f,L)}else if(A.tag===6)L=A.stateNode,_&&w&&(L=zr(L,A.memoizedProps,A)),rn(f,L);else if(A.tag!==4){if(A.tag===22&&A.memoizedState!==null)L=A.child,L!==null&&(L.return=A),g2(f,A,!0,!0);else if(A.child!==null){A.child.return=A,A=A.child;continue}}if(A===h)break;for(;A.sibling===null;){if(A.return===null||A.return===h)return;A=A.return}A.sibling.return=A.return,A=A.sibling}};Yd=function(f,h){var _=h.stateNode;if(!m2(f,h)){f=_.containerInfo;var w=Qt(f);g2(w,h,!1,!1),_.pendingChildren=w,to(h),ir(f,w)}},Cg=function(f,h,_,w,A){var L=f.stateNode,$=f.memoizedProps;if((f=m2(f,h))&&$===w)h.stateNode=L;else{var Y=h.stateNode,de=qs(Ki.current),Te=null;$!==w&&(Te=le(Y,_,$,w,A,de)),f&&Te===null?h.stateNode=L:(L=Qe(L,Te,_,$,w,h,f,Y),se(L,_,w,A,de)&&to(h),h.stateNode=L,f?to(h):Xd(L,h,!1,!1))}},Tg=function(f,h,_,w){_!==w?(f=qs(sc.current),_=qs(Ki.current),h.stateNode=be(w,f,_,h),to(h)):h.stateNode=f.stateNode}}else Yd=function(){},Cg=function(){},Tg=function(){};function Qd(f,h){if(!vn)switch(f.tailMode){case"hidden":h=f.tail;for(var _=null;h!==null;)h.alternate!==null&&(_=h),h=h.sibling;_===null?f.tail=null:_.sibling=null;break;case"collapsed":_=f.tail;for(var w=null;_!==null;)_.alternate!==null&&(w=_),_=_.sibling;w===null?h||f.tail===null?f.tail=null:f.tail.sibling=null:w.sibling=null}}function Er(f){var h=f.alternate!==null&&f.alternate.child===f.child,_=0,w=0;if(h)for(var A=f.child;A!==null;)_|=A.lanes|A.childLanes,w|=A.subtreeFlags&14680064,w|=A.flags&14680064,A.return=f,A=A.sibling;else for(A=f.child;A!==null;)_|=A.lanes|A.childLanes,w|=A.subtreeFlags,w|=A.flags,A.return=f,A=A.sibling;return f.subtreeFlags|=w,f.childLanes=_,h}function w8(f,h,_){var w=h.pendingProps;switch(b1(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Er(h),null;case 1:return gr(h.type)&&rg(),Er(h),null;case 3:return w=h.stateNode,oc(),Kt(Zt),Kt($n),P1(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(f===null||f.child===null)&&(Hd(h)?to(h):f===null||f.memoizedState.isDehydrated&&!(h.flags&256)||(h.flags|=1024,ws!==null&&(i_(ws),ws=null))),Yd(f,h),Er(h),null;case 5:C1(h),_=qs(sc.current);var A=h.type;if(f!==null&&h.stateNode!=null)Cg(f,h,A,w,_),f.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!w){if(h.stateNode===null)throw Error(o(166));return Er(h),null}if(f=qs(Ki.current),Hd(h)){if(!ue)throw Error(o(175));f=ge(h.stateNode,h.type,h.memoizedProps,_,f,h,!zd),h.updateQueue=f,f!==null&&to(h)}else{var L=ie(A,w,_,f,h);Xd(L,h,!1,!1),h.stateNode=L,se(L,A,w,_,f)&&to(h)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return Er(h),null;case 6:if(f&&h.stateNode!=null)Tg(f,h,f.memoizedProps,w);else{if(typeof w!="string"&&h.stateNode===null)throw Error(o(166));if(f=qs(sc.current),_=qs(Ki.current),Hd(h)){if(!ue)throw Error(o(176));if(f=h.stateNode,w=h.memoizedProps,(_=it(f,w,h,!zd))&&(A=xi,A!==null))switch(L=(A.mode&1)!==0,A.tag){case 3:mr(A.stateNode.containerInfo,f,w,L);break;case 5:yi(A.type,A.memoizedProps,A.stateNode,f,w,L)}_&&to(h)}else h.stateNode=be(w,f,_,h)}return Er(h),null;case 13:if(Kt(Sn),w=h.memoizedState,vn&&_i!==null&&h.mode&1&&!(h.flags&128)){for(f=_i;f;)f=G(f);return rc(),h.flags|=98560,h}if(w!==null&&w.dehydrated!==null){if(w=Hd(h),f===null){if(!w)throw Error(o(318));if(!ue)throw Error(o(344));if(f=h.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(o(317));dt(f,h)}else rc(),!(h.flags&128)&&(h.memoizedState=null),h.flags|=4;return Er(h),null}return ws!==null&&(i_(ws),ws=null),h.flags&128?(h.lanes=_,h):(w=w!==null,_=!1,f===null?Hd(h):_=f.memoizedState!==null,w&&!_&&(h.child.flags|=8192,h.mode&1&&(f===null||Sn.current&1?Xn===0&&(Xn=3):o_())),h.updateQueue!==null&&(h.flags|=4),Er(h),null);case 4:return oc(),Yd(f,h),f===null&&Le(h.stateNode.containerInfo),Er(h),null;case 10:return g1(h.type._context),Er(h),null;case 17:return gr(h.type)&&rg(),Er(h),null;case 19:if(Kt(Sn),A=h.memoizedState,A===null)return Er(h),null;if(w=(h.flags&128)!==0,L=A.rendering,L===null)if(w)Qd(A,!1);else{if(Xn!==0||f!==null&&f.flags&128)for(f=h.child;f!==null;){if(L=xg(f),L!==null){for(h.flags|=128,Qd(A,!1),f=L.updateQueue,f!==null&&(h.updateQueue=f,h.flags|=4),h.subtreeFlags=0,f=_,w=h.child;w!==null;)_=w,A=f,_.flags&=14680066,L=_.alternate,L===null?(_.childLanes=0,_.lanes=A,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=L.childLanes,_.lanes=L.lanes,_.child=L.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=L.memoizedProps,_.memoizedState=L.memoizedState,_.updateQueue=L.updateQueue,_.type=L.type,A=L.dependencies,_.dependencies=A===null?null:{lanes:A.lanes,firstContext:A.firstContext}),w=w.sibling;return _t(Sn,Sn.current&1|2),h.child}f=f.sibling}A.tail!==null&&sr()>e_&&(h.flags|=128,w=!0,Qd(A,!1),h.lanes=4194304)}else{if(!w)if(f=xg(L),f!==null){if(h.flags|=128,w=!0,f=f.updateQueue,f!==null&&(h.updateQueue=f,h.flags|=4),Qd(A,!0),A.tail===null&&A.tailMode==="hidden"&&!L.alternate&&!vn)return Er(h),null}else 2*sr()-A.renderingStartTime>e_&&_!==1073741824&&(h.flags|=128,w=!0,Qd(A,!1),h.lanes=4194304);A.isBackwards?(L.sibling=h.child,h.child=L):(f=A.last,f!==null?f.sibling=L:h.child=L,A.last=L)}return A.tail!==null?(h=A.tail,A.rendering=h,A.tail=h.sibling,A.renderingStartTime=sr(),h.sibling=null,f=Sn.current,_t(Sn,w?f&1|2:f&1),h):(Er(h),null);case 22:case 23:return s_(),w=h.memoizedState!==null,f!==null&&f.memoizedState!==null!==w&&(h.flags|=8192),w&&h.mode&1?bi&1073741824&&(Er(h),Be&&h.subtreeFlags&6&&(h.flags|=8192)):Er(h),null;case 24:return null;case 25:return null}throw Error(o(156,h.tag))}var M8=a.ReactCurrentOwner,Si=!1;function Hr(f,h,_,w){h.child=f===null?VT(h,null,_,w):ic(h,f.child,_,w)}function v2(f,h,_,w,A){_=_.render;var L=h.ref;return ec(h,A),w=B1(f,h,_,w,L,A),_=I1(),f!==null&&!Si?(h.updateQueue=f.updateQueue,h.flags&=-2053,f.lanes&=~A,To(f,h,A)):(vn&&_&&S1(h),h.flags|=1,Hr(f,h,w,A),h.child)}function y2(f,h,_,w,A){if(f===null){var L=_.type;return typeof L=="function"&&!a_(L)&&L.defaultProps===void 0&&_.compare===null&&_.defaultProps===void 0?(h.tag=15,h.type=L,x2(f,h,L,w,A)):(f=Xg(_.type,null,w,h,h.mode,A),f.ref=h.ref,f.return=h,h.child=f)}if(L=f.child,!(f.lanes&A)){var $=L.memoizedProps;if(_=_.compare,_=_!==null?_:cg,_($,w)&&f.ref===h.ref)return To(f,h,A)}return h.flags|=1,f=Ma(L,w),f.ref=h.ref,f.return=h,h.child=f}function x2(f,h,_,w,A){if(f!==null&&cg(f.memoizedProps,w)&&f.ref===h.ref)if(Si=!1,(f.lanes&A)!==0)f.flags&131072&&(Si=!0);else return h.lanes=f.lanes,To(f,h,A);return N1(f,h,_,w,A)}function _2(f,h,_){var w=h.pendingProps,A=w.children,L=f!==null?f.memoizedState:null;if(w.mode==="hidden")if(!(h.mode&1))h.memoizedState={baseLanes:0,cachePool:null},_t(lc,bi),bi|=_;else if(_&1073741824)h.memoizedState={baseLanes:0,cachePool:null},w=L!==null?L.baseLanes:_,_t(lc,bi),bi|=w;else return f=L!==null?L.baseLanes|_:_,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:f,cachePool:null},h.updateQueue=null,_t(lc,bi),bi|=f,null;else L!==null?(w=L.baseLanes|_,h.memoizedState=null):w=_,_t(lc,bi),bi|=w;return Hr(f,h,A,_),h.child}function S2(f,h){var _=h.ref;(f===null&&_!==null||f!==null&&f.ref!==_)&&(h.flags|=512,h.flags|=2097152)}function N1(f,h,_,w,A){var L=gr(_)?_s:$n.current;return L=va(h,L),ec(h,A),_=B1(f,h,_,w,L,A),w=I1(),f!==null&&!Si?(h.updateQueue=f.updateQueue,h.flags&=-2053,f.lanes&=~A,To(f,h,A)):(vn&&w&&S1(h),h.flags|=1,Hr(f,h,_,A),h.child)}function b2(f,h,_,w,A){if(gr(_)){var L=!0;ig(h)}else L=!1;if(ec(h,A),h.stateNode===null)f!==null&&(f.alternate=null,h.alternate=null,h.flags|=2),FT(h,_,w),_1(h,_,w,A),w=!0;else if(f===null){var $=h.stateNode,Y=h.memoizedProps;$.props=Y;var de=$.context,Te=_.contextType;typeof Te=="object"&&Te!==null?Te=Wi(Te):(Te=gr(_)?_s:$n.current,Te=va(h,Te));var ze=_.getDerivedStateFromProps,vt=typeof ze=="function"||typeof $.getSnapshotBeforeUpdate=="function";vt||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(Y!==w||de!==Te)&&kT(h,$,w,Te),ya=!1;var st=h.memoizedState;$.state=st,pg(h,w,$,A),de=h.memoizedState,Y!==w||st!==de||Zt.current||ya?(typeof ze=="function"&&(x1(h,_,ze,w),de=h.memoizedState),(Y=ya||OT(h,_,Y,w,st,de,Te))?(vt||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount()),typeof $.componentDidMount=="function"&&(h.flags|=4194308)):(typeof $.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=w,h.memoizedState=de),$.props=w,$.state=de,$.context=Te,w=Y):(typeof $.componentDidMount=="function"&&(h.flags|=4194308),w=!1)}else{$=h.stateNode,BT(f,h),Y=h.memoizedProps,Te=h.type===h.elementType?Y:bs(h.type,Y),$.props=Te,vt=h.pendingProps,st=$.context,de=_.contextType,typeof de=="object"&&de!==null?de=Wi(de):(de=gr(_)?_s:$n.current,de=va(h,de));var nn=_.getDerivedStateFromProps;(ze=typeof nn=="function"||typeof $.getSnapshotBeforeUpdate=="function")||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(Y!==vt||st!==de)&&kT(h,$,w,de),ya=!1,st=h.memoizedState,$.state=st,pg(h,w,$,A);var Ze=h.memoizedState;Y!==vt||st!==Ze||Zt.current||ya?(typeof nn=="function"&&(x1(h,_,nn,w),Ze=h.memoizedState),(Te=ya||OT(h,_,Te,w,st,Ze,de)||!1)?(ze||typeof $.UNSAFE_componentWillUpdate!="function"&&typeof $.componentWillUpdate!="function"||(typeof $.componentWillUpdate=="function"&&$.componentWillUpdate(w,Ze,de),typeof $.UNSAFE_componentWillUpdate=="function"&&$.UNSAFE_componentWillUpdate(w,Ze,de)),typeof $.componentDidUpdate=="function"&&(h.flags|=4),typeof $.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof $.componentDidUpdate!="function"||Y===f.memoizedProps&&st===f.memoizedState||(h.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||Y===f.memoizedProps&&st===f.memoizedState||(h.flags|=1024),h.memoizedProps=w,h.memoizedState=Ze),$.props=w,$.state=Ze,$.context=de,w=Te):(typeof $.componentDidUpdate!="function"||Y===f.memoizedProps&&st===f.memoizedState||(h.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||Y===f.memoizedProps&&st===f.memoizedState||(h.flags|=1024),w=!1)}return U1(f,h,_,w,L,A)}function U1(f,h,_,w,A,L){S2(f,h);var $=(h.flags&128)!==0;if(!w&&!$)return A&&ET(h,_,!1),To(f,h,L);w=h.stateNode,M8.current=h;var Y=$&&typeof _.getDerivedStateFromError!="function"?null:w.render();return h.flags|=1,f!==null&&$?(h.child=ic(h,f.child,null,L),h.child=ic(h,null,Y,L)):Hr(f,h,Y,L),h.memoizedState=w.state,A&&ET(h,_,!0),h.child}function w2(f){var h=f.stateNode;h.pendingContext?MT(f,h.pendingContext,h.pendingContext!==h.context):h.context&&MT(f,h.context,!1),E1(f,h.containerInfo)}function M2(f,h,_,w,A){return rc(),A1(A),h.flags|=256,Hr(f,h,_,w),h.child}var Pg={dehydrated:null,treeContext:null,retryLane:0};function Rg(f){return{baseLanes:f,cachePool:null}}function A2(f,h,_){var w=h.pendingProps,A=Sn.current,L=!1,$=(h.flags&128)!==0,Y;if((Y=$)||(Y=f!==null&&f.memoizedState===null?!1:(A&2)!==0),Y?(L=!0,h.flags&=-129):(f===null||f.memoizedState!==null)&&(A|=1),_t(Sn,A&1),f===null)return M1(h),f=h.memoizedState,f!==null&&(f=f.dehydrated,f!==null)?(h.mode&1?kd(f)?h.lanes=8:h.lanes=1073741824:h.lanes=1,null):(A=w.children,f=w.fallback,L?(w=h.mode,L=h.child,A={mode:"hidden",children:A},!(w&1)&&L!==null?(L.childLanes=0,L.pendingProps=A):L=Yg(A,w,0,null),f=Fl(f,w,_,null),L.return=h,f.return=h,L.sibling=f,h.child=L,h.child.memoizedState=Rg(_),h.memoizedState=Pg,f):z1(h,A));if(A=f.memoizedState,A!==null){if(Y=A.dehydrated,Y!==null){if($)return h.flags&256?(h.flags&=-257,Bg(f,h,_,Error(o(422)))):h.memoizedState!==null?(h.child=f.child,h.flags|=128,null):(L=w.fallback,A=h.mode,w=Yg({mode:"visible",children:w.children},A,0,null),L=Fl(L,A,_,null),L.flags|=2,w.return=h,L.return=h,w.sibling=L,h.child=w,h.mode&1&&ic(h,f.child,null,_),h.child.memoizedState=Rg(_),h.memoizedState=Pg,L);if(!(h.mode&1))h=Bg(f,h,_,null);else if(kd(Y))h=Bg(f,h,_,Error(o(419)));else if(w=(_&f.childLanes)!==0,Si||w){if(w=Vn,w!==null){switch(_&-_){case 4:L=2;break;case 16:L=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:L=32;break;case 536870912:L=268435456;break;default:L=0}w=L&(w.suspendedLanes|_)?0:L,w!==0&&w!==A.retryLane&&(A.retryLane=w,Yi(f,w,-1))}o_(),h=Bg(f,h,_,Error(o(421)))}else ng(Y)?(h.flags|=128,h.child=f.child,h=k8.bind(null,f),o1(Y,h),h=null):(_=A.treeContext,ue&&(_i=te(Y),xi=h,vn=!0,ws=null,zd=!1,_!==null&&(ji[Ji++]=Ao,ji[Ji++]=Eo,ji[Ji++]=Tl,Ao=_.id,Eo=_.overflow,Tl=h)),h=z1(h,h.pendingProps.children),h.flags|=4096);return h}return L?(w=C2(f,h,w.children,w.fallback,_),L=h.child,A=f.child.memoizedState,L.memoizedState=A===null?Rg(_):{baseLanes:A.baseLanes|_,cachePool:null},L.childLanes=f.childLanes&~_,h.memoizedState=Pg,w):(_=E2(f,h,w.children,_),h.memoizedState=null,_)}return L?(w=C2(f,h,w.children,w.fallback,_),L=h.child,A=f.child.memoizedState,L.memoizedState=A===null?Rg(_):{baseLanes:A.baseLanes|_,cachePool:null},L.childLanes=f.childLanes&~_,h.memoizedState=Pg,w):(_=E2(f,h,w.children,_),h.memoizedState=null,_)}function z1(f,h){return h=Yg({mode:"visible",children:h},f.mode,0,null),h.return=f,f.child=h}function E2(f,h,_,w){var A=f.child;return f=A.sibling,_=Ma(A,{mode:"visible",children:_}),!(h.mode&1)&&(_.lanes=w),_.return=h,_.sibling=null,f!==null&&(w=h.deletions,w===null?(h.deletions=[f],h.flags|=16):w.push(f)),h.child=_}function C2(f,h,_,w,A){var L=h.mode;f=f.child;var $=f.sibling,Y={mode:"hidden",children:_};return!(L&1)&&h.child!==f?(_=h.child,_.childLanes=0,_.pendingProps=Y,h.deletions=null):(_=Ma(f,Y),_.subtreeFlags=f.subtreeFlags&14680064),$!==null?w=Ma($,w):(w=Fl(w,L,A,null),w.flags|=2),w.return=h,_.return=h,_.sibling=w,h.child=_,w}function Bg(f,h,_,w){return w!==null&&A1(w),ic(h,f.child,null,_),f=z1(h,h.pendingProps.children),f.flags|=2,h.memoizedState=null,f}function T2(f,h,_){f.lanes|=h;var w=f.alternate;w!==null&&(w.lanes|=h),v1(f.return,h,_)}function H1(f,h,_,w,A){var L=f.memoizedState;L===null?f.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:w,tail:_,tailMode:A}:(L.isBackwards=h,L.rendering=null,L.renderingStartTime=0,L.last=w,L.tail=_,L.tailMode=A)}function P2(f,h,_){var w=h.pendingProps,A=w.revealOrder,L=w.tail;if(Hr(f,h,w.children,_),w=Sn.current,w&2)w=w&1|2,h.flags|=128;else{if(f!==null&&f.flags&128)e:for(f=h.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&T2(f,_,h);else if(f.tag===19)T2(f,_,h);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===h)break e;for(;f.sibling===null;){if(f.return===null||f.return===h)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}w&=1}if(_t(Sn,w),!(h.mode&1))h.memoizedState=null;else switch(A){case"forwards":for(_=h.child,A=null;_!==null;)f=_.alternate,f!==null&&xg(f)===null&&(A=_),_=_.sibling;_=A,_===null?(A=h.child,h.child=null):(A=_.sibling,_.sibling=null),H1(h,!1,A,_,L);break;case"backwards":for(_=null,A=h.child,h.child=null;A!==null;){if(f=A.alternate,f!==null&&xg(f)===null){h.child=A;break}f=A.sibling,A.sibling=_,_=A,A=f}H1(h,!0,_,null,L);break;case"together":H1(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function To(f,h,_){if(f!==null&&(h.dependencies=f.dependencies),uc|=h.lanes,!(_&h.childLanes))return null;if(f!==null&&h.child!==f.child)throw Error(o(153));if(h.child!==null){for(f=h.child,_=Ma(f,f.pendingProps),h.child=_,_.return=h;f.sibling!==null;)f=f.sibling,_=_.sibling=Ma(f,f.pendingProps),_.return=h;_.sibling=null}return h.child}function A8(f,h,_){switch(h.tag){case 3:w2(h),rc();break;case 5:WT(h);break;case 1:gr(h.type)&&ig(h);break;case 4:E1(h,h.stateNode.containerInfo);break;case 10:RT(h,h.type._context,h.memoizedProps.value);break;case 13:var w=h.memoizedState;if(w!==null)return w.dehydrated!==null?(_t(Sn,Sn.current&1),h.flags|=128,null):_&h.child.childLanes?A2(f,h,_):(_t(Sn,Sn.current&1),f=To(f,h,_),f!==null?f.sibling:null);_t(Sn,Sn.current&1);break;case 19:if(w=(_&h.childLanes)!==0,f.flags&128){if(w)return P2(f,h,_);h.flags|=128}var A=h.memoizedState;if(A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),_t(Sn,Sn.current),w)break;return null;case 22:case 23:return h.lanes=0,_2(f,h,_)}return To(f,h,_)}function E8(f,h){switch(b1(h),h.tag){case 1:return gr(h.type)&&rg(),f=h.flags,f&65536?(h.flags=f&-65537|128,h):null;case 3:return oc(),Kt(Zt),Kt($n),P1(),f=h.flags,f&65536&&!(f&128)?(h.flags=f&-65537|128,h):null;case 5:return C1(h),null;case 13:if(Kt(Sn),f=h.memoizedState,f!==null&&f.dehydrated!==null){if(h.alternate===null)throw Error(o(340));rc()}return f=h.flags,f&65536?(h.flags=f&-65537|128,h):null;case 19:return Kt(Sn),null;case 4:return oc(),null;case 10:return g1(h.type._context),null;case 22:case 23:return s_(),null;case 24:return null;default:return null}}var Ig=!1,Bl=!1,C8=typeof WeakSet=="function"?WeakSet:Set,De=null;function Dg(f,h){var _=f.ref;if(_!==null)if(typeof _=="function")try{_(null)}catch(w){ri(f,h,w)}else _.current=null}function G1(f,h,_){try{_()}catch(w){ri(f,h,w)}}var R2=!1;function T8(f,h){for(J(f.containerInfo),De=h;De!==null;)if(f=De,h=f.child,(f.subtreeFlags&1028)!==0&&h!==null)h.return=f,De=h;else for(;De!==null;){f=De;try{var _=f.alternate;if(f.flags&1024)switch(f.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var w=_.memoizedProps,A=_.memoizedState,L=f.stateNode,$=L.getSnapshotBeforeUpdate(f.elementType===f.type?w:bs(f.type,w),A);L.__reactInternalSnapshotBeforeUpdate=$}break;case 3:Be&&ke(f.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(Y){ri(f,f.return,Y)}if(h=f.sibling,h!==null){h.return=f.return,De=h;break}De=f.return}return _=R2,R2=!1,_}function Il(f,h,_){var w=h.updateQueue;if(w=w!==null?w.lastEffect:null,w!==null){var A=w=w.next;do{if((A.tag&f)===f){var L=A.destroy;A.destroy=void 0,L!==void 0&&G1(h,_,L)}A=A.next}while(A!==w)}}function Zd(f,h){if(h=h.updateQueue,h=h!==null?h.lastEffect:null,h!==null){var _=h=h.next;do{if((_.tag&f)===f){var w=_.create;_.destroy=w()}_=_.next}while(_!==h)}}function $1(f){var h=f.ref;if(h!==null){var _=f.stateNode;switch(f.tag){case 5:f=Z(_);break;default:f=_}typeof h=="function"?h(f):h.current=f}}function B2(f,h,_){if(Xs&&typeof Xs.onCommitFiberUnmount=="function")try{Xs.onCommitFiberUnmount(lg,h)}catch{}switch(h.tag){case 0:case 11:case 14:case 15:if(f=h.updateQueue,f!==null&&(f=f.lastEffect,f!==null)){var w=f=f.next;do{var A=w,L=A.destroy;A=A.tag,L!==void 0&&(A&2||A&4)&&G1(h,_,L),w=w.next}while(w!==f)}break;case 1:if(Dg(h,_),f=h.stateNode,typeof f.componentWillUnmount=="function")try{f.props=h.memoizedProps,f.state=h.memoizedState,f.componentWillUnmount()}catch($){ri(h,_,$)}break;case 5:Dg(h,_);break;case 4:Be?k2(f,h,_):ye&&ye&&(h=h.stateNode.containerInfo,_=Qt(h),vs(h,_))}}function I2(f,h,_){for(var w=h;;)if(B2(f,w,_),w.child===null||Be&&w.tag===4){if(w===h)break;for(;w.sibling===null;){if(w.return===null||w.return===h)return;w=w.return}w.sibling.return=w.return,w=w.sibling}else w.child.return=w,w=w.child}function D2(f){var h=f.alternate;h!==null&&(f.alternate=null,D2(h)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(h=f.stateNode,h!==null&&qe(h)),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}function L2(f){return f.tag===5||f.tag===3||f.tag===4}function O2(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||L2(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&f.tag!==18;){if(f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function F2(f){if(Be){e:{for(var h=f.return;h!==null;){if(L2(h))break e;h=h.return}throw Error(o(160))}var _=h;switch(_.tag){case 5:h=_.stateNode,_.flags&32&&(Ft(h),_.flags&=-33),_=O2(f),W1(f,_,h);break;case 3:case 4:h=_.stateNode.containerInfo,_=O2(f),V1(f,_,h);break;default:throw Error(o(161))}}}function V1(f,h,_){var w=f.tag;if(w===5||w===6)f=f.stateNode,h?Ne(_,f,h):Oe(_,f);else if(w!==4&&(f=f.child,f!==null))for(V1(f,h,_),f=f.sibling;f!==null;)V1(f,h,_),f=f.sibling}function W1(f,h,_){var w=f.tag;if(w===5||w===6)f=f.stateNode,h?nt(_,f,h):tt(_,f);else if(w!==4&&(f=f.child,f!==null))for(W1(f,h,_),f=f.sibling;f!==null;)W1(f,h,_),f=f.sibling}function k2(f,h,_){for(var w=h,A=!1,L,$;;){if(!A){A=w.return;e:for(;;){if(A===null)throw Error(o(160));switch(L=A.stateNode,A.tag){case 5:$=!1;break e;case 3:L=L.containerInfo,$=!0;break e;case 4:L=L.containerInfo,$=!0;break e}A=A.return}A=!0}if(w.tag===5||w.tag===6)I2(f,w,_),$?bt(L,w.stateNode):je(L,w.stateNode);else if(w.tag===18)$?Bt(L,w.stateNode):Ct(L,w.stateNode);else if(w.tag===4){if(w.child!==null){L=w.stateNode.containerInfo,$=!0,w.child.return=w,w=w.child;continue}}else if(B2(f,w,_),w.child!==null){w.child.return=w,w=w.child;continue}if(w===h)break;for(;w.sibling===null;){if(w.return===null||w.return===h)return;w=w.return,w.tag===4&&(A=!1)}w.sibling.return=w.return,w=w.sibling}}function j1(f,h){if(Be){switch(h.tag){case 0:case 11:case 14:case 15:Il(3,h,h.return),Zd(3,h),Il(5,h,h.return);return;case 1:return;case 5:var _=h.stateNode;if(_!=null){var w=h.memoizedProps;f=f!==null?f.memoizedProps:w;var A=h.type,L=h.updateQueue;h.updateQueue=null,L!==null&&Xe(_,L,A,f,w,h)}return;case 6:if(h.stateNode===null)throw Error(o(162));_=h.memoizedProps,he(h.stateNode,f!==null?f.memoizedProps:_,_);return;case 3:ue&&f!==null&&f.memoizedState.isDehydrated&&xt(h.stateNode.containerInfo);return;case 12:return;case 13:Lg(h);return;case 19:Lg(h);return;case 17:return}throw Error(o(163))}switch(h.tag){case 0:case 11:case 14:case 15:Il(3,h,h.return),Zd(3,h),Il(5,h,h.return);return;case 12:return;case 13:Lg(h);return;case 19:Lg(h);return;case 3:ue&&f!==null&&f.memoizedState.isDehydrated&&xt(h.stateNode.containerInfo);break;case 22:case 23:return}e:if(ye){switch(h.tag){case 1:case 5:case 6:break e;case 3:case 4:h=h.stateNode,vs(h.containerInfo,h.pendingChildren);break e}throw Error(o(163))}}function Lg(f){var h=f.updateQueue;if(h!==null){f.updateQueue=null;var _=f.stateNode;_===null&&(_=f.stateNode=new C8),h.forEach(function(w){var A=N8.bind(null,f,w);_.has(w)||(_.add(w),w.then(A,A))})}}function P8(f,h){for(De=h;De!==null;){h=De;var _=h.deletions;if(_!==null)for(var w=0;w<_.length;w++){var A=_[w];try{var L=f;Be?k2(L,A,h):I2(L,A,h);var $=A.alternate;$!==null&&($.return=null),A.return=null}catch(Ye){ri(A,h,Ye)}}if(_=h.child,h.subtreeFlags&12854&&_!==null)_.return=h,De=_;else for(;De!==null;){h=De;try{var Y=h.flags;if(Y&32&&Be&&Ft(h.stateNode),Y&512){var de=h.alternate;if(de!==null){var Te=de.ref;Te!==null&&(typeof Te=="function"?Te(null):Te.current=null)}}if(Y&8192)switch(h.tag){case 13:if(h.memoizedState!==null){var ze=h.alternate;(ze===null||ze.memoizedState===null)&&(q1=sr())}break;case 22:var vt=h.memoizedState!==null,st=h.alternate,nn=st!==null&&st.memoizedState!==null;if(_=h,Be){e:if(w=_,A=vt,L=null,Be)for(var Ze=w;;){if(Ze.tag===5){if(L===null){L=Ze;var Cr=Ze.stateNode;A?cn(Cr):me(Ze.stateNode,Ze.memoizedProps)}}else if(Ze.tag===6){if(L===null){var Zi=Ze.stateNode;A?X(Zi):Ae(Zi,Ze.memoizedProps)}}else if((Ze.tag!==22&&Ze.tag!==23||Ze.memoizedState===null||Ze===w)&&Ze.child!==null){Ze.child.return=Ze,Ze=Ze.child;continue}if(Ze===w)break;for(;Ze.sibling===null;){if(Ze.return===null||Ze.return===w)break e;L===Ze&&(L=null),Ze=Ze.return}L===Ze&&(L=null),Ze.sibling.return=Ze.return,Ze=Ze.sibling}}if(vt&&!nn&&_.mode&1){De=_;for(var oe=_.child;oe!==null;){for(_=De=oe;De!==null;){w=De;var q=w.child;switch(w.tag){case 0:case 11:case 14:case 15:Il(4,w,w.return);break;case 1:Dg(w,w.return);var ce=w.stateNode;if(typeof ce.componentWillUnmount=="function"){var Fe=w.return;try{ce.props=w.memoizedProps,ce.state=w.memoizedState,ce.componentWillUnmount()}catch(Ye){ri(w,Fe,Ye)}}break;case 5:Dg(w,w.return);break;case 22:if(w.memoizedState!==null){z2(_);continue}}q!==null?(q.return=w,De=q):z2(_)}oe=oe.sibling}}}switch(Y&4102){case 2:F2(h),h.flags&=-3;break;case 6:F2(h),h.flags&=-3,j1(h.alternate,h);break;case 4096:h.flags&=-4097;break;case 4100:h.flags&=-4097,j1(h.alternate,h);break;case 4:j1(h.alternate,h)}}catch(Ye){ri(h,h.return,Ye)}if(_=h.sibling,_!==null){_.return=h.return,De=_;break}De=h.return}}}function R8(f,h,_){De=f,N2(f)}function N2(f,h,_){for(var w=(f.mode&1)!==0;De!==null;){var A=De,L=A.child;if(A.tag===22&&w){var $=A.memoizedState!==null||Ig;if(!$){var Y=A.alternate,de=Y!==null&&Y.memoizedState!==null||Bl;Y=Ig;var Te=Bl;if(Ig=$,(Bl=de)&&!Te)for(De=A;De!==null;)$=De,de=$.child,$.tag===22&&$.memoizedState!==null?H2(A):de!==null?(de.return=$,De=de):H2(A);for(;L!==null;)De=L,N2(L),L=L.sibling;De=A,Ig=Y,Bl=Te}U2(f)}else A.subtreeFlags&8772&&L!==null?(L.return=A,De=L):U2(f)}}function U2(f){for(;De!==null;){var h=De;if(h.flags&8772){var _=h.alternate;try{if(h.flags&8772)switch(h.tag){case 0:case 11:case 15:Bl||Zd(5,h);break;case 1:var w=h.stateNode;if(h.flags&4&&!Bl)if(_===null)w.componentDidMount();else{var A=h.elementType===h.type?_.memoizedProps:bs(h.type,_.memoizedProps);w.componentDidUpdate(A,_.memoizedState,w.__reactInternalSnapshotBeforeUpdate)}var L=h.updateQueue;L!==null&&DT(h,L,w);break;case 3:var $=h.updateQueue;if($!==null){if(_=null,h.child!==null)switch(h.child.tag){case 5:_=Z(h.child.stateNode);break;case 1:_=h.child.stateNode}DT(h,$,_)}break;case 5:var Y=h.stateNode;_===null&&h.flags&4&&Ge(Y,h.type,h.memoizedProps,h);break;case 6:break;case 4:break;case 12:break;case 13:if(ue&&h.memoizedState===null){var de=h.alternate;if(de!==null){var Te=de.memoizedState;if(Te!==null){var ze=Te.dehydrated;ze!==null&&Et(ze)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}Bl||h.flags&512&&$1(h)}catch(vt){ri(h,h.return,vt)}}if(h===f){De=null;break}if(_=h.sibling,_!==null){_.return=h.return,De=_;break}De=h.return}}function z2(f){for(;De!==null;){var h=De;if(h===f){De=null;break}var _=h.sibling;if(_!==null){_.return=h.return,De=_;break}De=h.return}}function H2(f){for(;De!==null;){var h=De;try{switch(h.tag){case 0:case 11:case 15:var _=h.return;try{Zd(4,h)}catch(de){ri(h,_,de)}break;case 1:var w=h.stateNode;if(typeof w.componentDidMount=="function"){var A=h.return;try{w.componentDidMount()}catch(de){ri(h,A,de)}}var L=h.return;try{$1(h)}catch(de){ri(h,L,de)}break;case 5:var $=h.return;try{$1(h)}catch(de){ri(h,$,de)}}}catch(de){ri(h,h.return,de)}if(h===f){De=null;break}var Y=h.sibling;if(Y!==null){Y.return=h.return,De=Y;break}De=h.return}}var Og=0,Fg=1,kg=2,Ng=3,Ug=4;if(typeof Symbol=="function"&&Symbol.for){var qd=Symbol.for;Og=qd("selector.component"),Fg=qd("selector.has_pseudo_class"),kg=qd("selector.role"),Ng=qd("selector.test_id"),Ug=qd("selector.text")}function J1(f){var h=xe(f);if(h!=null){if(typeof h.memoizedProps["data-testname"]!="string")throw Error(o(364));return h}if(f=St(f),f===null)throw Error(o(362));return f.stateNode.current}function K1(f,h){switch(h.$$typeof){case Og:if(f.type===h.value)return!0;break;case Fg:e:{h=h.value,f=[f,0];for(var _=0;_<f.length;){var w=f[_++],A=f[_++],L=h[A];if(w.tag!==5||!Q(w)){for(;L!=null&&K1(w,L);)A++,L=h[A];if(A===h.length){h=!0;break e}else for(w=w.child;w!==null;)f.push(w,A),w=w.sibling}}h=!1}return h;case kg:if(f.tag===5&&ve(f.stateNode,h.value))return!0;break;case Ug:if((f.tag===5||f.tag===6)&&(f=F(f),f!==null&&0<=f.indexOf(h.value)))return!0;break;case Ng:if(f.tag===5&&(f=f.memoizedProps["data-testname"],typeof f=="string"&&f.toLowerCase()===h.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function X1(f){switch(f.$$typeof){case Og:return"<"+(R(f.value)||"Unknown")+">";case Fg:return":has("+(X1(f)||"")+")";case kg:return'[role="'+f.value+'"]';case Ug:return'"'+f.value+'"';case Ng:return'[data-testname="'+f.value+'"]';default:throw Error(o(365))}}function G2(f,h){var _=[];f=[f,0];for(var w=0;w<f.length;){var A=f[w++],L=f[w++],$=h[L];if(A.tag!==5||!Q(A)){for(;$!=null&&K1(A,$);)L++,$=h[L];if(L===h.length)_.push(A);else for(A=A.child;A!==null;)f.push(A,L),A=A.sibling}}return _}function Y1(f,h){if(!at)throw Error(o(363));f=J1(f),f=G2(f,h),h=[],f=Array.from(f);for(var _=0;_<f.length;){var w=f[_++];if(w.tag===5)Q(w)||h.push(w.stateNode);else for(w=w.child;w!==null;)f.push(w),w=w.sibling}return h}var B8=Math.ceil,zg=a.ReactCurrentDispatcher,Q1=a.ReactCurrentOwner,Nn=a.ReactCurrentBatchConfig,Tt=0,Vn=null,Wn=null,vr=0,bi=0,lc=ei(0),Xn=0,eh=null,uc=0,Hg=0,Z1=0,th=null,ti=null,q1=0,e_=1/0;function cc(){e_=sr()+500}var Gg=!1,t_=null,_a=null,$g=!1,Sa=null,Vg=0,nh=0,n_=null,Wg=-1,jg=0;function Gr(){return Tt&6?sr():Wg!==-1?Wg:Wg=sr()}function ba(f){return f.mode&1?Tt&2&&vr!==0?vr&-vr:h8.transition!==null?(jg===0&&(f=sg,sg<<=1,!(sg&4194240)&&(sg=64),jg=f),jg):(f=$t,f!==0?f:Re()):1}function Yi(f,h,_){if(50<nh)throw nh=0,n_=null,Error(o(185));var w=Jg(f,h);return w===null?null:(Ud(w,h,_),(!(Tt&2)||w!==Vn)&&(w===Vn&&(!(Tt&2)&&(Hg|=h),Xn===4&&wa(w,vr)),ni(w,_),h===1&&Tt===0&&!(f.mode&1)&&(cc(),ug&&Qs())),w)}function Jg(f,h){f.lanes|=h;var _=f.alternate;for(_!==null&&(_.lanes|=h),_=f,f=f.return;f!==null;)f.childLanes|=h,_=f.alternate,_!==null&&(_.childLanes|=h),_=f,f=f.return;return _.tag===3?_.stateNode:null}function ni(f,h){var _=f.callbackNode;i8(f,h);var w=ag(f,f===Vn?vr:0);if(w===0)_!==null&&TT(_),f.callbackNode=null,f.callbackPriority=0;else if(h=w&-w,f.callbackPriority!==h){if(_!=null&&TT(_),h===1)f.tag===0?d8(V2.bind(null,f)):PT(V2.bind(null,f)),et?Ke(function(){Tt===0&&Qs()}):c1(f1,Qs),_=null;else{switch(CT(w)){case 1:_=f1;break;case 4:_=l8;break;case 16:_=d1;break;case 536870912:_=u8;break;default:_=d1}_=q2(_,$2.bind(null,f))}f.callbackPriority=h,f.callbackNode=_}}function $2(f,h){if(Wg=-1,jg=0,Tt&6)throw Error(o(327));var _=f.callbackNode;if(Ol()&&f.callbackNode!==_)return null;var w=ag(f,f===Vn?vr:0);if(w===0)return null;if(w&30||w&f.expiredLanes||h)h=Kg(f,w);else{h=w;var A=Tt;Tt|=2;var L=J2();(Vn!==f||vr!==h)&&(cc(),Dl(f,h));do try{L8();break}catch(Y){j2(f,Y)}while(1);m1(),zg.current=L,Tt=A,Wn!==null?h=0:(Vn=null,vr=0,h=Xn)}if(h!==0){if(h===2&&(A=a1(f),A!==0&&(w=A,h=r_(f,A))),h===1)throw _=eh,Dl(f,0),wa(f,w),ni(f,sr()),_;if(h===6)wa(f,w);else{if(A=f.current.alternate,!(w&30)&&!I8(A)&&(h=Kg(f,w),h===2&&(L=a1(f),L!==0&&(w=L,h=r_(f,L))),h===1))throw _=eh,Dl(f,0),wa(f,w),ni(f,sr()),_;switch(f.finishedWork=A,f.finishedLanes=w,h){case 0:case 1:throw Error(o(345));case 2:Ll(f,ti);break;case 3:if(wa(f,w),(w&130023424)===w&&(h=q1+500-sr(),10<h)){if(ag(f,0)!==0)break;if(A=f.suspendedLanes,(A&w)!==w){Gr(),f.pingedLanes|=f.suspendedLanes&A;break}f.timeoutHandle=ee(Ll.bind(null,f,ti),h);break}Ll(f,ti);break;case 4:if(wa(f,w),(w&4194240)===w)break;for(h=f.eventTimes,A=-1;0<w;){var $=31-Ss(w);L=1<<$,$=h[$],$>A&&(A=$),w&=~L}if(w=A,w=sr()-w,w=(120>w?120:480>w?480:1080>w?1080:1920>w?1920:3e3>w?3e3:4320>w?4320:1960*B8(w/1960))-w,10<w){f.timeoutHandle=ee(Ll.bind(null,f,ti),w);break}Ll(f,ti);break;case 5:Ll(f,ti);break;default:throw Error(o(329))}}}return ni(f,sr()),f.callbackNode===_?$2.bind(null,f):null}function r_(f,h){var _=th;return f.current.memoizedState.isDehydrated&&(Dl(f,h).flags|=256),f=Kg(f,h),f!==2&&(h=ti,ti=_,h!==null&&i_(h)),f}function i_(f){ti===null?ti=f:ti.push.apply(ti,f)}function I8(f){for(var h=f;;){if(h.flags&16384){var _=h.updateQueue;if(_!==null&&(_=_.stores,_!==null))for(var w=0;w<_.length;w++){var A=_[w],L=A.getSnapshot;A=A.value;try{if(!Ys(L(),A))return!1}catch{return!1}}}if(_=h.child,h.subtreeFlags&16384&&_!==null)_.return=h,h=_;else{if(h===f)break;for(;h.sibling===null;){if(h.return===null||h.return===f)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function wa(f,h){for(h&=~Z1,h&=~Hg,f.suspendedLanes|=h,f.pingedLanes&=~h,f=f.expirationTimes;0<h;){var _=31-Ss(h),w=1<<_;f[_]=-1,h&=~w}}function V2(f){if(Tt&6)throw Error(o(327));Ol();var h=ag(f,0);if(!(h&1))return ni(f,sr()),null;var _=Kg(f,h);if(f.tag!==0&&_===2){var w=a1(f);w!==0&&(h=w,_=r_(f,w))}if(_===1)throw _=eh,Dl(f,0),wa(f,h),ni(f,sr()),_;if(_===6)throw Error(o(345));return f.finishedWork=f.current.alternate,f.finishedLanes=h,Ll(f,ti),ni(f,sr()),null}function W2(f){Sa!==null&&Sa.tag===0&&!(Tt&6)&&Ol();var h=Tt;Tt|=1;var _=Nn.transition,w=$t;try{if(Nn.transition=null,$t=1,f)return f()}finally{$t=w,Nn.transition=_,Tt=h,!(Tt&6)&&Qs()}}function s_(){bi=lc.current,Kt(lc)}function Dl(f,h){f.finishedWork=null,f.finishedLanes=0;var _=f.timeoutHandle;if(_!==We&&(f.timeoutHandle=We,Ve(_)),Wn!==null)for(_=Wn.return;_!==null;){var w=_;switch(b1(w),w.tag){case 1:w=w.type.childContextTypes,w!=null&&rg();break;case 3:oc(),Kt(Zt),Kt($n),P1();break;case 5:C1(w);break;case 4:oc();break;case 13:Kt(Sn);break;case 19:Kt(Sn);break;case 10:g1(w.type._context);break;case 22:case 23:s_()}_=_.return}if(Vn=f,Wn=f=Ma(f.current,null),vr=bi=h,Xn=0,eh=null,Z1=Hg=uc=0,ti=th=null,Zs!==null){for(h=0;h<Zs.length;h++)if(_=Zs[h],w=_.interleaved,w!==null){_.interleaved=null;var A=w.next,L=_.pending;if(L!==null){var $=L.next;L.next=A,w.next=$}_.pending=w}Zs=null}return f}function j2(f,h){do{var _=Wn;try{if(m1(),_g.current=Eg,Sg){for(var w=Rn.memoizedState;w!==null;){var A=w.queue;A!==null&&(A.pending=null),w=w.next}Sg=!1}if(ac=0,or=Mr=Rn=null,Wd=!1,jd=0,Q1.current=null,_===null||_.return===null){Xn=1,eh=h,Wn=null;break}e:{var L=f,$=_.return,Y=_,de=h;if(h=vr,Y.flags|=32768,de!==null&&typeof de=="object"&&typeof de.then=="function"){var Te=de,ze=Y,vt=ze.tag;if(!(ze.mode&1)&&(vt===0||vt===11||vt===15)){var st=ze.alternate;st?(ze.updateQueue=st.updateQueue,ze.memoizedState=st.memoizedState,ze.lanes=st.lanes):(ze.updateQueue=null,ze.memoizedState=null)}var nn=h2($);if(nn!==null){nn.flags&=-257,p2(nn,$,Y,L,h),nn.mode&1&&d2(L,Te,h),h=nn,de=Te;var Ze=h.updateQueue;if(Ze===null){var Cr=new Set;Cr.add(de),h.updateQueue=Cr}else Ze.add(de);break e}else{if(!(h&1)){d2(L,Te,h),o_();break e}de=Error(o(426))}}else if(vn&&Y.mode&1){var Zi=h2($);if(Zi!==null){!(Zi.flags&65536)&&(Zi.flags|=256),p2(Zi,$,Y,L,h),A1(de);break e}}L=de,Xn!==4&&(Xn=2),th===null?th=[L]:th.push(L),de=F1(de,Y),Y=$;do{switch(Y.tag){case 3:Y.flags|=65536,h&=-h,Y.lanes|=h;var oe=c2(Y,de,h);IT(Y,oe);break e;case 1:L=de;var q=Y.type,ce=Y.stateNode;if(!(Y.flags&128)&&(typeof q.getDerivedStateFromError=="function"||ce!==null&&typeof ce.componentDidCatch=="function"&&(_a===null||!_a.has(ce)))){Y.flags|=65536,h&=-h,Y.lanes|=h;var Fe=f2(Y,L,h);IT(Y,Fe);break e}}Y=Y.return}while(Y!==null)}X2(_)}catch(Ye){h=Ye,Wn===_&&_!==null&&(Wn=_=_.return);continue}break}while(1)}function J2(){var f=zg.current;return zg.current=Eg,f===null?Eg:f}function o_(){(Xn===0||Xn===3||Xn===2)&&(Xn=4),Vn===null||!(uc&268435455)&&!(Hg&268435455)||wa(Vn,vr)}function Kg(f,h){var _=Tt;Tt|=2;var w=J2();Vn===f&&vr===h||Dl(f,h);do try{D8();break}catch(A){j2(f,A)}while(1);if(m1(),Tt=_,zg.current=w,Wn!==null)throw Error(o(261));return Vn=null,vr=0,Xn}function D8(){for(;Wn!==null;)K2(Wn)}function L8(){for(;Wn!==null&&!o8();)K2(Wn)}function K2(f){var h=Z2(f.alternate,f,bi);f.memoizedProps=f.pendingProps,h===null?X2(f):Wn=h,Q1.current=null}function X2(f){var h=f;do{var _=h.alternate;if(f=h.return,h.flags&32768){if(_=E8(_,h),_!==null){_.flags&=32767,Wn=_;return}if(f!==null)f.flags|=32768,f.subtreeFlags=0,f.deletions=null;else{Xn=6,Wn=null;return}}else if(_=w8(_,h,bi),_!==null){Wn=_;return}if(h=h.sibling,h!==null){Wn=h;return}Wn=h=f}while(h!==null);Xn===0&&(Xn=5)}function Ll(f,h){var _=$t,w=Nn.transition;try{Nn.transition=null,$t=1,O8(f,h,_)}finally{Nn.transition=w,$t=_}return null}function O8(f,h,_){do Ol();while(Sa!==null);if(Tt&6)throw Error(o(327));var w=f.finishedWork,A=f.finishedLanes;if(w===null)return null;if(f.finishedWork=null,f.finishedLanes=0,w===f.current)throw Error(o(177));f.callbackNode=null,f.callbackPriority=0;var L=w.lanes|w.childLanes;if(s8(f,L),f===Vn&&(Wn=Vn=null,vr=0),!(w.subtreeFlags&2064)&&!(w.flags&2064)||$g||($g=!0,q2(d1,function(){return Ol(),null})),L=(w.flags&15990)!==0,w.subtreeFlags&15990||L){L=Nn.transition,Nn.transition=null;var $=$t;$t=1;var Y=Tt;Tt|=4,Q1.current=null,T8(f,w),P8(f,w),K(f.containerInfo),f.current=w,R8(w),a8(),Tt=Y,$t=$,Nn.transition=L}else f.current=w;if($g&&($g=!1,Sa=f,Vg=A),L=f.pendingLanes,L===0&&(_a=null),c8(w.stateNode),ni(f,sr()),h!==null)for(_=f.onRecoverableError,w=0;w<h.length;w++)_(h[w]);if(Gg)throw Gg=!1,f=t_,t_=null,f;return Vg&1&&f.tag!==0&&Ol(),L=f.pendingLanes,L&1?f===n_?nh++:(nh=0,n_=f):nh=0,Qs(),null}function Ol(){if(Sa!==null){var f=CT(Vg),h=Nn.transition,_=$t;try{if(Nn.transition=null,$t=16>f?16:f,Sa===null)var w=!1;else{if(f=Sa,Sa=null,Vg=0,Tt&6)throw Error(o(331));var A=Tt;for(Tt|=4,De=f.current;De!==null;){var L=De,$=L.child;if(De.flags&16){var Y=L.deletions;if(Y!==null){for(var de=0;de<Y.length;de++){var Te=Y[de];for(De=Te;De!==null;){var ze=De;switch(ze.tag){case 0:case 11:case 15:Il(8,ze,L)}var vt=ze.child;if(vt!==null)vt.return=ze,De=vt;else for(;De!==null;){ze=De;var st=ze.sibling,nn=ze.return;if(D2(ze),ze===Te){De=null;break}if(st!==null){st.return=nn,De=st;break}De=nn}}}var Ze=L.alternate;if(Ze!==null){var Cr=Ze.child;if(Cr!==null){Ze.child=null;do{var Zi=Cr.sibling;Cr.sibling=null,Cr=Zi}while(Cr!==null)}}De=L}}if(L.subtreeFlags&2064&&$!==null)$.return=L,De=$;else e:for(;De!==null;){if(L=De,L.flags&2048)switch(L.tag){case 0:case 11:case 15:Il(9,L,L.return)}var oe=L.sibling;if(oe!==null){oe.return=L.return,De=oe;break e}De=L.return}}var q=f.current;for(De=q;De!==null;){$=De;var ce=$.child;if($.subtreeFlags&2064&&ce!==null)ce.return=$,De=ce;else e:for($=q;De!==null;){if(Y=De,Y.flags&2048)try{switch(Y.tag){case 0:case 11:case 15:Zd(9,Y)}}catch(Ye){ri(Y,Y.return,Ye)}if(Y===$){De=null;break e}var Fe=Y.sibling;if(Fe!==null){Fe.return=Y.return,De=Fe;break e}De=Y.return}}if(Tt=A,Qs(),Xs&&typeof Xs.onPostCommitFiberRoot=="function")try{Xs.onPostCommitFiberRoot(lg,f)}catch{}w=!0}return w}finally{$t=_,Nn.transition=h}}return!1}function Y2(f,h,_){h=F1(_,h),h=c2(f,h,1),xa(f,h),h=Gr(),f=Jg(f,1),f!==null&&(Ud(f,1,h),ni(f,h))}function ri(f,h,_){if(f.tag===3)Y2(f,f,_);else for(;h!==null;){if(h.tag===3){Y2(h,f,_);break}else if(h.tag===1){var w=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(_a===null||!_a.has(w))){f=F1(_,f),f=f2(h,f,1),xa(h,f),f=Gr(),h=Jg(h,1),h!==null&&(Ud(h,1,f),ni(h,f));break}}h=h.return}}function F8(f,h,_){var w=f.pingCache;w!==null&&w.delete(h),h=Gr(),f.pingedLanes|=f.suspendedLanes&_,Vn===f&&(vr&_)===_&&(Xn===4||Xn===3&&(vr&130023424)===vr&&500>sr()-q1?Dl(f,0):Z1|=_),ni(f,h)}function Q2(f,h){h===0&&(f.mode&1?(h=og,og<<=1,!(og&130023424)&&(og=4194304)):h=1);var _=Gr();f=Jg(f,h),f!==null&&(Ud(f,h,_),ni(f,_))}function k8(f){var h=f.memoizedState,_=0;h!==null&&(_=h.retryLane),Q2(f,_)}function N8(f,h){var _=0;switch(f.tag){case 13:var w=f.stateNode,A=f.memoizedState;A!==null&&(_=A.retryLane);break;case 19:w=f.stateNode;break;default:throw Error(o(314))}w!==null&&w.delete(h),Q2(f,_)}var Z2;Z2=function(f,h,_){if(f!==null)if(f.memoizedProps!==h.pendingProps||Zt.current)Si=!0;else{if(!(f.lanes&_)&&!(h.flags&128))return Si=!1,A8(f,h,_);Si=!!(f.flags&131072)}else Si=!1,vn&&h.flags&1048576&&NT(h,vg,h.index);switch(h.lanes=0,h.tag){case 2:var w=h.type;f!==null&&(f.alternate=null,h.alternate=null,h.flags|=2),f=h.pendingProps;var A=va(h,$n.current);ec(h,_),A=B1(null,h,w,f,A,_);var L=I1();return h.flags|=1,typeof A=="object"&&A!==null&&typeof A.render=="function"&&A.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,gr(w)?(L=!0,ig(h)):L=!1,h.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,y1(h),A.updater=mg,h.stateNode=A,A._reactInternals=h,_1(h,w,f,_),h=U1(null,h,w,!0,L,_)):(h.tag=0,vn&&L&&S1(h),Hr(null,h,A,_),h=h.child),h;case 16:w=h.elementType;e:{switch(f!==null&&(f.alternate=null,h.alternate=null,h.flags|=2),f=h.pendingProps,A=w._init,w=A(w._payload),h.type=w,A=h.tag=z8(w),f=bs(w,f),A){case 0:h=N1(null,h,w,f,_);break e;case 1:h=b2(null,h,w,f,_);break e;case 11:h=v2(null,h,w,f,_);break e;case 14:h=y2(null,h,w,bs(w.type,f),_);break e}throw Error(o(306,w,""))}return h;case 0:return w=h.type,A=h.pendingProps,A=h.elementType===w?A:bs(w,A),N1(f,h,w,A,_);case 1:return w=h.type,A=h.pendingProps,A=h.elementType===w?A:bs(w,A),b2(f,h,w,A,_);case 3:e:{if(w2(h),f===null)throw Error(o(387));w=h.pendingProps,L=h.memoizedState,A=L.element,BT(f,h),pg(h,w,null,_);var $=h.memoizedState;if(w=$.element,ue&&L.isDehydrated)if(L={element:w,isDehydrated:!1,cache:$.cache,transitions:$.transitions},h.updateQueue.baseState=L,h.memoizedState=L,h.flags&256){A=Error(o(423)),h=M2(f,h,w,_,A);break e}else if(w!==A){A=Error(o(424)),h=M2(f,h,w,_,A);break e}else for(ue&&(_i=pe(h.stateNode.containerInfo),xi=h,vn=!0,ws=null,zd=!1),_=VT(h,null,w,_),h.child=_;_;)_.flags=_.flags&-3|4096,_=_.sibling;else{if(rc(),w===A){h=To(f,h,_);break e}Hr(f,h,w,_)}h=h.child}return h;case 5:return WT(h),f===null&&M1(h),w=h.type,A=h.pendingProps,L=f!==null?f.memoizedProps:null,$=A.children,Me(w,A)?$=null:L!==null&&Me(w,L)&&(h.flags|=32),S2(f,h),Hr(f,h,$,_),h.child;case 6:return f===null&&M1(h),null;case 13:return A2(f,h,_);case 4:return E1(h,h.stateNode.containerInfo),w=h.pendingProps,f===null?h.child=ic(h,null,w,_):Hr(f,h,w,_),h.child;case 11:return w=h.type,A=h.pendingProps,A=h.elementType===w?A:bs(w,A),v2(f,h,w,A,_);case 7:return Hr(f,h,h.pendingProps,_),h.child;case 8:return Hr(f,h,h.pendingProps.children,_),h.child;case 12:return Hr(f,h,h.pendingProps.children,_),h.child;case 10:e:{if(w=h.type._context,A=h.pendingProps,L=h.memoizedProps,$=A.value,RT(h,w,$),L!==null)if(Ys(L.value,$)){if(L.children===A.children&&!Zt.current){h=To(f,h,_);break e}}else for(L=h.child,L!==null&&(L.return=h);L!==null;){var Y=L.dependencies;if(Y!==null){$=L.child;for(var de=Y.firstContext;de!==null;){if(de.context===w){if(L.tag===1){de=Mo(-1,_&-_),de.tag=2;var Te=L.updateQueue;if(Te!==null){Te=Te.shared;var ze=Te.pending;ze===null?de.next=de:(de.next=ze.next,ze.next=de),Te.pending=de}}L.lanes|=_,de=L.alternate,de!==null&&(de.lanes|=_),v1(L.return,_,h),Y.lanes|=_;break}de=de.next}}else if(L.tag===10)$=L.type===h.type?null:L.child;else if(L.tag===18){if($=L.return,$===null)throw Error(o(341));$.lanes|=_,Y=$.alternate,Y!==null&&(Y.lanes|=_),v1($,_,h),$=L.sibling}else $=L.child;if($!==null)$.return=L;else for($=L;$!==null;){if($===h){$=null;break}if(L=$.sibling,L!==null){L.return=$.return,$=L;break}$=$.return}L=$}Hr(f,h,A.children,_),h=h.child}return h;case 9:return A=h.type,w=h.pendingProps.children,ec(h,_),A=Wi(A),w=w(A),h.flags|=1,Hr(f,h,w,_),h.child;case 14:return w=h.type,A=bs(w,h.pendingProps),A=bs(w.type,A),y2(f,h,w,A,_);case 15:return x2(f,h,h.type,h.pendingProps,_);case 17:return w=h.type,A=h.pendingProps,A=h.elementType===w?A:bs(w,A),f!==null&&(f.alternate=null,h.alternate=null,h.flags|=2),h.tag=1,gr(w)?(f=!0,ig(h)):f=!1,ec(h,_),FT(h,w,A),_1(h,w,A,_),U1(null,h,w,!0,f,_);case 19:return P2(f,h,_);case 22:return _2(f,h,_)}throw Error(o(156,h.tag))};function q2(f,h){return c1(f,h)}function U8(f,h,_,w){this.tag=f,this.key=_,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qi(f,h,_,w){return new U8(f,h,_,w)}function a_(f){return f=f.prototype,!(!f||!f.isReactComponent)}function z8(f){if(typeof f=="function")return a_(f)?1:0;if(f!=null){if(f=f.$$typeof,f===y)return 11;if(f===b)return 14}return 2}function Ma(f,h){var _=f.alternate;return _===null?(_=Qi(f.tag,h,f.key,f.mode),_.elementType=f.elementType,_.type=f.type,_.stateNode=f.stateNode,_.alternate=f,f.alternate=_):(_.pendingProps=h,_.type=f.type,_.flags=0,_.subtreeFlags=0,_.deletions=null),_.flags=f.flags&14680064,_.childLanes=f.childLanes,_.lanes=f.lanes,_.child=f.child,_.memoizedProps=f.memoizedProps,_.memoizedState=f.memoizedState,_.updateQueue=f.updateQueue,h=f.dependencies,_.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},_.sibling=f.sibling,_.index=f.index,_.ref=f.ref,_}function Xg(f,h,_,w,A,L){var $=2;if(w=f,typeof f=="function")a_(f)&&($=1);else if(typeof f=="string")$=5;else e:switch(f){case c:return Fl(_.children,A,L,h);case d:$=8,A|=8;break;case p:return f=Qi(12,_,h,A|2),f.elementType=p,f.lanes=L,f;case x:return f=Qi(13,_,h,A),f.elementType=x,f.lanes=L,f;case g:return f=Qi(19,_,h,A),f.elementType=g,f.lanes=L,f;case M:return Yg(_,A,L,h);default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case m:$=10;break e;case v:$=9;break e;case y:$=11;break e;case b:$=14;break e;case S:$=16,w=null;break e}throw Error(o(130,f==null?f:typeof f,""))}return h=Qi($,_,h,A),h.elementType=f,h.type=w,h.lanes=L,h}function Fl(f,h,_,w){return f=Qi(7,f,w,h),f.lanes=_,f}function Yg(f,h,_,w){return f=Qi(22,f,w,h),f.elementType=M,f.lanes=_,f.stateNode={},f}function l_(f,h,_){return f=Qi(6,f,null,h),f.lanes=_,f}function u_(f,h,_){return h=Qi(4,f.children!==null?f.children:[],f.key,h),h.lanes=_,h.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},h}function H8(f,h,_,w,A){this.tag=h,this.containerInfo=f,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=We,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=l1(0),this.expirationTimes=l1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=l1(0),this.identifierPrefix=w,this.onRecoverableError=A,ue&&(this.mutableSourceEagerHydrationData=null)}function eP(f,h,_,w,A,L,$,Y,de){return f=new H8(f,h,_,Y,de),h===1?(h=1,L===!0&&(h|=8)):h=0,L=Qi(3,null,null,h),f.current=L,L.stateNode=f,L.memoizedState={element:w,isDehydrated:_,cache:null,transitions:null},y1(L),f}function tP(f){if(!f)return wr;f=f._reactInternals;e:{if(P(f)!==f||f.tag!==1)throw Error(o(170));var h=f;do{switch(h.tag){case 3:h=h.stateNode.context;break e;case 1:if(gr(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break e}}h=h.return}while(h!==null);throw Error(o(171))}if(f.tag===1){var _=f.type;if(gr(_))return AT(f,_,h)}return h}function nP(f){var h=f._reactInternals;if(h===void 0)throw typeof f.render=="function"?Error(o(188)):(f=Object.keys(f).join(","),Error(o(268,f)));return f=H(h),f===null?null:f.stateNode}function rP(f,h){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var _=f.retryLane;f.retryLane=_!==0&&_<h?_:h}}function c_(f,h){rP(f,h),(f=f.alternate)&&rP(f,h)}function G8(f){return f=H(f),f===null?null:f.stateNode}function $8(){return null}return n.attemptContinuousHydration=function(f){if(f.tag===13){var h=Gr();Yi(f,134217728,h),c_(f,134217728)}},n.attemptHydrationAtCurrentPriority=function(f){if(f.tag===13){var h=Gr(),_=ba(f);Yi(f,_,h),c_(f,_)}},n.attemptSynchronousHydration=function(f){switch(f.tag){case 3:var h=f.stateNode;if(h.current.memoizedState.isDehydrated){var _=Nd(h.pendingLanes);_!==0&&(u1(h,_|1),ni(h,sr()),!(Tt&6)&&(cc(),Qs()))}break;case 13:var w=Gr();W2(function(){return Yi(f,1,w)}),c_(f,1)}},n.batchedUpdates=function(f,h){var _=Tt;Tt|=1;try{return f(h)}finally{Tt=_,Tt===0&&(cc(),ug&&Qs())}},n.createComponentSelector=function(f){return{$$typeof:Og,value:f}},n.createContainer=function(f,h,_,w,A,L,$){return eP(f,h,!1,null,_,w,A,L,$)},n.createHasPseudoClassSelector=function(f){return{$$typeof:Fg,value:f}},n.createHydrationContainer=function(f,h,_,w,A,L,$,Y,de){return f=eP(_,w,!0,f,A,L,$,Y,de),f.context=tP(null),_=f.current,w=Gr(),A=ba(_),L=Mo(w,A),L.callback=h??null,xa(_,L),f.current.lanes=A,Ud(f,A,w),ni(f,w),f},n.createPortal=function(f,h,_){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:w==null?null:""+w,children:f,containerInfo:h,implementation:_}},n.createRoleSelector=function(f){return{$$typeof:kg,value:f}},n.createTestNameSelector=function(f){return{$$typeof:Ng,value:f}},n.createTextSelector=function(f){return{$$typeof:Ug,value:f}},n.deferredUpdates=function(f){var h=$t,_=Nn.transition;try{return Nn.transition=null,$t=16,f()}finally{$t=h,Nn.transition=_}},n.discreteUpdates=function(f,h,_,w,A){var L=$t,$=Nn.transition;try{return Nn.transition=null,$t=1,f(h,_,w,A)}finally{$t=L,Nn.transition=$,Tt===0&&cc()}},n.findAllNodes=Y1,n.findBoundingRects=function(f,h){if(!at)throw Error(o(363));h=Y1(f,h),f=[];for(var _=0;_<h.length;_++)f.push(k(h[_]));for(h=f.length-1;0<h;h--){_=f[h];for(var w=_.x,A=w+_.width,L=_.y,$=L+_.height,Y=h-1;0<=Y;Y--)if(h!==Y){var de=f[Y],Te=de.x,ze=Te+de.width,vt=de.y,st=vt+de.height;if(w>=Te&&L>=vt&&A<=ze&&$<=st){f.splice(h,1);break}else if(w!==Te||_.width!==de.width||st<L||vt>$){if(!(L!==vt||_.height!==de.height||ze<w||Te>A)){Te>w&&(de.width+=Te-w,de.x=w),ze<A&&(de.width=A-Te),f.splice(h,1);break}}else{vt>L&&(de.height+=vt-L,de.y=L),st<$&&(de.height=$-vt),f.splice(h,1);break}}}return f},n.findHostInstance=nP,n.findHostInstanceWithNoPortals=function(f){return f=O(f),f=f!==null?V(f):null,f===null?null:f.stateNode},n.findHostInstanceWithWarning=function(f){return nP(f)},n.flushControlled=function(f){var h=Tt;Tt|=1;var _=Nn.transition,w=$t;try{Nn.transition=null,$t=1,f()}finally{$t=w,Nn.transition=_,Tt=h,Tt===0&&(cc(),Qs())}},n.flushPassiveEffects=Ol,n.flushSync=W2,n.focusWithin=function(f,h){if(!at)throw Error(o(363));for(f=J1(f),h=G2(f,h),h=Array.from(h),f=0;f<h.length;){var _=h[f++];if(!Q(_)){if(_.tag===5&&_e(_.stateNode))return!0;for(_=_.child;_!==null;)h.push(_),_=_.sibling}}return!1},n.getCurrentUpdatePriority=function(){return $t},n.getFindAllNodesFailureDescription=function(f,h){if(!at)throw Error(o(363));var _=0,w=[];f=[J1(f),0];for(var A=0;A<f.length;){var L=f[A++],$=f[A++],Y=h[$];if((L.tag!==5||!Q(L))&&(K1(L,Y)&&(w.push(X1(Y)),$++,$>_&&(_=$)),$<h.length))for(L=L.child;L!==null;)f.push(L,$),L=L.sibling}if(_<h.length){for(f=[];_<h.length;_++)f.push(X1(h[_]));return`findAllNodes was able to match part of the selector:
  `+(w.join(" > ")+`

No matching component was found for:
  `)+f.join(" > ")}return null},n.getPublicRootInstance=function(f){if(f=f.current,!f.child)return null;switch(f.child.tag){case 5:return Z(f.child.stateNode);default:return f.child.stateNode}},n.injectIntoDevTools=function(f){if(f={bundleType:f.bundleType,version:f.version,rendererPackageName:f.rendererPackageName,rendererConfig:f.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:G8,findFiberByHostInstance:f.findFiberByHostInstance||$8,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")f=!1;else{var h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(h.isDisabled||!h.supportsFiber)f=!0;else{try{lg=h.inject(f),Xs=h}catch{}f=!!h.checkDCE}}return f},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(f,h,_,w){if(!at)throw Error(o(363));f=Y1(f,h);var A=Pe(f,_,w).disconnect;return{disconnect:function(){A()}}},n.registerMutableSourceForHydration=function(f,h){var _=h._getVersion;_=_(h._source),f.mutableSourceEagerHydrationData==null?f.mutableSourceEagerHydrationData=[h,_]:f.mutableSourceEagerHydrationData.push(h,_)},n.runWithPriority=function(f,h){var _=$t;try{return $t=f,h()}finally{$t=_}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(f,h,_,w){var A=h.current,L=Gr(),$=ba(A);return _=tP(_),h.context===null?h.context=_:h.pendingContext=_,h=Mo(L,$),h.payload={element:f},w=w===void 0?null:w,w!==null&&(h.callback=w),xa(A,h),f=Yi(A,$,L),f!==null&&hg(f,A,$),$},n};(function(t){t.exports=AY})(wY);const EY=Xy($w);function lU(t,e,n=(r,i)=>r===i){if(t===e)return!0;if(!t||!e)return!1;const r=t.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!n(t[i],e[i]))return!1;return!0}const $o=[];function uU(t,e,n=!1,r={}){for(const s of $o)if(lU(e,s.keys,s.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return s.response;if(!n)throw s.promise}const i={keys:e,equal:r.equal,promise:t(...e).then(s=>i.response=s).then(()=>{r.lifespan&&r.lifespan>0&&setTimeout(()=>{const s=$o.indexOf(i);s!==-1&&$o.splice(s,1)},r.lifespan)}).catch(s=>i.error=s)};if($o.push(i),!n)throw i.promise}const CY=(t,e,n)=>uU(t,e,!1,n),TY=(t,e,n)=>void uU(t,e,!0,n),PY=t=>{if(t===void 0||t.length===0)$o.splice(0,$o.length);else{const e=$o.find(n=>lU(t,n.keys,n.equal));if(e){const n=$o.indexOf(e);n!==-1&&$o.splice(n,1)}}},kE={},cU=t=>void Object.assign(kE,t);function RY(t,e){function n(c,{args:d=[],attach:p,...m},v){let y=`${c[0].toUpperCase()}${c.slice(1)}`,x;if(c==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const g=m.object;x=Gc(g,{type:c,root:v,attach:p,primitive:!0})}else{const g=kE[y];if(!g)throw new Error(`R3F: ${y} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(d))throw new Error("R3F: The args prop must be an array!");x=Gc(new g(...d),{type:c,root:v,attach:p,memoizedProps:{args:d}})}return x.__r3f.attach===void 0&&(x instanceof gt?x.__r3f.attach="geometry":x instanceof On&&(x.__r3f.attach="material")),y!=="inject"&&mS(x,m),x}function r(c,d){let p=!1;if(d){var m,v;(m=d.__r3f)!=null&&m.attach?pS(c,d,d.__r3f.attach):d.isObject3D&&c.isObject3D&&(c.add(d),p=!0),p||(v=c.__r3f)==null||v.objects.push(d),d.__r3f||Gc(d,{}),d.__r3f.parent=c,Ww(d),$c(d)}}function i(c,d,p){let m=!1;if(d){var v,y;if((v=d.__r3f)!=null&&v.attach)pS(c,d,d.__r3f.attach);else if(d.isObject3D&&c.isObject3D){d.parent=c,d.dispatchEvent({type:"added"});const x=c.children.filter(b=>b!==d),g=x.indexOf(p);c.children=[...x.slice(0,g),d,...x.slice(g)],m=!0}m||(y=c.__r3f)==null||y.objects.push(d),d.__r3f||Gc(d,{}),d.__r3f.parent=c,Ww(d),$c(d)}}function s(c,d,p=!1){c&&[...c].forEach(m=>o(d,m,p))}function o(c,d,p){if(d){var m,v,y;if(d.__r3f&&(d.__r3f.parent=null),(m=c.__r3f)!=null&&m.objects&&(c.__r3f.objects=c.__r3f.objects.filter(M=>M!==d)),(v=d.__r3f)!=null&&v.attach)G3(c,d,d.__r3f.attach);else if(d.isObject3D&&c.isObject3D){var x;c.remove(d),(x=d.__r3f)!=null&&x.root&&kY(d.__r3f.root,d)}const b=(y=d.__r3f)==null?void 0:y.primitive,S=p===void 0?d.dispose!==null&&!b:p;if(!b){var g;s((g=d.__r3f)==null?void 0:g.objects,d,S),s(d.children,d,S)}d.__r3f&&(delete d.__r3f.root,delete d.__r3f.objects,delete d.__r3f.handlers,delete d.__r3f.memoizedProps,b||delete d.__r3f),S&&d.dispose&&d.type!=="Scene"&&Zp.unstable_scheduleCallback(Zp.unstable_IdlePriority,()=>{try{d.dispose()}catch{}}),$c(c)}}function a(c,d,p,m){var v;const y=(v=c.__r3f)==null?void 0:v.parent;if(!y)return;const x=n(d,p,c.__r3f.root);if(c.children){for(const g of c.children)g.__r3f&&r(x,g);c.children=c.children.filter(g=>!g.__r3f)}c.__r3f.objects.forEach(g=>r(x,g)),c.__r3f.objects=[],c.__r3f.autoRemovedBeforeAppend||o(y,c),x.parent&&(x.__r3f.autoRemovedBeforeAppend=!0),r(y,x),x.raycast&&x.__r3f.eventCount&&x.__r3f.root.getState().internal.interaction.push(x),[m,m.alternate].forEach(g=>{g!==null&&(g.stateNode=x,g.ref&&(typeof g.ref=="function"?g.ref(x):g.ref.current=x))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:EY({createInstance:n,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(c,d)=>{if(!d)return;const p=c.getState().scene;p.__r3f&&(p.__r3f.root=c,r(p,d))},removeChildFromContainer:(c,d)=>{d&&o(c.getState().scene,d)},insertInContainerBefore:(c,d,p)=>{if(!d||!p)return;const m=c.getState().scene;m.__r3f&&i(m,d,p)},getRootHostContext:()=>null,getChildHostContext:c=>c,finalizeInitialChildren(c){var d;return!!((d=c==null?void 0:c.__r3f)!=null?d:{}).handlers},prepareUpdate(c,d,p,m){if(c.__r3f.primitive&&m.object&&m.object!==c)return[!0];{const{args:v=[],children:y,...x}=m,{args:g=[],children:b,...S}=p;if(!Array.isArray(v))throw new Error("R3F: the args prop must be an array!");if(v.some((C,E)=>C!==g[E]))return[!0];const M=vU(c,x,S,!0);return M.changes.length?[!1,M]:null}},commitUpdate(c,[d,p],m,v,y,x){d?a(c,m,y,x):mS(c,p)},commitMount(c,d,p,m){var v;const y=(v=c.__r3f)!=null?v:{};c.raycast&&y.handlers&&y.eventCount&&c.__r3f.root.getState().internal.interaction.push(c)},getPublicInstance:c=>c,prepareForCommit:()=>null,preparePortalMount:c=>Gc(c.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(c){var d;const{attach:p,parent:m}=(d=c.__r3f)!=null?d:{};p&&m&&G3(m,c,p),c.isObject3D&&(c.visible=!1),$c(c)},unhideInstance(c,d){var p;const{attach:m,parent:v}=(p=c.__r3f)!=null?p:{};m&&v&&pS(v,c,m),(c.isObject3D&&d.visible==null||d.visible)&&(c.visible=!0),$c(c)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():ja.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&pn.fun(performance.now)?performance.now:pn.fun(Date.now)?Date.now:()=>0,scheduleTimeout:pn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:pn.fun(clearTimeout)?clearTimeout:void 0}),applyProps:mS}}var N3,U3;const fU=()=>{var t;return(t=kE.ColorManagement)!=null?t:null},dU=t=>t&&t.isOrthographicCamera,BY=t=>t&&t.hasOwnProperty("current"),Im=typeof window<"u"&&((N3=window.document)!=null&&N3.createElement||((U3=window.navigator)==null?void 0:U3.product)==="ReactNative")?T.useLayoutEffect:T.useEffect;function hU(t){const e=T.useRef(t);return Im(()=>void(e.current=t),[t]),e}function IY({set:t}){return Im(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class pU extends T.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}pU.getDerivedStateFromError=()=>({error:!0});const mU="__default",z3=new Map,DY=t=>t&&!!t.memoized&&!!t.changes;function gU(t){const e=typeof window<"u"?window.devicePixelRatio:1;return Array.isArray(t)?Math.min(Math.max(t[0],e),t[1]):t}const Sh=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()},pn={obj:t=>t===Object(t)&&!pn.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(pn.str(t)||pn.num(t))return t===e;const s=pn.obj(t);if(s&&r==="reference")return t===e;const o=pn.arr(t);if(o&&n==="reference")return t===e;if((o||s)&&t===e)return!0;let a;for(a in t)if(!(a in e))return!1;if(s&&n==="shallow"&&r==="shallow"){for(a in i?e:t)if(!pn.equ(t[a],e[a],{strict:i,objects:"reference"}))return!1}else for(a in i?e:t)if(t[a]!==e[a])return!1;if(pn.und(a)){if(o&&t.length===0&&e.length===0||s&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function LY(t){const e={nodes:{},materials:{}};return t&&t.traverse(n=>{n.name&&(e.nodes[n.name]=n),n.material&&!e.materials[n.material.name]&&(e.materials[n.material.name]=n.material)}),e}function OY(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function Gc(t,e){const n=t;return(e!=null&&e.primitive||!n.__r3f)&&(n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e}),t}function Vw(t,e){let n=t;if(e.includes("-")){const r=e.split("-"),i=r.pop();return n=r.reduce((s,o)=>s[o],t),{target:n,key:i}}else return{target:n,key:e}}const H3=/-\d+$/;function pS(t,e,n){if(pn.str(n)){if(H3.test(n)){const s=n.replace(H3,""),{target:o,key:a}=Vw(t,s);Array.isArray(o[a])||(o[a]=[])}const{target:r,key:i}=Vw(t,n);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=n(t,e)}function G3(t,e,n){var r,i;if(pn.str(n)){const{target:s,key:o}=Vw(t,n),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(t,e);(i=e.__r3f)==null||delete i.previousAttach}function vU(t,{children:e,key:n,ref:r,...i},{children:s,key:o,ref:a,...l}={},u=!1){var c;const d=(c=t==null?void 0:t.__r3f)!=null?c:{},p=Object.entries(i),m=[];if(u){const y=Object.keys(l);for(let x=0;x<y.length;x++)i.hasOwnProperty(y[x])||p.unshift([y[x],mU+"remove"])}p.forEach(([y,x])=>{var g;if((g=t.__r3f)!=null&&g.primitive&&y==="object"||pn.equ(x,l[y]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(y))return m.push([y,x,!0,[]]);let b=[];y.includes("-")&&(b=y.split("-")),m.push([y,x,!1,b]);for(const S in i){const M=i[S];S.startsWith(`${y}-`)&&m.push([S,M,!1,S.split("-")])}});const v={...i};return d.memoizedProps&&d.memoizedProps.args&&(v.args=d.memoizedProps.args),d.memoizedProps&&d.memoizedProps.attach&&(v.attach=d.memoizedProps.attach),{memoized:v,changes:m}}function mS(t,e){var n,r,i;const s=(n=t.__r3f)!=null?n:{},o=s.root,a=(r=o==null||o.getState==null?void 0:o.getState())!=null?r:{},{memoized:l,changes:u}=DY(e)?e:vU(t,e),c=s.eventCount;t.__r3f&&(t.__r3f.memoizedProps=l);for(let p=0;p<u.length;p++){let[m,v,y,x]=u[p],g=t,b=g[m];if(x.length&&(b=x.reduce((S,M)=>S[M],t),!(b&&b.set))){const[S,...M]=x.reverse();g=M.reverse().reduce((C,E)=>C[E],t),m=S}if(v===mU+"remove")if(g.constructor){let S=z3.get(g.constructor);S||(S=new g.constructor,z3.set(g.constructor,S)),v=S[m]}else v=0;if(y)v?s.handlers[m]=v:delete s.handlers[m],s.eventCount=Object.keys(s.handlers).length;else if(b&&b.set&&(b.copy||b instanceof xu)){if(Array.isArray(v))b.fromArray?b.fromArray(v):b.set(...v);else if(b.copy&&v&&v.constructor&&b.constructor===v.constructor)b.copy(v);else if(v!==void 0){const S=b instanceof Ce;!S&&b.setScalar?b.setScalar(v):b instanceof xu&&v instanceof xu?b.mask=v.mask:b.set(v),!fU()&&!a.linear&&S&&b.convertSRGBToLinear()}}else g[m]=v,!a.linear&&g[m]instanceof ln&&g[m].format===_r&&g[m].type===er&&(g[m].encoding=lt);$c(t)}if(s.parent&&a.internal&&t.raycast&&c!==s.eventCount){const p=a.internal.interaction.indexOf(t);p>-1&&a.internal.interaction.splice(p,1),s.eventCount&&a.internal.interaction.push(t)}return!(u.length===1&&u[0][0]==="onUpdate")&&u.length&&(i=t.__r3f)!=null&&i.parent&&Ww(t),t}function $c(t){var e,n;const r=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();r&&r.internal.frames===0&&r.invalidate()}function Ww(t){t.onUpdate==null||t.onUpdate(t)}function yU(t,e){t.manual||(dU(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function nv(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function FY(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return ja.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return ja.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return ja.ContinuousEventPriority;default:return ja.DefaultEventPriority}}function xU(t,e,n,r){const i=n.get(e);i&&(n.delete(e),n.size===0&&(t.delete(r),i.target.releasePointerCapture(r)))}function kY(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(i)}),n.capturedMap.forEach((r,i)=>{xU(n.capturedMap,e,r,i)})}function NY(t){function e(l){const{internal:u}=t.getState(),c=l.offsetX-u.initialClick[0],d=l.offsetY-u.initialClick[1];return Math.round(Math.sqrt(c*c+d*d))}function n(l){return l.filter(u=>["Move","Over","Enter","Out","Leave"].some(c=>{var d;return(d=u.__r3f)==null?void 0:d.handlers["onPointer"+c]}))}function r(l,u){const c=t.getState(),d=new Set,p=[],m=u?u(c.internal.interaction):c.internal.interaction;for(let g=0;g<m.length;g++){const b=Sh(m[g]);b&&(b.raycaster.camera=void 0)}c.previousRoot||c.events.compute==null||c.events.compute(l,c);function v(g){const b=Sh(g);if(!b||!b.events.enabled||b.raycaster.camera===null)return[];if(b.raycaster.camera===void 0){var S;b.events.compute==null||b.events.compute(l,b,(S=b.previousRoot)==null?void 0:S.getState()),b.raycaster.camera===void 0&&(b.raycaster.camera=null)}return b.raycaster.camera?b.raycaster.intersectObject(g,!0):[]}let y=m.flatMap(v).sort((g,b)=>{const S=Sh(g.object),M=Sh(b.object);return!S||!M?g.distance-b.distance:M.events.priority-S.events.priority||g.distance-b.distance}).filter(g=>{const b=nv(g);return d.has(b)?!1:(d.add(b),!0)});c.events.filter&&(y=c.events.filter(y,c));for(const g of y){let b=g.object;for(;b;){var x;(x=b.__r3f)!=null&&x.eventCount&&p.push({...g,eventObject:b}),b=b.parent}}if("pointerId"in l&&c.internal.capturedMap.has(l.pointerId))for(let g of c.internal.capturedMap.get(l.pointerId).values())d.has(nv(g.intersection))||p.push(g.intersection);return p}function i(l,u,c,d){const p=t.getState();if(l.length){const m={stopped:!1};for(const v of l){const y=Sh(v.object)||p,{raycaster:x,pointer:g,camera:b,internal:S}=y,M=new N(g.x,g.y,0).unproject(b),C=B=>{var O,H;return(O=(H=S.capturedMap.get(B))==null?void 0:H.has(v.eventObject))!=null?O:!1},E=B=>{const O={intersection:v,target:u.target};S.capturedMap.has(B)?S.capturedMap.get(B).set(v.eventObject,O):S.capturedMap.set(B,new Map([[v.eventObject,O]])),u.target.setPointerCapture(B)},R=B=>{const O=S.capturedMap.get(B);O&&xU(S.capturedMap,v.eventObject,O,B)};let I={};for(let B in u){let O=u[B];typeof O!="function"&&(I[B]=O)}let P={...v,...I,pointer:g,intersections:l,stopped:m.stopped,delta:c,unprojectedPoint:M,ray:x.ray,camera:b,stopPropagation(){const B="pointerId"in u&&S.capturedMap.get(u.pointerId);if((!B||B.has(v.eventObject))&&(P.stopped=m.stopped=!0,S.hovered.size&&Array.from(S.hovered.values()).find(O=>O.eventObject===v.eventObject))){const O=l.slice(0,l.indexOf(v));s([...O,v])}},target:{hasPointerCapture:C,setPointerCapture:E,releasePointerCapture:R},currentTarget:{hasPointerCapture:C,setPointerCapture:E,releasePointerCapture:R},nativeEvent:u};if(d(P),m.stopped===!0)break}}return l}function s(l){const{internal:u}=t.getState();for(const c of u.hovered.values())if(!l.length||!l.find(d=>d.object===c.object&&d.index===c.index&&d.instanceId===c.instanceId)){const p=c.eventObject.__r3f,m=p==null?void 0:p.handlers;if(u.hovered.delete(nv(c)),p!=null&&p.eventCount){const v={...c,intersections:l};m.onPointerOut==null||m.onPointerOut(v),m.onPointerLeave==null||m.onPointerLeave(v)}}}function o(l,u){for(let c=0;c<u.length;c++){const d=u[c].__r3f;d==null||d.handlers.onPointerMissed==null||d.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return u=>{const{internal:c}=t.getState();"pointerId"in u&&c.capturedMap.has(u.pointerId)&&requestAnimationFrame(()=>{c.capturedMap.has(u.pointerId)&&(c.capturedMap.delete(u.pointerId),s([]))})}}return function(c){const{onPointerMissed:d,internal:p}=t.getState();p.lastEvent.current=c;const m=l==="onPointerMove",v=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",x=r(c,m?n:void 0),g=v?e(c):0;l==="onPointerDown"&&(p.initialClick=[c.offsetX,c.offsetY],p.initialHits=x.map(S=>S.eventObject)),v&&!x.length&&g<=2&&(o(c,p.interaction),d&&d(c)),m&&s(x);function b(S){const M=S.eventObject,C=M.__r3f,E=C==null?void 0:C.handlers;if(C!=null&&C.eventCount)if(m){if(E.onPointerOver||E.onPointerEnter||E.onPointerOut||E.onPointerLeave){const R=nv(S),I=p.hovered.get(R);I?I.stopped&&S.stopPropagation():(p.hovered.set(R,S),E.onPointerOver==null||E.onPointerOver(S),E.onPointerEnter==null||E.onPointerEnter(S))}E.onPointerMove==null||E.onPointerMove(S)}else{const R=E[l];R?(!v||p.initialHits.includes(M))&&(o(c,p.interaction.filter(I=>!p.initialHits.includes(I))),R(S)):v&&p.initialHits.includes(M)&&o(c,p.interaction.filter(I=>!p.initialHits.includes(I)))}}i(x,c,g,b)}}return{handlePointer:a}}const UY=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],_U=t=>!!(t!=null&&t.render),NE=T.createContext(null),zY=(t,e)=>{const n=oU((a,l)=>{const u=new N,c=new N,d=new N;function p(g=l().camera,b=c,S=l().size){const{width:M,height:C,top:E,left:R}=S,I=M/C;b instanceof N?d.copy(b):d.set(...b);const P=g.getWorldPosition(u).distanceTo(d);if(dU(g))return{width:M/g.zoom,height:C/g.zoom,top:E,left:R,factor:1,distance:P,aspect:I};{const B=g.fov*Math.PI/180,O=2*Math.tan(B/2)*P,H=O*(M/C);return{width:H,height:O,top:E,left:R,factor:M/H,distance:P,aspect:I}}}let m;const v=g=>a(b=>({performance:{...b.performance,current:g}})),y=new fe;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(g=1)=>t(l(),g),advance:(g,b)=>e(g,b,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new DE,pointer:y,mouse:y,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const g=l();m&&clearTimeout(m),g.performance.current!==g.performance.min&&v(g.performance.min),m=setTimeout(()=>v(l().performance.max),g.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:g=>a(b=>({...b,events:{...b.events,...g}})),setSize:(g,b,S,M,C)=>{const E=l().camera,R={width:g,height:b,top:M||0,left:C||0,updateStyle:S};a(I=>({size:R,viewport:{...I.viewport,...p(E,c,R)}}))},setDpr:g=>a(b=>{const S=gU(g);return{viewport:{...b.viewport,dpr:S,initialDpr:b.viewport.initialDpr||S}}}),setFrameloop:(g="always")=>{const b=l().clock;b.stop(),b.elapsedTime=0,g!=="never"&&(b.start(),b.elapsedTime=0),a(()=>({frameloop:g}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:T.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(g,b,S)=>{const M=l().internal;return M.priority=M.priority+(b>0?1:0),M.subscribers.push({ref:g,priority:b,store:S}),M.subscribers=M.subscribers.sort((C,E)=>C.priority-E.priority),()=>{const C=l().internal;C!=null&&C.subscribers&&(C.priority=C.priority-(b>0?1:0),C.subscribers=C.subscribers.filter(E=>E.ref!==g))}}}}}),r=n.getState();let i=r.size,s=r.viewport.dpr,o=r.camera;return n.subscribe(()=>{const{camera:a,size:l,viewport:u,gl:c,set:d}=n.getState();if(l!==i||u.dpr!==s){var p;i=l,s=u.dpr,yU(a,l),c.setPixelRatio(u.dpr);const m=(p=l.updateStyle)!=null?p:typeof HTMLCanvasElement<"u"&&c.domElement instanceof HTMLCanvasElement;c.setSize(l.width,l.height,m)}a!==o&&(o=a,d(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(a)}})))}),n.subscribe(a=>t(a)),n};let rv,HY=new Set,GY=new Set,$Y=new Set;function gS(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function bh(t,e){switch(t){case"before":return gS(HY,e);case"after":return gS(GY,e);case"tail":return gS($Y,e)}}let vS,yS;function xS(t,e,n){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),vS=e.internal.subscribers,rv=0;rv<vS.length;rv++)yS=vS[rv],yS.ref.current(yS.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function VY(t){let e=!1,n,r,i;function s(l){r=requestAnimationFrame(s),e=!0,n=0,bh("before",l);for(const c of t.values()){var u;i=c.store.getState(),i.internal.active&&(i.frameloop==="always"||i.internal.frames>0)&&!((u=i.gl.xr)!=null&&u.isPresenting)&&(n+=xS(l,i))}if(bh("after",l),n===0)return bh("tail",l),e=!1,cancelAnimationFrame(r)}function o(l,u=1){var c;if(!l)return t.forEach(d=>o(d.store.getState()),u);(c=l.gl.xr)!=null&&c.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+u),e||(e=!0,requestAnimationFrame(s)))}function a(l,u=!0,c,d){if(u&&bh("before",l),c)xS(l,c,d);else for(const p of t.values())xS(l,p.store.getState());u&&bh("after",l)}return{loop:s,invalidate:o,advance:a}}function UE(){const t=T.useContext(NE);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function yo(t=n=>n,e){return UE()(t,e)}function Gu(t,e=0){const n=UE(),r=n.getState().internal.subscribe,i=hU(t);return Im(()=>r(i,e,n),[e,r,n]),null}function SU(t,e){return function(n,...r){const i=new n;return t&&t(i),Promise.all(r.map(s=>new Promise((o,a)=>i.load(s,l=>{l.scene&&Object.assign(l,LY(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l.message})`))))))}}function da(t,e,n,r){const i=Array.isArray(e)?e:[e],s=CY(SU(n,r),[t,...i],{equal:pn.equ});return Array.isArray(e)?s:s[0]}da.preload=function(t,e,n){const r=Array.isArray(e)?e:[e];return TY(SU(n),[t,...r])};da.clear=function(t,e){const n=Array.isArray(e)?e:[e];return PY([t,...n])};const td=new Map,{invalidate:$3,advance:V3}=VY(td),{reconciler:qp,applyProps:Vo}=RY(td,FY),Lc={objects:"shallow",strict:!1},WY=(t,e)=>{const n=typeof t=="function"?t(e):t;return _U(n)?n:new cE({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function jY(t,e){if(e)return e;if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:n,height:r,top:i,left:s}=t.parentElement.getBoundingClientRect();return{width:n,height:r,top:i,left:s}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0};return{width:0,height:0,top:0,left:0}}function JY(t){const e=td.get(t),n=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||zY($3,V3),o=n||qp.createContainer(s,ja.ConcurrentRoot,null,!1,null,"",i,null);e||td.set(t,{fiber:o,store:s});let a,l=!1,u;return{configure(c={}){let{gl:d,size:p,scene:m,events:v,onCreated:y,shadows:x=!1,linear:g=!1,flat:b=!1,legacy:S=!1,orthographic:M=!1,frameloop:C="always",dpr:E=[1,2],performance:R,raycaster:I,camera:P,onPointerMissed:B}=c,O=s.getState(),H=O.gl;O.gl||O.set({gl:H=WY(d,t)});let U=O.raycaster;U||O.set({raycaster:U=new FE});const{params:V,...j}=I||{};if(pn.equ(j,U,Lc)||Vo(U,{...j}),pn.equ(V,U.params,Lc)||Vo(U,{params:{...U.params,...V}}),!O.camera||O.camera===u&&!pn.equ(u,P,Lc)){u=P;const ie=P instanceof dd,re=ie?P:M?new pd(0,0,0,0,.1,1e3):new Ln(75,0,.1,1e3);ie||(re.position.z=5,P&&Vo(re,P),!O.camera&&!(P!=null&&P.rotation)&&re.lookAt(0,0,0)),O.set({camera:re})}if(!O.scene){let ie;m instanceof Ru?ie=m:(ie=new Ru,m&&Vo(ie,m)),O.set({scene:Gc(ie)})}if(!O.xr){const ie=(le,Me)=>{const be=s.getState();be.frameloop!=="never"&&V3(le,!0,be,Me)},re=()=>{const le=s.getState();le.gl.xr.enabled=le.gl.xr.isPresenting,le.gl.xr.setAnimationLoop(le.gl.xr.isPresenting?ie:null),le.gl.xr.isPresenting||$3(le)},se={connect(){const le=s.getState().gl;le.xr.addEventListener("sessionstart",re),le.xr.addEventListener("sessionend",re)},disconnect(){const le=s.getState().gl;le.xr.removeEventListener("sessionstart",re),le.xr.removeEventListener("sessionend",re)}};H.xr&&se.connect(),O.set({xr:se})}if(H.shadowMap){const ie=H.shadowMap.enabled,re=H.shadowMap.type;if(H.shadowMap.enabled=!!x,pn.boo(x))H.shadowMap.type=ap;else if(pn.str(x)){var Z;const se={basic:mN,percentage:dx,soft:ap,variance:au};H.shadowMap.type=(Z=se[x])!=null?Z:ap}else pn.obj(x)&&Object.assign(H.shadowMap,x);(ie!==H.shadowMap.enabled||re!==H.shadowMap.type)&&(H.shadowMap.needsUpdate=!0)}const ne=fU();ne&&("enabled"in ne?ne.enabled=!S:"legacyMode"in ne&&(ne.legacyMode=S));const z=g?pi:lt,J=b?Ns:KA;H.outputEncoding!==z&&(H.outputEncoding=z),H.toneMapping!==J&&(H.toneMapping=J),O.legacy!==S&&O.set(()=>({legacy:S})),O.linear!==g&&O.set(()=>({linear:g})),O.flat!==b&&O.set(()=>({flat:b})),d&&!pn.fun(d)&&!_U(d)&&!pn.equ(d,H,Lc)&&Vo(H,d),v&&!O.events.handlers&&O.set({events:v(s)});const K=jY(t,p);return pn.equ(K,O.size,Lc)||O.setSize(K.width,K.height,K.updateStyle,K.top,K.left),E&&O.viewport.dpr!==gU(E)&&O.setDpr(E),O.frameloop!==C&&O.setFrameloop(C),O.onPointerMissed||O.set({onPointerMissed:B}),R&&!pn.equ(R,O.performance,Lc)&&O.set(ie=>({performance:{...ie.performance,...R}})),a=y,l=!0,this},render(c){return l||this.configure(),qp.updateContainer(T.createElement(KY,{store:s,children:c,onCreated:a,rootElement:t}),o,null,()=>{}),s},unmount(){bU(t)}}}function KY({store:t,children:e,onCreated:n,rootElement:r}){return Im(()=>{const i=t.getState();i.set(s=>({internal:{...s.internal,active:!0}})),n&&n(i),t.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),T.createElement(NE.Provider,{value:t},e)}function bU(t,e){const n=td.get(t),r=n==null?void 0:n.fiber;if(r){const i=n==null?void 0:n.store.getState();i&&(i.internal.active=!1),qp.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,o,a,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),OY(i),td.delete(t),e&&e(t)}catch{}},500)})}}function XY(t,e,n){return T.createElement(YY,{key:e.uuid,children:t,container:e,state:n})}function YY({state:t={},children:e,container:n}){const{events:r,size:i,...s}=t,o=UE(),[a]=T.useState(()=>new FE),[l]=T.useState(()=>new fe),u=T.useCallback((d,p)=>{const m={...d};Object.keys(d).forEach(y=>{(UY.includes(y)||d[y]!==p[y]&&p[y])&&delete m[y]});let v;if(p&&i){const y=p.camera;v=d.viewport.getCurrentViewport(y,new N,i),y!==d.camera&&yU(y,i)}return{...m,scene:n,raycaster:a,pointer:l,mouse:l,previousRoot:o,events:{...d.events,...p==null?void 0:p.events,...r},size:{...d.size,...i},viewport:{...d.viewport,...v},...s}},[t]),[c]=T.useState(()=>{const d=o.getState();return oU((m,v)=>({...d,scene:n,raycaster:a,pointer:l,mouse:l,previousRoot:o,events:{...d.events,...r},size:{...d.size,...i},...s,set:m,get:v,setEvents:y=>m(x=>({...x,events:{...x.events,...y}}))}))});return T.useEffect(()=>{const d=o.subscribe(p=>c.setState(m=>u(p,m)));return()=>{d(),c.destroy()}},[]),T.useEffect(()=>{c.setState(d=>u(o.getState(),d))},[u]),T.createElement(T.Fragment,null,qp.createPortal(T.createElement(NE.Provider,{value:c},e),c,null))}qp.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:T.version});function un(){return un=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},un.apply(this,arguments)}function jw(t,e,n){var r,i,s,o,a;e==null&&(e=100);function l(){var c=Date.now()-o;c<e&&c>=0?r=setTimeout(l,e-c):(r=null,n||(a=t.apply(s,i),s=i=null))}var u=function(){s=this,i=arguments,o=Date.now();var c=n&&!r;return r||(r=setTimeout(l,e)),c&&(a=t.apply(s,i),s=i=null),a};return u.clear=function(){r&&(clearTimeout(r),r=null)},u.flush=function(){r&&(a=t.apply(s,i),s=i=null,clearTimeout(r),r=null)},u}jw.debounce=jw;var W3=jw;function QY(t){let{debounce:e,scroll:n,polyfill:r,offsetSize:i}=t===void 0?{debounce:0,scroll:!1,offsetSize:!1}:t;const s=r||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=T.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=T.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),u=e?typeof e=="number"?e:e.scroll:null,c=e?typeof e=="number"?e:e.resize:null,d=T.useRef(!1);T.useEffect(()=>(d.current=!0,()=>void(d.current=!1)));const[p,m,v]=T.useMemo(()=>{const b=()=>{if(!l.current.element)return;const{left:S,top:M,width:C,height:E,bottom:R,right:I,x:P,y:B}=l.current.element.getBoundingClientRect(),O={left:S,top:M,width:C,height:E,bottom:R,right:I,x:P,y:B};l.current.element instanceof HTMLElement&&i&&(O.height=l.current.element.offsetHeight,O.width=l.current.element.offsetWidth),Object.freeze(O),d.current&&!tQ(l.current.lastBounds,O)&&a(l.current.lastBounds=O)};return[b,c?W3(b,c):b,u?W3(b,u):b]},[a,i,u,c]);function y(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(b=>b.removeEventListener("scroll",v,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function x(){l.current.element&&(l.current.resizeObserver=new s(v),l.current.resizeObserver.observe(l.current.element),n&&l.current.scrollContainers&&l.current.scrollContainers.forEach(b=>b.addEventListener("scroll",v,{capture:!0,passive:!0})))}const g=b=>{!b||b===l.current.element||(y(),l.current.element=b,l.current.scrollContainers=wU(b),x())};return qY(v,!!n),ZY(m),T.useEffect(()=>{y(),x()},[n,v,m]),T.useEffect(()=>y,[]),[g,o,p]}function ZY(t){T.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function qY(t,e){T.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function wU(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(t),[...e,...wU(t.parentElement)]}const eQ=["x","y","top","bottom","left","right","width","height"],tQ=(t,e)=>eQ.every(n=>t[n]===e[n]);var nQ=Object.defineProperty,rQ=Object.defineProperties,iQ=Object.getOwnPropertyDescriptors,j3=Object.getOwnPropertySymbols,sQ=Object.prototype.hasOwnProperty,oQ=Object.prototype.propertyIsEnumerable,J3=(t,e,n)=>e in t?nQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,K3=(t,e)=>{for(var n in e||(e={}))sQ.call(e,n)&&J3(t,n,e[n]);if(j3)for(var n of j3(e))oQ.call(e,n)&&J3(t,n,e[n]);return t},aQ=(t,e)=>rQ(t,iQ(e));function MU(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=e?t.return:t.child;for(;r;){const i=MU(r,e,n);if(i)return i;r=e?null:r.sibling}}function AU(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const zE=AU(T.createContext(null));class EU extends T.Component{render(){return T.createElement(zE.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:X3,ReactCurrentDispatcher:Y3}=T.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function lQ(){const t=T.useContext(zE);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=T.useId();return T.useMemo(()=>{var r;return(r=X3==null?void 0:X3.current)!=null?r:MU(t,!1,i=>{let s=i.memoizedState;for(;s;){if(s.memoizedState===e)return!0;s=s.next}})},[t,e])}function uQ(){var t,e;const n=lQ(),[r]=T.useState(()=>new Map);r.clear();let i=n;for(;i;){const s=(t=i.type)==null?void 0:t._context;s&&s!==zE&&!r.has(s)&&r.set(s,(e=Y3==null?void 0:Y3.current)==null?void 0:e.readContext(AU(s))),i=i.return}return r}function cQ(){const t=uQ();return T.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>T.createElement(e,null,T.createElement(n.Provider,aQ(K3({},r),{value:t.get(n)}))),e=>T.createElement(EU,K3({},e))),[t])}const _S={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function fQ(t){const{handlePointer:e}=NY(t);return{priority:1,enabled:!0,compute(n,r,i){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(_S).reduce((n,r)=>({...n,[r]:e(r)}),{}),update:()=>{var n;const{events:r,internal:i}=t.getState();(n=i.lastEvent)!=null&&n.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:n=>{var r;const{set:i,events:s}=t.getState();s.disconnect==null||s.disconnect(),i(o=>({events:{...o.events,connected:n}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([o,a])=>{const[l,u]=_S[o];n.addEventListener(l,a,{passive:u})})},disconnect:()=>{const{set:n,events:r}=t.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,o])=>{if(r&&r.connected instanceof HTMLElement){const[a]=_S[s];r.connected.removeEventListener(a,o)}}),n(s=>({events:{...s.events,connected:void 0}}))}}}}const dQ=T.forwardRef(function({children:e,fallback:n,resize:r,style:i,gl:s,events:o=fQ,eventSource:a,eventPrefix:l,shadows:u,linear:c,flat:d,legacy:p,orthographic:m,frameloop:v,dpr:y,performance:x,raycaster:g,camera:b,onPointerMissed:S,onCreated:M,...C},E){T.useMemo(()=>cU(xY),[]);const R=cQ(),[I,P]=QY({scroll:!0,debounce:{scroll:50,resize:0},...r}),B=T.useRef(null),O=T.useRef(null);T.useImperativeHandle(E,()=>B.current);const H=hU(S),[U,V]=T.useState(!1),[j,Z]=T.useState(!1);if(U)throw U;if(j)throw j;const ne=T.useRef(null);Im(()=>{const J=B.current;P.width>0&&P.height>0&&J&&(ne.current||(ne.current=JY(J)),ne.current.configure({gl:s,events:o,shadows:u,linear:c,flat:d,legacy:p,orthographic:m,frameloop:v,dpr:y,performance:x,raycaster:g,camera:b,size:P,onPointerMissed:(...K)=>H.current==null?void 0:H.current(...K),onCreated:K=>{K.events.connect==null||K.events.connect(a?BY(a)?a.current:a:O.current),l&&K.setEvents({compute:(ie,re)=>{const se=ie[l+"X"],le=ie[l+"Y"];re.pointer.set(se/re.size.width*2-1,-(le/re.size.height)*2+1),re.raycaster.setFromCamera(re.pointer,re.camera)}}),M==null||M(K)}}),ne.current.render(T.createElement(R,null,T.createElement(pU,{set:Z},T.createElement(T.Suspense,{fallback:T.createElement(IY,{set:V})},e)))))}),T.useEffect(()=>{const J=B.current;if(J)return()=>bU(J)},[]);const z=a?"none":"auto";return T.createElement("div",un({ref:O,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:z,...i}},C),T.createElement("div",{ref:I,style:{width:"100%",height:"100%"}},T.createElement("canvas",{ref:B,style:{display:"block"}},n)))}),hQ=T.forwardRef(function(e,n){return T.createElement(EU,null,T.createElement(dQ,un({},e,{ref:n})))});function fp(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pQ(t,e){if(t){if(typeof t=="string")return Jw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jw(t,e)}}function mQ(t){if(Array.isArray(t))return Jw(t)}function gQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function vQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yQ(t){return mQ(t)||gQ(t)||pQ(t)||vQ()}new fe;new fe;function xQ(t,e,n){return Math.max(e,Math.min(n,t))}function _Q(t,e){return xQ(t-Math.floor(t/e)*e,0,e)}function SQ(t,e){var n=_Q(e-t,Math.PI*2);return n>Math.PI&&(n-=Math.PI*2),n}function CU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var es=function t(e,n,r){var i=this;CU(this,t),fp(this,"dot2",function(s,o){return i.x*s+i.y*o}),fp(this,"dot3",function(s,o,a){return i.x*s+i.y*o+i.z*a}),this.x=e,this.y=n,this.z=r},bQ=[new es(1,1,0),new es(-1,1,0),new es(1,-1,0),new es(-1,-1,0),new es(1,0,1),new es(-1,0,1),new es(1,0,-1),new es(-1,0,-1),new es(0,1,1),new es(0,-1,1),new es(0,1,-1),new es(0,-1,-1)],Q3=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],Z3=new Array(512),q3=new Array(512),wQ=function(e){e>0&&e<1&&(e*=65536),e=Math.floor(e),e<256&&(e|=e<<8);for(var n=0;n<256;n++){var r;n&1?r=Q3[n]^e&255:r=Q3[n]^e>>8&255,Z3[n]=Z3[n+256]=r,q3[n]=q3[n+256]=bQ[r%12]}};wQ(0);function MQ(t){if(typeof t=="number")t=Math.abs(t);else if(typeof t=="string"){var e=t;t=0;for(var n=0;n<e.length;n++)t=(t+(n+1)*(e.charCodeAt(n)%96))%2147483647}return t===0&&(t=311),t}function eB(t){var e=MQ(t);return function(){var n=e*48271%2147483647;return e=n,n/2147483647}}var AQ=function t(e){var n=this;CU(this,t),fp(this,"seed",0),fp(this,"init",function(r){n.seed=r,n.value=eB(r)}),fp(this,"value",eB(this.seed)),this.init(e)};new AQ(Math.random());var EQ=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.01,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1/(2*Math.PI);return r/Math.atan(1/n)*Math.atan(Math.sin(2*Math.PI*e*i)/n)},TU=function(e){return 1/(1+e+.48*e*e+.235*e*e*e)};function qn(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.25,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:.01,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:1/0,o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:TU,a=arguments.length>7&&arguments[7]!==void 0?arguments[7]:.001,l="velocity_"+e;if(t.__damp===void 0&&(t.__damp={}),t.__damp[l]===void 0&&(t.__damp[l]=0),Math.abs(t[e]-n)<=a)return t[e]=n,!1;r=Math.max(1e-4,r);var u=2/r,c=o(u*i),d=t[e]-n,p=n,m=s*r;d=Math.min(Math.max(d,-m),m),n=t[e]-d;var v=(t.__damp[l]+u*d)*i;t.__damp[l]=(t.__damp[l]-u*v)*c;var y=n+(d+v)*c;return p-t[e]>0==y>p&&(y=p,t.__damp[l]=(y-p)/i),t[e]=y,!0}function Ff(t,e,n,r,i,s,o,a){return qn(t,e,t[e]+SQ(t[e],n),r,i,s,o,a)}var wh=new fe,tB,nB;function CQ(t,e,n,r,i,s,o){return typeof e=="number"?wh.setScalar(e):Array.isArray(e)?wh.set(e[0],e[1]):wh.copy(e),tB=qn(t,"x",wh.x,n,r,i,s,o),nB=qn(t,"y",wh.y,n,r,i,s,o),tB||nB}var Oc=new N,rB,iB,sB;function Kw(t,e,n,r,i,s,o){return typeof e=="number"?Oc.setScalar(e):Array.isArray(e)?Oc.set(e[0],e[1],e[2]):Oc.copy(e),rB=qn(t,"x",Oc.x,n,r,i,s,o),iB=qn(t,"y",Oc.y,n,r,i,s,o),sB=qn(t,"z",Oc.z,n,r,i,s,o),rB||iB||sB}var Wl=new Nt,oB,aB,lB,uB;function TQ(t,e,n,r,i,s,o){return typeof e=="number"?Wl.setScalar(e):Array.isArray(e)?Wl.set(e[0],e[1],e[2],e[3]):Wl.copy(e),oB=qn(t,"x",Wl.x,n,r,i,s,o),aB=qn(t,"y",Wl.y,n,r,i,s,o),lB=qn(t,"z",Wl.z,n,r,i,s,o),uB=qn(t,"w",Wl.w,n,r,i,s,o),oB||aB||lB||uB}var Mh=new Sl,cB,fB,dB;function PQ(t,e,n,r,i,s,o){return Array.isArray(e)?Mh.set(e[0],e[1],e[2],e[3]):Mh.copy(e),cB=Ff(t,"x",Mh.x,n,r,i,s,o),fB=Ff(t,"y",Mh.y,n,r,i,s,o),dB=Ff(t,"z",Mh.z,n,r,i,s,o),cB||fB||dB}var Fc=new Ce,hB,pB,mB;function RQ(t,e,n,r,i,s,o){return e instanceof Ce?Fc.copy(e):Array.isArray(e)?Fc.setRGB(e[0],e[1],e[2]):Fc.set(e),hB=qn(t,"r",Fc.r,n,r,i,s,o),pB=qn(t,"g",Fc.g,n,r,i,s,o),mB=qn(t,"b",Fc.b,n,r,i,s,o),hB||pB||mB}var Ts=new pr,Fo=new Nt,gB=new Nt,Ah=new Nt,vB,yB,xB,_B;function PU(t,e,n,r,i,s,o){var a=t;Array.isArray(e)?Ts.set(e[0],e[1],e[2],e[3]):Ts.copy(e);var l=t.dot(Ts)>0?1:-1;return Ts.x*=l,Ts.y*=l,Ts.z*=l,Ts.w*=l,vB=qn(t,"x",Ts.x,n,r,i,s,o),yB=qn(t,"y",Ts.y,n,r,i,s,o),xB=qn(t,"z",Ts.z,n,r,i,s,o),_B=qn(t,"w",Ts.w,n,r,i,s,o),Fo.set(t.x,t.y,t.z,t.w).normalize(),gB.set(a.__damp.velocity_x,a.__damp.velocity_y,a.__damp.velocity_z,a.__damp.velocity_w),Ah.copy(Fo).multiplyScalar(gB.dot(Fo)/Fo.dot(Fo)),a.__damp.velocity_x-=Ah.x,a.__damp.velocity_y-=Ah.y,a.__damp.velocity_z-=Ah.z,a.__damp.velocity_w-=Ah.w,t.set(Fo.x,Fo.y,Fo.z,Fo.w),vB||yB||xB||_B}var Eh=new iU,SB,bB,wB;function BQ(t,e,n,r,i,s,o){return Array.isArray(e)?Eh.set(e[0],e[1],e[2]):Eh.copy(e),SB=qn(t,"radius",Eh.radius,n,r,i,s,o),bB=Ff(t,"phi",Eh.phi,n,r,i,s,o),wB=Ff(t,"theta",Eh.theta,n,r,i,s,o),SB||bB||wB}var iv=new ut,MB=new N,AB=new pr,EB=new N,CB,TB,PB;function IQ(t,e,n,r,i,s,o){var a=t;return a.__damp===void 0&&(a.__damp={position:new N,rotation:new pr,scale:new N},t.decompose(a.__damp.position,a.__damp.rotation,a.__damp.scale)),Array.isArray(e)?iv.set.apply(iv,yQ(e)):iv.copy(e),iv.decompose(MB,AB,EB),CB=Kw(a.__damp.position,MB,n,r,i,s,o),TB=PU(a.__damp.rotation,AB,n,r,i,s,o),PB=Kw(a.__damp.scale,EB,n,r,i,s,o),t.compose(a.__damp.position,a.__damp.rotation,a.__damp.scale),CB||TB||PB}var du=Object.freeze({__proto__:null,rsqw:EQ,exp:TU,damp:qn,dampAngle:Ff,damp2:CQ,damp3:Kw,damp4:TQ,dampE:PQ,dampC:RQ,dampQ:PU,dampS:BQ,dampM:IQ});function DQ(t,e,n){return Math.max(e,Math.min(t,n))}const Or={toVector(t,e){return t===void 0&&(t=e),Array.isArray(t)?t:[t,t]},add(t,e){return[t[0]+e[0],t[1]+e[1]]},sub(t,e){return[t[0]-e[0],t[1]-e[1]]},addTo(t,e){t[0]+=e[0],t[1]+=e[1]},subTo(t,e){t[0]-=e[0],t[1]-=e[1]}};function RB(t,e,n){return e===0||Math.abs(e)===1/0?Math.pow(t,n*5):t*e*n/(e+n*t)}function BB(t,e,n,r=.15){return r===0?DQ(t,e,n):t<e?-RB(e-t,n-e,r)+e:t>n?+RB(t-n,n-e,r)+n:t}function LQ(t,[e,n],[r,i]){const[[s,o],[a,l]]=t;return[BB(e,s,o,r),BB(n,a,l,i)]}function OQ(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function FQ(t){var e=OQ(t,"string");return typeof e=="symbol"?e:String(e)}function oi(t,e,n){return e=FQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IB(Object(n),!0).forEach(function(r){oi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const RU={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function DB(t){return t?t[0].toUpperCase()+t.slice(1):""}const kQ=["enter","leave"];function NQ(t=!1,e){return t&&!kQ.includes(e)}function UQ(t,e="",n=!1){const r=RU[t],i=r&&r[e]||e;return"on"+DB(t)+DB(i)+(NQ(n,i)?"Capture":"")}const zQ=["gotpointercapture","lostpointercapture"];function HQ(t){let e=t.substring(2).toLowerCase();const n=!!~e.indexOf("passive");n&&(e=e.replace("passive",""));const r=zQ.includes(e)?"capturecapture":"capture",i=!!~e.indexOf(r);return i&&(e=e.replace("capture","")),{device:e,capture:i,passive:n}}function GQ(t,e=""){const n=RU[t],r=n&&n[e]||e;return t+r}function Rx(t){return"touches"in t}function BU(t){return Rx(t)?"touch":"pointerType"in t?t.pointerType:"mouse"}function $Q(t){return Array.from(t.touches).filter(e=>{var n,r;return e.target===t.currentTarget||((n=t.currentTarget)===null||n===void 0||(r=n.contains)===null||r===void 0?void 0:r.call(n,e.target))})}function VQ(t){return t.type==="touchend"||t.type==="touchcancel"?t.changedTouches:t.targetTouches}function IU(t){return Rx(t)?VQ(t)[0]:t}function WQ(t){return $Q(t).map(e=>e.identifier)}function SS(t){const e=IU(t);return Rx(t)?e.identifier:e.pointerId}function LB(t){const e=IU(t);return[e.clientX,e.clientY]}function jQ(t){const e={};if("buttons"in t&&(e.buttons=t.buttons),"shiftKey"in t){const{shiftKey:n,altKey:r,metaKey:i,ctrlKey:s}=t;Object.assign(e,{shiftKey:n,altKey:r,metaKey:i,ctrlKey:s})}return e}function _y(t,...e){return typeof t=="function"?t(...e):t}function JQ(){}function KQ(...t){return t.length===0?JQ:t.length===1?t[0]:function(){let e;for(const n of t)e=n.apply(this,arguments)||e;return e}}function OB(t,e){return Object.assign({},e,t||{})}const XQ=32;class YQ{constructor(e,n,r){this.ctrl=e,this.args=n,this.key=r,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:e,shared:n,ingKey:r,args:i}=this;n[r]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=i,e.axis=void 0,e.memo=void 0,e.elapsedTime=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){const n=this.state,r=this.config;n._active||(this.reset(),this.computeInitial(),n._active=!0,n.target=e.target,n.currentTarget=e.currentTarget,n.lastOffset=r.from?_y(r.from,n):n.offset,n.offset=n.lastOffset,n.startTime=n.timeStamp=e.timeStamp)}computeValues(e){const n=this.state;n._values=e,n.values=this.config.transform(e)}computeInitial(){const e=this.state;e._initial=e._values,e.initial=e.values}compute(e){const{state:n,config:r,shared:i}=this;n.args=this.args;let s=0;if(e&&(n.event=e,r.preventDefault&&e.cancelable&&n.event.preventDefault(),n.type=e.type,i.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,i.locked=!!document.pointerLockElement,Object.assign(i,jQ(e)),i.down=i.pressed=i.buttons%2===1||i.touches>0,s=e.timeStamp-n.timeStamp,n.timeStamp=e.timeStamp,n.elapsedTime=n.timeStamp-n.startTime),n._active){const E=n._delta.map(Math.abs);Or.addTo(n._distance,E)}this.axisIntent&&this.axisIntent(e);const[o,a]=n._movement,[l,u]=r.threshold,{_step:c,values:d}=n;if(r.hasCustomTransform?(c[0]===!1&&(c[0]=Math.abs(o)>=l&&d[0]),c[1]===!1&&(c[1]=Math.abs(a)>=u&&d[1])):(c[0]===!1&&(c[0]=Math.abs(o)>=l&&Math.sign(o)*l),c[1]===!1&&(c[1]=Math.abs(a)>=u&&Math.sign(a)*u)),n.intentional=c[0]!==!1||c[1]!==!1,!n.intentional)return;const p=[0,0];if(r.hasCustomTransform){const[E,R]=d;p[0]=c[0]!==!1?E-c[0]:0,p[1]=c[1]!==!1?R-c[1]:0}else p[0]=c[0]!==!1?o-c[0]:0,p[1]=c[1]!==!1?a-c[1]:0;this.restrictToAxis&&!n._blocked&&this.restrictToAxis(p);const m=n.offset,v=n._active&&!n._blocked||n.active;v&&(n.first=n._active&&!n.active,n.last=!n._active&&n.active,n.active=i[this.ingKey]=n._active,e&&(n.first&&("bounds"in r&&(n._bounds=_y(r.bounds,n)),this.setup&&this.setup()),n.movement=p,this.computeOffset()));const[y,x]=n.offset,[[g,b],[S,M]]=n._bounds;n.overflow=[y<g?-1:y>b?1:0,x<S?-1:x>M?1:0],n._movementBound[0]=n.overflow[0]?n._movementBound[0]===!1?n._movement[0]:n._movementBound[0]:!1,n._movementBound[1]=n.overflow[1]?n._movementBound[1]===!1?n._movement[1]:n._movementBound[1]:!1;const C=n._active?r.rubberband||[0,0]:[0,0];if(n.offset=LQ(n._bounds,n.offset,C),n.delta=Or.sub(n.offset,m),this.computeMovement(),v&&(!n.last||s>XQ)){n.delta=Or.sub(n.offset,m);const E=n.delta.map(Math.abs);Or.addTo(n.distance,E),n.direction=n.delta.map(Math.sign),n._direction=n._delta.map(Math.sign),!n.first&&s>0&&(n.velocity=[E[0]/s,E[1]/s])}}emit(){const e=this.state,n=this.shared,r=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!r.triggerAllEvents)return;const i=this.handler(Cn(Cn(Cn({},n),e),{},{[this.aliasKey]:e.values}));i!==void 0&&(e.memo=i)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function QQ([t,e],n){const r=Math.abs(t),i=Math.abs(e);if(r>i&&r>n)return"x";if(i>r&&i>n)return"y"}class ZQ extends YQ{constructor(...e){super(...e),oi(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=Or.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=Or.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){const n=this.state,r=this.config;if(!n.axis&&e){const i=typeof r.axisThreshold=="object"?r.axisThreshold[BU(e)]:r.axisThreshold;n.axis=QQ(n._movement,i)}n._blocked=(r.lockDirection||!!r.axis)&&!n.axis||!!r.axis&&r.axis!==n.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0;break}}}const qQ=t=>t,FB=.15,DU={enabled(t=!0){return t},eventOptions(t,e,n){return Cn(Cn({},n.shared.eventOptions),t)},preventDefault(t=!1){return t},triggerAllEvents(t=!1){return t},rubberband(t=0){switch(t){case!0:return[FB,FB];case!1:return[0,0];default:return Or.toVector(t)}},from(t){if(typeof t=="function")return t;if(t!=null)return Or.toVector(t)},transform(t,e,n){const r=t||n.shared.transform;return this.hasCustomTransform=!!r,r||qQ},threshold(t){return Or.toVector(t,0)}},eZ=0,Dm=Cn(Cn({},DU),{},{axis(t,e,{axis:n}){if(this.lockDirection=n==="lock",!this.lockDirection)return n},axisThreshold(t=eZ){return t},bounds(t={}){if(typeof t=="function")return s=>Dm.bounds(t(s));if("current"in t)return()=>t.current;if(typeof HTMLElement=="function"&&t instanceof HTMLElement)return t;const{left:e=-1/0,right:n=1/0,top:r=-1/0,bottom:i=1/0}=t;return[[e,n],[r,i]]}}),kB={ArrowRight:(t,e=1)=>[t*e,0],ArrowLeft:(t,e=1)=>[-1*t*e,0],ArrowUp:(t,e=1)=>[0,-1*t*e],ArrowDown:(t,e=1)=>[0,t*e]};class tZ extends ZQ{constructor(...e){super(...e),oi(this,"ingKey","dragging")}reset(){super.reset();const e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){const e=this.state;if(e._bounds instanceof HTMLElement){const n=e._bounds.getBoundingClientRect(),r=e.currentTarget.getBoundingClientRect(),i={left:n.left-r.left+e.offset[0],right:n.right-r.right+e.offset[0],top:n.top-r.top+e.offset[1],bottom:n.bottom-r.bottom+e.offset[1]};e._bounds=Dm.bounds(i)}}cancel(){const e=this.state;e.canceled||(e.canceled=!0,e._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){const n=this.config,r=this.state;if(e.buttons!=null&&(Array.isArray(n.pointerButtons)?!n.pointerButtons.includes(e.buttons):n.pointerButtons!==-1&&n.pointerButtons!==e.buttons))return;const i=this.ctrl.setEventIds(e);n.pointerCapture&&e.target.setPointerCapture(e.pointerId),!(i&&i.size>1&&r._pointerActive)&&(this.start(e),this.setupPointer(e),r._pointerId=SS(e),r._pointerActive=!0,this.computeValues(LB(e)),this.computeInitial(),n.preventScrollAxis&&BU(e)!=="mouse"?(r._active=!1,this.setupScrollPrevention(e)):n.delay>0?(this.setupDelayTrigger(e),n.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}startPointerDrag(e){const n=this.state;n._active=!0,n._preventScroll=!0,n._delayed=!1,this.compute(e),this.emit()}pointerMove(e){const n=this.state,r=this.config;if(!n._pointerActive||n.type===e.type&&e.timeStamp===n.timeStamp)return;const i=SS(e);if(n._pointerId!==void 0&&i!==n._pointerId)return;const s=LB(e);if(document.pointerLockElement===e.target?n._delta=[e.movementX,e.movementY]:(n._delta=Or.sub(s,n._values),this.computeValues(s)),Or.addTo(n._movement,n._delta),this.compute(e),n._delayed&&n.intentional){this.timeoutStore.remove("dragDelay"),n.active=!1,this.startPointerDrag(e);return}if(r.preventScrollAxis&&!n._preventScroll)if(n.axis)if(n.axis===r.preventScrollAxis||r.preventScrollAxis==="xy"){n._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(e);return}else return;this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch{}const n=this.state,r=this.config;if(!n._active||!n._pointerActive)return;const i=SS(e);if(n._pointerId!==void 0&&i!==n._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);const[s,o]=n._distance;if(n.tap=s<=r.tapsThreshold&&o<=r.tapsThreshold,n.tap&&r.filterTaps)n._force=!0;else{const[a,l]=n.direction,[u,c]=n.velocity,[d,p]=n.movement,[m,v]=r.swipe.velocity,[y,x]=r.swipe.distance,g=r.swipe.duration;n.elapsedTime<g&&(Math.abs(u)>m&&Math.abs(d)>y&&(n.swipe[0]=a),Math.abs(c)>v&&Math.abs(p)>x&&(n.swipe[1]=l))}this.emit()}pointerClick(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}setupPointer(e){const n=this.config,r=n.device;n.pointerLock&&e.currentTarget.requestPointerLock(),n.pointerCapture||(this.eventStore.add(this.sharedConfig.window,r,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){this.state._preventScroll=!1,nZ(e);const n=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",n),this.eventStore.add(this.sharedConfig.window,"touch","cancel",n),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(e)},this.config.delay)}keyDown(e){const n=kB[e.key];if(n){const r=this.state,i=e.shiftKey?10:e.altKey?.1:1;this.start(e),r._delta=n(this.config.keyboardDisplacement,i),r._keyboardActive=!0,Or.addTo(r._movement,r._delta),this.compute(e),this.emit()}}keyUp(e){e.key in kB&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){const n=this.config.device;e(n,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(n,"change",this.pointerMove.bind(this)),e(n,"end",this.pointerUp.bind(this)),e(n,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function nZ(t){"persist"in t&&typeof t.persist=="function"&&t.persist()}const Lm=typeof window<"u"&&window.document&&window.document.createElement;function rZ(){return Lm&&"ontouchstart"in window}function NB(){return rZ()||Lm&&window.navigator.maxTouchPoints>1}function iZ(){return Lm&&"onpointerdown"in window}function sZ(){return Lm&&"exitPointerLock"in window.document}function oZ(){try{return"constructor"in GestureEvent}catch{return!1}}const ss={isBrowser:Lm,gesture:oZ(),touch:NB(),touchscreen:NB(),pointer:iZ(),pointerLock:sZ()},aZ=250,lZ=180,uZ=.5,cZ=50,fZ=250,dZ=10,UB={mouse:0,touch:0,pen:8},hZ=Cn(Cn({},Dm),{},{device(t,e,{pointer:{touch:n=!1,lock:r=!1,mouse:i=!1}={}}){return this.pointerLock=r&&ss.pointerLock,ss.touch&&n?"touch":this.pointerLock?"mouse":ss.pointer&&!i?"pointer":ss.touch?"touch":"mouse"},preventScrollAxis(t,e,{preventScroll:n}){if(this.preventScrollDelay=typeof n=="number"?n:n||n===void 0&&t?aZ:void 0,!(!ss.touchscreen||n===!1))return t||(n!==void 0?"y":void 0)},pointerCapture(t,e,{pointer:{capture:n=!0,buttons:r=1,keys:i=!0}={}}){return this.pointerButtons=r,this.keys=i,!this.pointerLock&&this.device==="pointer"&&n},threshold(t,e,{filterTaps:n=!1,tapsThreshold:r=3,axis:i=void 0}){const s=Or.toVector(t,n?r:i?1:0);return this.filterTaps=n,this.tapsThreshold=r,s},swipe({velocity:t=uZ,distance:e=cZ,duration:n=fZ}={}){return{velocity:this.transform(Or.toVector(t)),distance:this.transform(Or.toVector(e)),duration:n}},delay(t=0){switch(t){case!0:return lZ;case!1:return 0;default:return t}},axisThreshold(t){return t?Cn(Cn({},UB),t):UB},keyboardDisplacement(t=dZ){return t}});Cn(Cn({},DU),{},{device(t,e,{shared:n,pointer:{touch:r=!1}={}}){if(n.target&&!ss.touch&&ss.gesture)return"gesture";if(ss.touch&&r)return"touch";if(ss.touchscreen){if(ss.pointer)return"pointer";if(ss.touch)return"touch"}},bounds(t,e,{scaleBounds:n={},angleBounds:r={}}){const i=o=>{const a=OB(_y(n,o),{min:-1/0,max:1/0});return[a.min,a.max]},s=o=>{const a=OB(_y(r,o),{min:-1/0,max:1/0});return[a.min,a.max]};return typeof n!="function"&&typeof r!="function"?[i(),s()]:o=>[i(o),s(o)]},threshold(t,e,n){return this.lockDirection=n.axis==="lock",Or.toVector(t,this.lockDirection?[.1,3]:0)},modifierKey(t){return t===void 0?"ctrlKey":t},pinchOnWheel(t=!0){return t}});Cn(Cn({},Dm),{},{mouseOnly:(t=!0)=>t});Cn(Cn({},Dm),{},{mouseOnly:(t=!0)=>t});const LU=new Map,Xw=new Map;function pZ(t){LU.set(t.key,t.engine),Xw.set(t.key,t.resolver)}const mZ={key:"drag",engine:tZ,resolver:hZ};function gZ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function vZ(t,e){if(t==null)return{};var n=gZ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}const yZ={target(t){if(t)return()=>"current"in t?t.current:t},enabled(t=!0){return t},window(t=ss.isBrowser?window:void 0){return t},eventOptions({passive:t=!0,capture:e=!1}={}){return{passive:t,capture:e}},transform(t){return t}},xZ=["target","eventOptions","window","enabled","transform"];function $v(t={},e){const n={};for(const[r,i]of Object.entries(e))switch(typeof i){case"function":n[r]=i.call(n,t[r],r,t);break;case"object":n[r]=$v(t[r],i);break;case"boolean":i&&(n[r]=t[r]);break}return n}function _Z(t,e,n={}){const r=t,{target:i,eventOptions:s,window:o,enabled:a,transform:l}=r,u=vZ(r,xZ);if(n.shared=$v({target:i,eventOptions:s,window:o,enabled:a,transform:l},yZ),e){const c=Xw.get(e);n[e]=$v(Cn({shared:n.shared},u),c)}else for(const c in u){const d=Xw.get(c);d&&(n[c]=$v(Cn({shared:n.shared},u[c]),d))}return n}class OU{constructor(e,n){oi(this,"_listeners",new Set),this._ctrl=e,this._gestureKey=n}add(e,n,r,i,s){const o=this._listeners,a=GQ(n,r),l=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},u=Cn(Cn({},l),s);e.addEventListener(a,i,u);const c=()=>{e.removeEventListener(a,i,u),o.delete(c)};return o.add(c),c}clean(){this._listeners.forEach(e=>e()),this._listeners.clear()}}class SZ{constructor(){oi(this,"_timeouts",new Map)}add(e,n,r=140,...i){this.remove(e),this._timeouts.set(e,window.setTimeout(n,r,...i))}remove(e){const n=this._timeouts.get(e);n&&window.clearTimeout(n)}clean(){this._timeouts.forEach(e=>void window.clearTimeout(e)),this._timeouts.clear()}}class bZ{constructor(e){oi(this,"gestures",new Set),oi(this,"_targetEventStore",new OU(this)),oi(this,"gestureEventStores",{}),oi(this,"gestureTimeoutStores",{}),oi(this,"handlers",{}),oi(this,"config",{}),oi(this,"pointerIds",new Set),oi(this,"touchIds",new Set),oi(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),wZ(this,e)}setEventIds(e){if(Rx(e))return this.touchIds=new Set(WQ(e)),this.touchIds;if("pointerId"in e)return e.type==="pointerup"||e.type==="pointercancel"?this.pointerIds.delete(e.pointerId):e.type==="pointerdown"&&this.pointerIds.add(e.pointerId),this.pointerIds}applyHandlers(e,n){this.handlers=e,this.nativeHandlers=n}applyConfig(e,n){this.config=_Z(e,n,this.config)}clean(){this._targetEventStore.clean();for(const e of this.gestures)this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){const n=this.config.shared,r={};let i;if(!(n.target&&(i=n.target(),!i))){if(n.enabled){for(const o of this.gestures){const a=this.config[o],l=zB(r,a.eventOptions,!!i);if(a.enabled){const u=LU.get(o);new u(this,e,o).bind(l)}}const s=zB(r,n.eventOptions,!!i);for(const o in this.nativeHandlers)s(o,"",a=>this.nativeHandlers[o](Cn(Cn({},this.state.shared),{},{event:a,args:e})),void 0,!0)}for(const s in r)r[s]=KQ(...r[s]);if(!i)return r;for(const s in r){const{device:o,capture:a,passive:l}=HQ(s);this._targetEventStore.add(i,o,"",r[s],{capture:a,passive:l})}}}}function kc(t,e){t.gestures.add(e),t.gestureEventStores[e]=new OU(t,e),t.gestureTimeoutStores[e]=new SZ}function wZ(t,e){e.drag&&kc(t,"drag"),e.wheel&&kc(t,"wheel"),e.scroll&&kc(t,"scroll"),e.move&&kc(t,"move"),e.pinch&&kc(t,"pinch"),e.hover&&kc(t,"hover")}const zB=(t,e,n)=>(r,i,s,o={},a=!1)=>{var l,u;const c=(l=o.capture)!==null&&l!==void 0?l:e.capture,d=(u=o.passive)!==null&&u!==void 0?u:e.passive;let p=a?r:UQ(r,i,c);n&&d&&(p+="Passive"),t[p]=t[p]||[],t[p].push(s)};function MZ(t,e={},n,r){const i=D.useMemo(()=>new bZ(t),[]);if(i.applyHandlers(t,r),i.applyConfig(e,n),D.useEffect(i.effect.bind(i)),D.useEffect(()=>i.clean.bind(i),[]),e.target===void 0)return i.bind.bind(i)}function AZ(t,e){return pZ(mZ),MZ({drag:t},e||{},"drag")}let Ch;function EZ(){if(Ch!==void 0)return Ch;try{var t;let e;const n=document.createElement("canvas");return Ch=!!(window.WebGL2RenderingContext&&(e=n.getContext("webgl2"))),e&&((t=e.getExtension("WEBGL_lose_context"))===null||t===void 0||t.loseContext()),Ch}catch{return Ch=!1}}const CZ=t=>t&&t.isCubeTexture;class TZ extends Hn{constructor(e,n){var r,i;const s=CZ(e),a=((r=s?(i=e.image[0])===null||i===void 0?void 0:i.width:e.image.width)!=null?r:1024)/4,l=Math.floor(Math.log2(a)),u=Math.pow(2,l),c=3*Math.max(u,16*7),d=4*u,p=[s?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/c}`,`#define CUBEUV_TEXEL_HEIGHT ${1/d}`,`#define CUBEUV_MAX_MIP ${l}.0`],m=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,v=p.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <encodings_fragment>
        }
        `,y={map:{value:e},height:{value:(n==null?void 0:n.height)||15},radius:{value:(n==null?void 0:n.radius)||100}},x=new vd(1,16),g=new tr({uniforms:y,fragmentShader:v,vertexShader:m,side:Dr});super(x,g)}set radius(e){this.material.uniforms.radius.value=e}get radius(){return this.material.uniforms.radius.value}set height(e){this.material.uniforms.height.value=e}get height(){return this.material.uniforms.height.value}}class HE extends qr{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(n){return new DZ(n)}),this.register(function(n){return new zZ(n)}),this.register(function(n){return new HZ(n)}),this.register(function(n){return new OZ(n)}),this.register(function(n){return new FZ(n)}),this.register(function(n){return new kZ(n)}),this.register(function(n){return new NZ(n)}),this.register(function(n){return new IZ(n)}),this.register(function(n){return new UZ(n)}),this.register(function(n){return new LZ(n)}),this.register(function(n){return new RZ(n)}),this.register(function(n){return new GZ(n)})}load(e,n,r,i){const s=this;let o;this.resourcePath!==""?o=this.resourcePath:this.path!==""?o=this.path:o=ho.extractUrlBase(e),this.manager.itemStart(e);const a=function(u){i?i(u):console.error(u),s.manager.itemError(e),s.manager.itemEnd(e)},l=new ki(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(u){try{s.parse(u,o,function(c){n(c),s.manager.itemEnd(e)},a)}catch(c){a(c)}},r,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,n,r,i){let s;const o={},a={};if(typeof e=="string")s=e;else if(ho.decodeText(new Uint8Array(e,0,4))===FU){try{o[Lt.KHR_BINARY_GLTF]=new $Z(e)}catch(d){i&&i(d);return}s=o[Lt.KHR_BINARY_GLTF].content}else s=ho.decodeText(new Uint8Array(e));const l=JSON.parse(s);if(l.asset===void 0||l.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const u=new nq(l,{path:n||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});u.fileLoader.setRequestHeader(this.requestHeader);for(let c=0;c<this.pluginCallbacks.length;c++){const d=this.pluginCallbacks[c](u);a[d.name]=d,o[d.name]=!0}if(l.extensionsUsed)for(let c=0;c<l.extensionsUsed.length;++c){const d=l.extensionsUsed[c],p=l.extensionsRequired||[];switch(d){case Lt.KHR_MATERIALS_UNLIT:o[d]=new BZ;break;case Lt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:o[d]=new jZ;break;case Lt.KHR_DRACO_MESH_COMPRESSION:o[d]=new VZ(l,this.dracoLoader);break;case Lt.KHR_TEXTURE_TRANSFORM:o[d]=new WZ;break;case Lt.KHR_MESH_QUANTIZATION:o[d]=new JZ;break;default:p.indexOf(d)>=0&&a[d]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+d+'".')}}u.setExtensions(o),u.setPlugins(a),u.parse(r,i)}parseAsync(e,n){const r=this;return new Promise(function(i,s){r.parse(e,n,i,s)})}}function PZ(){let t={};return{get:function(e){return t[e]},add:function(e,n){t[e]=n},remove:function(e){delete t[e]},removeAll:function(){t={}}}}const Lt={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"};class RZ{constructor(e){this.parser=e,this.name=Lt.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,n=this.parser.json.nodes||[];for(let r=0,i=n.length;r<i;r++){const s=n[r];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const n=this.parser,r="light:"+e;let i=n.cache.get(r);if(i)return i;const s=n.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let u;const c=new Ce(16777215);l.color!==void 0&&c.fromArray(l.color);const d=l.range!==void 0?l.range:0;switch(l.type){case"directional":u=new BE(c),u.target.position.set(0,0,-1),u.add(u.target);break;case"point":u=new RE(c),u.distance=d;break;case"spot":u=new PE(c),u.distance=d,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,u.angle=l.spot.outerConeAngle,u.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,u.target.position.set(0,0,-1),u.add(u.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return u.position.set(0,0,0),u.decay=2,l.intensity!==void 0&&(u.intensity=l.intensity),u.name=n.createUniqueName(l.name||"light_"+e),i=Promise.resolve(u),n.cache.add(r,i),i}createNodeAttachment(e){const n=this,r=this.parser,s=r.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return r._getNodeRef(n.cache,a,l)})}}class BZ{constructor(){this.name=Lt.KHR_MATERIALS_UNLIT}getMaterialType(){return Bi}extendParams(e,n,r){const i=[];e.color=new Ce(1,1,1),e.opacity=1;const s=n.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}s.baseColorTexture!==void 0&&i.push(r.assignTexture(e,"map",s.baseColorTexture,lt))}return Promise.all(i)}}class IZ{constructor(e){this.parser=e,this.name=Lt.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name].emissiveStrength;return s!==void 0&&(n.emissiveIntensity=s),Promise.resolve()}}class DZ{constructor(e){this.parser=e,this.name=Lt.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:fa}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];if(o.clearcoatFactor!==void 0&&(n.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(r.assignTexture(n,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(n.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(r.assignTexture(n,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(r.assignTexture(n,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;n.clearcoatNormalScale=new fe(a,a)}return Promise.all(s)}}class LZ{constructor(e){this.parser=e,this.name=Lt.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:fa}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.iridescenceFactor!==void 0&&(n.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(r.assignTexture(n,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(n.iridescenceIOR=o.iridescenceIor),n.iridescenceThicknessRange===void 0&&(n.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(n.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(n.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(r.assignTexture(n,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class OZ{constructor(e){this.parser=e,this.name=Lt.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:fa}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[];n.sheenColor=new Ce(0,0,0),n.sheenRoughness=0,n.sheen=1;const o=i.extensions[this.name];return o.sheenColorFactor!==void 0&&n.sheenColor.fromArray(o.sheenColorFactor),o.sheenRoughnessFactor!==void 0&&(n.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(r.assignTexture(n,"sheenColorMap",o.sheenColorTexture,lt)),o.sheenRoughnessTexture!==void 0&&s.push(r.assignTexture(n,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class FZ{constructor(e){this.parser=e,this.name=Lt.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:fa}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.transmissionFactor!==void 0&&(n.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(r.assignTexture(n,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class kZ{constructor(e){this.parser=e,this.name=Lt.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:fa}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];n.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(r.assignTexture(n,"thicknessMap",o.thicknessTexture)),n.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return n.attenuationColor=new Ce(a[0],a[1],a[2]),Promise.all(s)}}class NZ{constructor(e){this.parser=e,this.name=Lt.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:fa}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return n.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class UZ{constructor(e){this.parser=e,this.name=Lt.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:fa}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];n.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(r.assignTexture(n,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return n.specularColor=new Ce(a[0],a[1],a[2]),o.specularColorTexture!==void 0&&s.push(r.assignTexture(n,"specularColorMap",o.specularColorTexture,lt)),Promise.all(s)}}class zZ{constructor(e){this.parser=e,this.name=Lt.KHR_TEXTURE_BASISU}loadTexture(e){const n=this.parser,r=n.json,i=r.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const s=i.extensions[this.name],o=n.options.ktx2Loader;if(!o){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return n.loadTextureImage(e,s.source,o)}}class HZ{constructor(e){this.parser=e,this.name=Lt.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const n=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[n])return null;const o=s.extensions[n],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const u=r.options.manager.getHandler(a.uri);u!==null&&(l=u)}return this.detectSupport().then(function(u){if(u)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class GZ{constructor(e){this.name=Lt.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const n=this.parser.json,r=n.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const i=r.extensions[this.name],s=this.parser.getDependency("buffer",i.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=i.byteOffset||0,u=i.byteLength||0,c=i.count,d=i.byteStride,p=new Uint8Array(a,l,u);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(c,d,p,i.mode,i.filter).then(function(m){return m.buffer}):o.ready.then(function(){const m=new ArrayBuffer(c*d);return o.decodeGltfBuffer(new Uint8Array(m),c,d,p,i.mode,i.filter),m})})}else return null}}const FU="glTF",Th=12,HB={JSON:1313821514,BIN:5130562};class $Z{constructor(e){this.name=Lt.KHR_BINARY_GLTF,this.content=null,this.body=null;const n=new DataView(e,0,Th);if(this.header={magic:ho.decodeText(new Uint8Array(e.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==FU)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-Th,i=new DataView(e,Th);let s=0;for(;s<r;){const o=i.getUint32(s,!0);s+=4;const a=i.getUint32(s,!0);if(s+=4,a===HB.JSON){const l=new Uint8Array(e,Th+s,o);this.content=ho.decodeText(l)}else if(a===HB.BIN){const l=Th+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class VZ{constructor(e,n){if(!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Lt.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=n,this.dracoLoader.preload()}decodePrimitive(e,n){const r=this.json,i=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},u={};for(const c in o){const d=Qw[c]||c.toLowerCase();a[d]=o[c]}for(const c in e.attributes){const d=Qw[c]||c.toLowerCase();if(o[c]!==void 0){const p=r.accessors[e.attributes[c]],m=em[p.componentType];u[d]=m.name,l[d]=p.normalized===!0}}return n.getDependency("bufferView",s).then(function(c){return new Promise(function(d){i.decodeDracoFile(c,function(p){for(const m in p.attributes){const v=p.attributes[m],y=l[m];y!==void 0&&(v.normalized=y)}d(p)},a,u)})})}}class WZ{constructor(){this.name=Lt.KHR_TEXTURE_TRANSFORM}extendTexture(e,n){return n.texCoord!==void 0&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),n.offset===void 0&&n.rotation===void 0&&n.scale===void 0||(e=e.clone(),n.offset!==void 0&&e.offset.fromArray(n.offset),n.rotation!==void 0&&(e.rotation=n.rotation),n.scale!==void 0&&e.repeat.fromArray(n.scale),e.needsUpdate=!0),e}}class Yw extends _d{constructor(e){super(),this.isGLTFSpecularGlossinessMaterial=!0;const n=["#ifdef USE_SPECULARMAP","	uniform sampler2D specularMap;","#endif"].join(`
`),r=["#ifdef USE_GLOSSINESSMAP","	uniform sampler2D glossinessMap;","#endif"].join(`
`),i=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","	vec4 texelSpecular = texture2D( specularMap, vUv );","	// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","	specularFactor *= texelSpecular.rgb;","#endif"].join(`
`),s=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","	vec4 texelGlossiness = texture2D( glossinessMap, vUv );","	// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","	glossinessFactor *= texelGlossiness.a;","#endif"].join(`
`),o=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.specularColor = specularFactor;"].join(`
`),a={specular:{value:new Ce().setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=a,this.onBeforeCompile=function(l){for(const u in a)l.uniforms[u]=a[u];l.fragmentShader=l.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",n).replace("#include <metalnessmap_pars_fragment>",r).replace("#include <roughnessmap_fragment>",i).replace("#include <metalnessmap_fragment>",s).replace("#include <lights_physical_fragment>",o)},Object.defineProperties(this,{specular:{get:function(){return a.specular.value},set:function(l){a.specular.value=l}},specularMap:{get:function(){return a.specularMap.value},set:function(l){a.specularMap.value=l,l?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return a.glossiness.value},set:function(l){a.glossiness.value=l}},glossinessMap:{get:function(){return a.glossinessMap.value},set:function(l){a.glossinessMap.value=l,l?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(e)}copy(e){return super.copy(e),this.specularMap=e.specularMap,this.specular.copy(e.specular),this.glossinessMap=e.glossinessMap,this.glossiness=e.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}class jZ{constructor(){this.name=Lt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"]}getMaterialType(){return Yw}extendParams(e,n,r){const i=n.extensions[this.name];e.color=new Ce(1,1,1),e.opacity=1;const s=[];if(Array.isArray(i.diffuseFactor)){const o=i.diffuseFactor;e.color.fromArray(o),e.opacity=o[3]}if(i.diffuseTexture!==void 0&&s.push(r.assignTexture(e,"map",i.diffuseTexture,lt)),e.emissive=new Ce(0,0,0),e.glossiness=i.glossinessFactor!==void 0?i.glossinessFactor:1,e.specular=new Ce(1,1,1),Array.isArray(i.specularFactor)&&e.specular.fromArray(i.specularFactor),i.specularGlossinessTexture!==void 0){const o=i.specularGlossinessTexture;s.push(r.assignTexture(e,"glossinessMap",o)),s.push(r.assignTexture(e,"specularMap",o,lt))}return Promise.all(s)}createMaterial(e){const n=new Yw(e);return n.fog=!0,n.color=e.color,n.map=e.map===void 0?null:e.map,n.lightMap=null,n.lightMapIntensity=1,n.aoMap=e.aoMap===void 0?null:e.aoMap,n.aoMapIntensity=1,n.emissive=e.emissive,n.emissiveIntensity=e.emissiveIntensity===void 0?1:e.emissiveIntensity,n.emissiveMap=e.emissiveMap===void 0?null:e.emissiveMap,n.bumpMap=e.bumpMap===void 0?null:e.bumpMap,n.bumpScale=1,n.normalMap=e.normalMap===void 0?null:e.normalMap,n.normalMapType=ua,e.normalScale&&(n.normalScale=e.normalScale),n.displacementMap=null,n.displacementScale=1,n.displacementBias=0,n.specularMap=e.specularMap===void 0?null:e.specularMap,n.specular=e.specular,n.glossinessMap=e.glossinessMap===void 0?null:e.glossinessMap,n.glossiness=e.glossiness,n.alphaMap=null,n.envMap=e.envMap===void 0?null:e.envMap,n.envMapIntensity=1,n.refractionRatio=.98,n}}class JZ{constructor(){this.name=Lt.KHR_MESH_QUANTIZATION}}class kU extends Sd{constructor(e,n,r,i){super(e,n,r,i)}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i*3+i;for(let o=0;o!==i;o++)n[o]=r[s+o];return n}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,u=a*3,c=i-n,d=(r-n)/c,p=d*d,m=p*d,v=e*u,y=v-u,x=-2*m+3*p,g=m-p,b=1-x,S=g-p+d;for(let M=0;M!==a;M++){const C=o[y+M+a],E=o[y+M+l]*c,R=o[v+M+a],I=o[v+M]*c;s[M]=b*C+S*E+x*R+g*I}return s}}const KZ=new pr;class XZ extends kU{interpolate_(e,n,r,i){const s=super.interpolate_(e,n,r,i);return KZ.fromArray(s).normalize().toArray(s),s}}const ko={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},em={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},GB={9728:en,9729:Xt,9984:Gp,9985:px,9986:Lf,9987:vo},$B={33071:xr,33648:jf,10497:go},VB={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Qw={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Ia={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},YZ={CUBICSPLINE:void 0,LINEAR:Pu,STEP:Jf},bS={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function QZ(t){return t.DefaultMaterial===void 0&&(t.DefaultMaterial=new _d({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Hs})),t.DefaultMaterial}function Ph(t,e,n){for(const r in n.extensions)t[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=n.extensions[r])}function Yl(t,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(t.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function ZZ(t,e,n){let r=!1,i=!1,s=!1;for(let u=0,c=e.length;u<c;u++){const d=e[u];if(d.POSITION!==void 0&&(r=!0),d.NORMAL!==void 0&&(i=!0),d.COLOR_0!==void 0&&(s=!0),r&&i&&s)break}if(!r&&!i&&!s)return Promise.resolve(t);const o=[],a=[],l=[];for(let u=0,c=e.length;u<c;u++){const d=e[u];if(r){const p=d.POSITION!==void 0?n.getDependency("accessor",d.POSITION):t.attributes.position;o.push(p)}if(i){const p=d.NORMAL!==void 0?n.getDependency("accessor",d.NORMAL):t.attributes.normal;a.push(p)}if(s){const p=d.COLOR_0!==void 0?n.getDependency("accessor",d.COLOR_0):t.attributes.color;l.push(p)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(u){const c=u[0],d=u[1],p=u[2];return r&&(t.morphAttributes.position=c),i&&(t.morphAttributes.normal=d),s&&(t.morphAttributes.color=p),t.morphTargetsRelative=!0,t})}function qZ(t,e){if(t.updateMorphTargets(),e.weights!==void 0)for(let n=0,r=e.weights.length;n<r;n++)t.morphTargetInfluences[n]=e.weights[n];if(e.extras&&Array.isArray(e.extras.targetNames)){const n=e.extras.targetNames;if(t.morphTargetInfluences.length===n.length){t.morphTargetDictionary={};for(let r=0,i=n.length;r<i;r++)t.morphTargetDictionary[n[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function eq(t){const e=t.extensions&&t.extensions[Lt.KHR_DRACO_MESH_COMPRESSION];let n;return e?n="draco:"+e.bufferView+":"+e.indices+":"+WB(e.attributes):n=t.indices+":"+WB(t.attributes)+":"+t.mode,n}function WB(t){let e="";const n=Object.keys(t).sort();for(let r=0,i=n.length;r<i;r++)e+=n[r]+":"+t[n[r]]+";";return e}function Zw(t){switch(t){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function tq(t){return t.search(/\.jpe?g($|\?)/i)>0||t.search(/^data\:image\/jpeg/)===0?"image/jpeg":t.search(/\.webp($|\?)/i)>0||t.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}class nq{constructor(e={},n={}){var r,i;this.json=e,this.extensions={},this.plugins={},this.options=n,this.cache=new PZ,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};const s=typeof navigator<"u"&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,o=typeof navigator<"u"&&((r=navigator.userAgent)===null||r===void 0?void 0:r.indexOf("Firefox"))>-1,a=typeof navigator<"u"&&o?(i=navigator.userAgent)===null||i===void 0?void 0:i.match(/Firefox\/([0-9]+)\./)[1]:-1;typeof createImageBitmap>"u"||s||o&&a<98?this.textureLoader=new Bm(this.options.manager):this.textureLoader=new eU(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new ki(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,n){const r=this,i=this.json,s=this.extensions;this.cache.removeAll(),this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(o){const a={scene:o[0][i.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:i.asset,parser:r,userData:{}};Ph(s,a,i),Yl(a,i),Promise.all(r._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){e(a)})}).catch(n)}_markDefs(){const e=this.json.nodes||[],n=this.json.skins||[],r=this.json.meshes||[];for(let i=0,s=n.length;i<s;i++){const o=n[i].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let i=0,s=e.length;i<s;i++){const o=e[i];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(r[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,n){n!==void 0&&(e.refs[n]===void 0&&(e.refs[n]=e.uses[n]=0),e.refs[n]++)}_getNodeRef(e,n,r){if(e.refs[n]<=1)return r;const i=r.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[u,c]of o.children.entries())s(c,a.children[u])};return s(r,i),i.name+="_instance_"+e.uses[n]++,i}_invokeOne(e){const n=Object.values(this.plugins);n.push(this);for(let r=0;r<n.length;r++){const i=e(n[r]);if(i)return i}return null}_invokeAll(e){const n=Object.values(this.plugins);n.unshift(this);const r=[];for(let i=0;i<n.length;i++){const s=e(n[i]);s&&r.push(s)}return r}getDependency(e,n){const r=e+":"+n;let i=this.cache.get(r);if(!i){switch(e){case"scene":i=this.loadScene(n);break;case"node":i=this.loadNode(n);break;case"mesh":i=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(n)});break;case"accessor":i=this.loadAccessor(n);break;case"bufferView":i=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(n)});break;case"buffer":i=this.loadBuffer(n);break;case"material":i=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(n)});break;case"texture":i=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(n)});break;case"skin":i=this.loadSkin(n);break;case"animation":i=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(n)});break;case"camera":i=this.loadCamera(n);break;default:throw new Error("Unknown type: "+e)}this.cache.add(r,i)}return i}getDependencies(e){let n=this.cache.get(e);if(!n){const r=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];n=Promise.all(i.map(function(s,o){return r.getDependency(e,o)})),this.cache.add(e,n)}return n}loadBuffer(e){const n=this.json.buffers[e],r=this.fileLoader;if(n.type&&n.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+n.type+" buffer type is not supported.");if(n.uri===void 0&&e===0)return Promise.resolve(this.extensions[Lt.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(s,o){r.load(ho.resolveURL(n.uri,i.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+n.uri+'".'))})})}loadBufferView(e){const n=this.json.bufferViews[e];return this.getDependency("buffer",n.buffer).then(function(r){const i=n.byteLength||0,s=n.byteOffset||0;return r.slice(s,s+i)})}loadAccessor(e){const n=this,r=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0)return Promise.resolve(null);const s=[];return i.bufferView!==void 0?s.push(this.getDependency("bufferView",i.bufferView)):s.push(null),i.sparse!==void 0&&(s.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=VB[i.type],u=em[i.componentType],c=u.BYTES_PER_ELEMENT,d=c*l,p=i.byteOffset||0,m=i.bufferView!==void 0?r.bufferViews[i.bufferView].byteStride:void 0,v=i.normalized===!0;let y,x;if(m&&m!==d){const g=Math.floor(p/m),b="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+g+":"+i.count;let S=n.cache.get(b);S||(y=new u(a,g*m,i.count*m/c),S=new ym(y,m/c),n.cache.add(b,S)),x=new fl(S,l,p%m/c,v)}else a===null?y=new u(i.count*l):y=new u(a,p,i.count*l),x=new Ut(y,l,v);if(i.sparse!==void 0){const g=VB.SCALAR,b=em[i.sparse.indices.componentType],S=i.sparse.indices.byteOffset||0,M=i.sparse.values.byteOffset||0,C=new b(o[1],S,i.sparse.count*g),E=new u(o[2],M,i.sparse.count*l);a!==null&&(x=new Ut(x.array.slice(),x.itemSize,x.normalized));for(let R=0,I=C.length;R<I;R++){const P=C[R];if(x.setX(P,E[R*l]),l>=2&&x.setY(P,E[R*l+1]),l>=3&&x.setZ(P,E[R*l+2]),l>=4&&x.setW(P,E[R*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return x})}loadTexture(e){const n=this.json,r=this.options,s=n.textures[e].source,o=n.images[s];let a=this.textureLoader;if(o.uri){const l=r.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,n,r){const i=this,s=this.json,o=s.textures[e],a=s.images[n],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const u=this.loadImageSource(n,r).then(function(c){c.flipY=!1,o.name&&(c.name=o.name);const p=(s.samplers||{})[o.sampler]||{};return c.magFilter=GB[p.magFilter]||Xt,c.minFilter=GB[p.minFilter]||vo,c.wrapS=$B[p.wrapS]||go,c.wrapT=$B[p.wrapT]||go,i.associations.set(c,{textures:e}),c}).catch(function(){return null});return this.textureCache[l]=u,u}loadImageSource(e,n){const r=this,i=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(d=>d.clone());const o=i.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",u=!1;if(o.bufferView!==void 0)l=r.getDependency("bufferView",o.bufferView).then(function(d){u=!0;const p=new Blob([d],{type:o.mimeType});return l=a.createObjectURL(p),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const c=Promise.resolve(l).then(function(d){return new Promise(function(p,m){let v=p;n.isImageBitmapLoader===!0&&(v=function(y){const x=new ln(y);x.needsUpdate=!0,p(x)}),n.load(ho.resolveURL(d,s.path),v,void 0,m)})}).then(function(d){return u===!0&&a.revokeObjectURL(l),d.userData.mimeType=o.mimeType||tq(o.uri),d}).catch(function(d){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),d});return this.sourceCache[e]=c,c}assignTexture(e,n,r,i){const s=this;return this.getDependency("texture",r.index).then(function(o){if(r.texCoord!==void 0&&r.texCoord!=0&&!(n==="aoMap"&&r.texCoord==1)&&console.warn("THREE.GLTFLoader: Custom UV set "+r.texCoord+" for texture "+n+" not yet supported."),s.extensions[Lt.KHR_TEXTURE_TRANSFORM]){const a=r.extensions!==void 0?r.extensions[Lt.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[Lt.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return i!==void 0&&(o.encoding=i),e[n]=o,o})}assignFinalMaterial(e){const n=e.geometry;let r=e.material;const i=n.attributes.tangent===void 0,s=n.attributes.color!==void 0,o=n.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new Mx,On.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,l.sizeAttenuation=!1,this.cache.add(a,l)),r=l}else if(e.isLine){const a="LineBasicMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new Nr,On.prototype.copy.call(l,r),l.color.copy(r.color),this.cache.add(a,l)),r=l}if(i||s||o){let a="ClonedMaterial:"+r.uuid+":";r.isGLTFSpecularGlossinessMaterial&&(a+="specular-glossiness:"),i&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=r.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),i&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(r))),r=l}r.aoMap&&n.attributes.uv2===void 0&&n.attributes.uv!==void 0&&n.setAttribute("uv2",n.attributes.uv),e.material=r}getMaterialType(){return _d}loadMaterial(e){const n=this,r=this.json,i=this.extensions,s=r.materials[e];let o;const a={},l=s.extensions||{},u=[];if(l[Lt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){const d=i[Lt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];o=d.getMaterialType(),u.push(d.extendParams(a,s,n))}else if(l[Lt.KHR_MATERIALS_UNLIT]){const d=i[Lt.KHR_MATERIALS_UNLIT];o=d.getMaterialType(),u.push(d.extendParams(a,s,n))}else{const d=s.pbrMetallicRoughness||{};if(a.color=new Ce(1,1,1),a.opacity=1,Array.isArray(d.baseColorFactor)){const p=d.baseColorFactor;a.color.fromArray(p),a.opacity=p[3]}d.baseColorTexture!==void 0&&u.push(n.assignTexture(a,"map",d.baseColorTexture,lt)),a.metalness=d.metallicFactor!==void 0?d.metallicFactor:1,a.roughness=d.roughnessFactor!==void 0?d.roughnessFactor:1,d.metallicRoughnessTexture!==void 0&&(u.push(n.assignTexture(a,"metalnessMap",d.metallicRoughnessTexture)),u.push(n.assignTexture(a,"roughnessMap",d.metallicRoughnessTexture))),o=this._invokeOne(function(p){return p.getMaterialType&&p.getMaterialType(e)}),u.push(Promise.all(this._invokeAll(function(p){return p.extendMaterialParams&&p.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=Dr);const c=s.alphaMode||bS.OPAQUE;if(c===bS.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,c===bS.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==Bi&&(u.push(n.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new fe(1,1),s.normalTexture.scale!==void 0)){const d=s.normalTexture.scale;a.normalScale.set(d,d)}return s.occlusionTexture!==void 0&&o!==Bi&&(u.push(n.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==Bi&&(a.emissive=new Ce().fromArray(s.emissiveFactor)),s.emissiveTexture!==void 0&&o!==Bi&&u.push(n.assignTexture(a,"emissiveMap",s.emissiveTexture,lt)),Promise.all(u).then(function(){let d;return o===Yw?d=i[Lt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(a):d=new o(a),s.name&&(d.name=s.name),Yl(d,s),n.associations.set(d,{materials:e}),s.extensions&&Ph(i,d,s),d})}createUniqueName(e){const n=zt.sanitizeNodeName(e||"");let r=n;for(let i=1;this.nodeNamesUsed[r];++i)r=n+"_"+i;return this.nodeNamesUsed[r]=!0,r}loadGeometries(e){const n=this,r=this.extensions,i=this.primitiveCache;function s(a){return r[Lt.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,n).then(function(l){return jB(l,a,n)})}const o=[];for(let a=0,l=e.length;a<l;a++){const u=e[a],c=eq(u),d=i[c];if(d)o.push(d.promise);else{let p;u.extensions&&u.extensions[Lt.KHR_DRACO_MESH_COMPRESSION]?p=s(u):p=jB(new gt,u,n),i[c]={primitive:u,promise:p},o.push(p)}}return Promise.all(o)}loadMesh(e){const n=this,r=this.json,i=this.extensions,s=r.meshes[e],o=s.primitives,a=[];for(let l=0,u=o.length;l<u;l++){const c=o[l].material===void 0?QZ(this.cache):this.getDependency("material",o[l].material);a.push(c)}return a.push(n.loadGeometries(o)),Promise.all(a).then(function(l){const u=l.slice(0,l.length-1),c=l[l.length-1],d=[];for(let m=0,v=c.length;m<v;m++){const y=c[m],x=o[m];let g;const b=u[m];if(x.mode===ko.TRIANGLES||x.mode===ko.TRIANGLE_STRIP||x.mode===ko.TRIANGLE_FAN||x.mode===void 0)g=s.isSkinnedMesh===!0?new dE(y,b):new Hn(y,b),g.isSkinnedMesh===!0&&!g.geometry.attributes.skinWeight.normalized&&g.normalizeSkinWeights(),x.mode===ko.TRIANGLE_STRIP?g.geometry=JB(g.geometry,n4):x.mode===ko.TRIANGLE_FAN&&(g.geometry=JB(g.geometry,qA));else if(x.mode===ko.LINES)g=new $s(y,b);else if(x.mode===ko.LINE_STRIP)g=new oa(y,b);else if(x.mode===ko.LINE_LOOP)g=new hE(y,b);else if(x.mode===ko.POINTS)g=new pE(y,b);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+x.mode);Object.keys(g.geometry.morphAttributes).length>0&&qZ(g,s),g.name=n.createUniqueName(s.name||"mesh_"+e),Yl(g,s),x.extensions&&Ph(i,g,x),n.assignFinalMaterial(g),d.push(g)}for(let m=0,v=d.length;m<v;m++)n.associations.set(d[m],{meshes:e,primitives:m});if(d.length===1)return d[0];const p=new Xo;n.associations.set(p,{meshes:e});for(let m=0,v=d.length;m<v;m++)p.add(d[m]);return p})}loadCamera(e){let n;const r=this.json.cameras[e],i=r[r.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?n=new Ln(lo.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):r.type==="orthographic"&&(n=new pd(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),r.name&&(n.name=this.createUniqueName(r.name)),Yl(n,r),Promise.resolve(n)}loadSkin(e){const n=this.json.skins[e],r={joints:n.joints};return n.inverseBindMatrices===void 0?Promise.resolve(r):this.getDependency("accessor",n.inverseBindMatrices).then(function(i){return r.inverseBindMatrices=i,r})}loadAnimation(e){const r=this.json.animations[e],i=[],s=[],o=[],a=[],l=[];for(let u=0,c=r.channels.length;u<c;u++){const d=r.channels[u],p=r.samplers[d.sampler],m=d.target,v=m.node,y=r.parameters!==void 0?r.parameters[p.input]:p.input,x=r.parameters!==void 0?r.parameters[p.output]:p.output;i.push(this.getDependency("node",v)),s.push(this.getDependency("accessor",y)),o.push(this.getDependency("accessor",x)),a.push(p),l.push(m)}return Promise.all([Promise.all(i),Promise.all(s),Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(u){const c=u[0],d=u[1],p=u[2],m=u[3],v=u[4],y=[];for(let g=0,b=c.length;g<b;g++){const S=c[g],M=d[g],C=p[g],E=m[g],R=v[g];if(S===void 0)continue;S.updateMatrix();let I;switch(Ia[R.path]){case Ia.weights:I=Zf;break;case Ia.rotation:I=dl;break;case Ia.position:case Ia.scale:default:I=qf;break}const P=S.name?S.name:S.uuid,B=E.interpolation!==void 0?YZ[E.interpolation]:Pu,O=[];Ia[R.path]===Ia.weights?S.traverse(function(U){U.morphTargetInfluences&&O.push(U.name?U.name:U.uuid)}):O.push(P);let H=C.array;if(C.normalized){const U=Zw(H.constructor),V=new Float32Array(H.length);for(let j=0,Z=H.length;j<Z;j++)V[j]=H[j]*U;H=V}for(let U=0,V=O.length;U<V;U++){const j=new I(O[U]+"."+Ia[R.path],M.array,H,B);E.interpolation==="CUBICSPLINE"&&(j.createInterpolant=function(ne){const z=this instanceof dl?XZ:kU;return new z(this.times,this.values,this.getValueSize()/3,ne)},j.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),y.push(j)}}const x=r.name?r.name:"animation_"+e;return new ed(x,void 0,y)})}createNodeMesh(e){const n=this.json,r=this,i=n.nodes[e];return i.mesh===void 0?null:r.getDependency("mesh",i.mesh).then(function(s){const o=r._getNodeRef(r.meshCache,i.mesh,s);return i.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,u=i.weights.length;l<u;l++)a.morphTargetInfluences[l]=i.weights[l]}),o})}loadNode(e){const n=this.json,r=this.extensions,i=this,s=n.nodes[e],o=s.name?i.createUniqueName(s.name):"";return function(){const a=[],l=i._invokeOne(function(u){return u.createNodeMesh&&u.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(i.getDependency("camera",s.camera).then(function(u){return i._getNodeRef(i.cameraCache,s.camera,u)})),i._invokeAll(function(u){return u.createNodeAttachment&&u.createNodeAttachment(e)}).forEach(function(u){a.push(u)}),Promise.all(a)}().then(function(a){let l;if(s.isBone===!0?l=new wx:a.length>1?l=new Xo:a.length===1?l=a[0]:l=new Ht,l!==a[0])for(let u=0,c=a.length;u<c;u++)l.add(a[u]);if(s.name&&(l.userData.name=s.name,l.name=o),Yl(l,s),s.extensions&&Ph(r,l,s),s.matrix!==void 0){const u=new ut;u.fromArray(s.matrix),l.applyMatrix4(u)}else s.translation!==void 0&&l.position.fromArray(s.translation),s.rotation!==void 0&&l.quaternion.fromArray(s.rotation),s.scale!==void 0&&l.scale.fromArray(s.scale);return i.associations.has(l)||i.associations.set(l,{}),i.associations.get(l).nodes=e,l})}loadScene(e){const n=this.json,r=this.extensions,i=this.json.scenes[e],s=this,o=new Xo;i.name&&(o.name=s.createUniqueName(i.name)),Yl(o,i),i.extensions&&Ph(r,o,i);const a=i.nodes||[],l=[];for(let u=0,c=a.length;u<c;u++)l.push(NU(a[u],o,n,s));return Promise.all(l).then(function(){const u=c=>{const d=new Map;for(const[p,m]of s.associations)(p instanceof On||p instanceof ln)&&d.set(p,m);return c.traverse(p=>{const m=s.associations.get(p);m!=null&&d.set(p,m)}),d};return s.associations=u(o),o})}}function NU(t,e,n,r){const i=n.nodes[t];return r.getDependency("node",t).then(function(s){if(i.skin===void 0)return s;let o;return r.getDependency("skin",i.skin).then(function(a){o=a;const l=[];for(let u=0,c=o.joints.length;u<c;u++)l.push(r.getDependency("node",o.joints[u]));return Promise.all(l)}).then(function(a){return s.traverse(function(l){if(!l.isMesh)return;const u=[],c=[];for(let d=0,p=a.length;d<p;d++){const m=a[d];if(m){u.push(m);const v=new ut;o.inverseBindMatrices!==void 0&&v.fromArray(o.inverseBindMatrices.array,d*16),c.push(v)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',o.joints[d])}l.bind(new xm(u,c),l.matrixWorld)}),s})}).then(function(s){e.add(s);const o=[];if(i.children){const a=i.children;for(let l=0,u=a.length;l<u;l++){const c=a[l];o.push(NU(c,s,n,r))}}return Promise.all(o)})}function rq(t,e,n){const r=e.attributes,i=new Gi;if(r.POSITION!==void 0){const a=n.json.accessors[r.POSITION],l=a.min,u=a.max;if(l!==void 0&&u!==void 0){if(i.set(new N(l[0],l[1],l[2]),new N(u[0],u[1],u[2])),a.normalized){const c=Zw(em[a.componentType]);i.min.multiplyScalar(c),i.max.multiplyScalar(c)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new N,l=new N;for(let u=0,c=s.length;u<c;u++){const d=s[u];if(d.POSITION!==void 0){const p=n.json.accessors[d.POSITION],m=p.min,v=p.max;if(m!==void 0&&v!==void 0){if(l.setX(Math.max(Math.abs(m[0]),Math.abs(v[0]))),l.setY(Math.max(Math.abs(m[1]),Math.abs(v[1]))),l.setZ(Math.max(Math.abs(m[2]),Math.abs(v[2]))),p.normalized){const y=Zw(em[p.componentType]);l.multiplyScalar(y)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(a)}t.boundingBox=i;const o=new ms;i.getCenter(o.center),o.radius=i.min.distanceTo(i.max)/2,t.boundingSphere=o}function jB(t,e,n){const r=e.attributes,i=[];function s(o,a){return n.getDependency("accessor",o).then(function(l){t.setAttribute(a,l)})}for(const o in r){const a=Qw[o]||o.toLowerCase();a in t.attributes||i.push(s(r[o],a))}if(e.indices!==void 0&&!t.index){const o=n.getDependency("accessor",e.indices).then(function(a){t.setIndex(a)});i.push(o)}return Yl(t,e),rq(t,e,n),Promise.all(i).then(function(){return e.targets!==void 0?ZZ(t,e.targets,n):t})}function JB(t,e){let n=t.getIndex();if(n===null){const o=[],a=t.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);t.setIndex(o),n=t.getIndex()}else return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),t}const r=n.count-2,i=[];if(e===qA)for(let o=1;o<=r;o++)i.push(n.getX(0)),i.push(n.getX(o)),i.push(n.getX(o+1));else for(let o=0;o<r;o++)o%2===0?(i.push(n.getX(o)),i.push(n.getX(o+1)),i.push(n.getX(o+2))):(i.push(n.getX(o+2)),i.push(n.getX(o+1)),i.push(n.getX(o)));i.length/3!==r&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=t.clone();return s.setIndex(i),s}class iq extends gt{constructor(e,n,r,i){super();const s=[],o=[],a=[],l=new N,u=new ut;u.makeRotationFromEuler(r),u.setPosition(n);const c=new ut;c.copy(u).invert(),d(),this.setAttribute("position",new $e(s,3)),this.setAttribute("normal",new $e(o,3)),this.setAttribute("uv",new $e(a,2));function d(){let y,x=[];const g=new N,b=new N;if(e.geometry.isGeometry===!0){console.error("THREE.DecalGeometry no longer supports THREE.Geometry. Use BufferGeometry instead.");return}const S=e.geometry,M=S.attributes.position,C=S.attributes.normal;if(S.index!==null){const E=S.index;for(y=0;y<E.count;y++)g.fromBufferAttribute(M,E.getX(y)),b.fromBufferAttribute(C,E.getX(y)),p(x,g,b)}else for(y=0;y<M.count;y++)g.fromBufferAttribute(M,y),b.fromBufferAttribute(C,y),p(x,g,b);for(x=m(x,l.set(1,0,0)),x=m(x,l.set(-1,0,0)),x=m(x,l.set(0,1,0)),x=m(x,l.set(0,-1,0)),x=m(x,l.set(0,0,1)),x=m(x,l.set(0,0,-1)),y=0;y<x.length;y++){const E=x[y];a.push(.5+E.position.x/i.x,.5+E.position.y/i.y),E.position.applyMatrix4(u),s.push(E.position.x,E.position.y,E.position.z),o.push(E.normal.x,E.normal.y,E.normal.z)}}function p(y,x,g){x.applyMatrix4(e.matrixWorld),x.applyMatrix4(c),g.transformDirection(e.matrixWorld),y.push(new KB(x.clone(),g.clone()))}function m(y,x){const g=[],b=.5*Math.abs(i.dot(x));for(let S=0;S<y.length;S+=3){let M,C,E,R=0,I,P,B,O;const H=y[S+0].position.dot(x)-b,U=y[S+1].position.dot(x)-b,V=y[S+2].position.dot(x)-b;switch(M=H>0,C=U>0,E=V>0,R=(M?1:0)+(C?1:0)+(E?1:0),R){case 0:{g.push(y[S]),g.push(y[S+1]),g.push(y[S+2]);break}case 1:{if(M&&(I=y[S+1],P=y[S+2],B=v(y[S],I,x,b),O=v(y[S],P,x,b)),C){I=y[S],P=y[S+2],B=v(y[S+1],I,x,b),O=v(y[S+1],P,x,b),g.push(B),g.push(P.clone()),g.push(I.clone()),g.push(P.clone()),g.push(B.clone()),g.push(O);break}E&&(I=y[S],P=y[S+1],B=v(y[S+2],I,x,b),O=v(y[S+2],P,x,b)),g.push(I.clone()),g.push(P.clone()),g.push(B),g.push(O),g.push(B.clone()),g.push(P.clone());break}case 2:{M||(I=y[S].clone(),P=v(I,y[S+1],x,b),B=v(I,y[S+2],x,b),g.push(I),g.push(P),g.push(B)),C||(I=y[S+1].clone(),P=v(I,y[S+2],x,b),B=v(I,y[S],x,b),g.push(I),g.push(P),g.push(B)),E||(I=y[S+2].clone(),P=v(I,y[S],x,b),B=v(I,y[S+1],x,b),g.push(I),g.push(P),g.push(B));break}}}return g}function v(y,x,g,b){const S=y.position.dot(g)-b,M=x.position.dot(g)-b,C=S/(S-M);return new KB(new N(y.position.x+C*(x.position.x-y.position.x),y.position.y+C*(x.position.y-y.position.y),y.position.z+C*(x.position.z-y.position.z)),new N(y.normal.x+C*(x.normal.x-y.normal.x),y.normal.y+C*(x.normal.y-y.normal.y),y.normal.z+C*(x.normal.z-y.normal.z)))}}}class KB{constructor(e,n){this.position=e,this.normal=n}clone(){return new this.constructor(this.position.clone(),this.normal.clone())}}var sq=Object.prototype;function oq(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||sq;return t===n}var GE=oq;function aq(t,e){return function(n){return t(e(n))}}var UU=aq,lq=UU,uq=lq(Object.keys,Object),cq=uq,fq=GE,dq=cq,hq=Object.prototype,pq=hq.hasOwnProperty;function mq(t){if(!fq(t))return dq(t);var e=[];for(var n in Object(t))pq.call(t,n)&&n!="constructor"&&e.push(n);return e}var gq=mq,vq=typeof Qg=="object"&&Qg&&Qg.Object===Object&&Qg,zU=vq,yq=zU,xq=typeof self=="object"&&self&&self.Object===Object&&self,_q=yq||xq||Function("return this")(),So=_q,Sq=So,bq=Sq.Symbol,Om=bq,XB=Om,HU=Object.prototype,wq=HU.hasOwnProperty,Mq=HU.toString,Rh=XB?XB.toStringTag:void 0;function Aq(t){var e=wq.call(t,Rh),n=t[Rh];try{t[Rh]=void 0;var r=!0}catch{}var i=Mq.call(t);return r&&(e?t[Rh]=n:delete t[Rh]),i}var Eq=Aq,Cq=Object.prototype,Tq=Cq.toString;function Pq(t){return Tq.call(t)}var Rq=Pq,YB=Om,Bq=Eq,Iq=Rq,Dq="[object Null]",Lq="[object Undefined]",QB=YB?YB.toStringTag:void 0;function Oq(t){return t==null?t===void 0?Lq:Dq:QB&&QB in Object(t)?Bq(t):Iq(t)}var $u=Oq;function Fq(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var bd=Fq,kq=$u,Nq=bd,Uq="[object AsyncFunction]",zq="[object Function]",Hq="[object GeneratorFunction]",Gq="[object Proxy]";function $q(t){if(!Nq(t))return!1;var e=kq(t);return e==zq||e==Hq||e==Uq||e==Gq}var GU=$q,Vq=So,Wq=Vq["__core-js_shared__"],jq=Wq,wS=jq,ZB=function(){var t=/[^.]+$/.exec(wS&&wS.keys&&wS.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Jq(t){return!!ZB&&ZB in t}var Kq=Jq,Xq=Function.prototype,Yq=Xq.toString;function Qq(t){if(t!=null){try{return Yq.call(t)}catch{}try{return t+""}catch{}}return""}var $U=Qq,Zq=GU,qq=Kq,eee=bd,tee=$U,nee=/[\\^$.*+?()[\]{}|]/g,ree=/^\[object .+?Constructor\]$/,iee=Function.prototype,see=Object.prototype,oee=iee.toString,aee=see.hasOwnProperty,lee=RegExp("^"+oee.call(aee).replace(nee,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function uee(t){if(!eee(t)||qq(t))return!1;var e=Zq(t)?lee:ree;return e.test(tee(t))}var cee=uee;function fee(t,e){return t==null?void 0:t[e]}var dee=fee,hee=cee,pee=dee;function mee(t,e){var n=pee(t,e);return hee(n)?n:void 0}var Vu=mee,gee=Vu,vee=So,yee=gee(vee,"DataView"),xee=yee,_ee=Vu,See=So,bee=_ee(See,"Map"),$E=bee,wee=Vu,Mee=So,Aee=wee(Mee,"Promise"),Eee=Aee,Cee=Vu,Tee=So,Pee=Cee(Tee,"Set"),Ree=Pee,Bee=Vu,Iee=So,Dee=Bee(Iee,"WeakMap"),Lee=Dee,qw=xee,eM=$E,tM=Eee,nM=Ree,rM=Lee,VU=$u,wd=$U,qB="[object Map]",Oee="[object Object]",eI="[object Promise]",tI="[object Set]",nI="[object WeakMap]",rI="[object DataView]",Fee=wd(qw),kee=wd(eM),Nee=wd(tM),Uee=wd(nM),zee=wd(rM),Ql=VU;(qw&&Ql(new qw(new ArrayBuffer(1)))!=rI||eM&&Ql(new eM)!=qB||tM&&Ql(tM.resolve())!=eI||nM&&Ql(new nM)!=tI||rM&&Ql(new rM)!=nI)&&(Ql=function(t){var e=VU(t),n=e==Oee?t.constructor:void 0,r=n?wd(n):"";if(r)switch(r){case Fee:return rI;case kee:return qB;case Nee:return eI;case Uee:return tI;case zee:return nI}return e});var Bx=Ql;function Hee(t){return t!=null&&typeof t=="object"}var ha=Hee,Gee=$u,$ee=ha,Vee="[object Arguments]";function Wee(t){return $ee(t)&&Gee(t)==Vee}var jee=Wee,iI=jee,Jee=ha,WU=Object.prototype,Kee=WU.hasOwnProperty,Xee=WU.propertyIsEnumerable,Yee=iI(function(){return arguments}())?iI:function(t){return Jee(t)&&Kee.call(t,"callee")&&!Xee.call(t,"callee")},jU=Yee,Qee=Array.isArray,js=Qee,Zee=9007199254740991;function qee(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Zee}var VE=qee,ete=GU,tte=VE;function nte(t){return t!=null&&tte(t.length)&&!ete(t)}var Ix=nte,nd={},rte={get exports(){return nd},set exports(t){nd=t}};function ite(){return!1}var ste=ite;(function(t,e){var n=So,r=ste,i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,a=o?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;t.exports=u})(rte,nd);var ote=$u,ate=VE,lte=ha,ute="[object Arguments]",cte="[object Array]",fte="[object Boolean]",dte="[object Date]",hte="[object Error]",pte="[object Function]",mte="[object Map]",gte="[object Number]",vte="[object Object]",yte="[object RegExp]",xte="[object Set]",_te="[object String]",Ste="[object WeakMap]",bte="[object ArrayBuffer]",wte="[object DataView]",Mte="[object Float32Array]",Ate="[object Float64Array]",Ete="[object Int8Array]",Cte="[object Int16Array]",Tte="[object Int32Array]",Pte="[object Uint8Array]",Rte="[object Uint8ClampedArray]",Bte="[object Uint16Array]",Ite="[object Uint32Array]",dn={};dn[Mte]=dn[Ate]=dn[Ete]=dn[Cte]=dn[Tte]=dn[Pte]=dn[Rte]=dn[Bte]=dn[Ite]=!0;dn[ute]=dn[cte]=dn[bte]=dn[fte]=dn[wte]=dn[dte]=dn[hte]=dn[pte]=dn[mte]=dn[gte]=dn[vte]=dn[yte]=dn[xte]=dn[_te]=dn[Ste]=!1;function Dte(t){return lte(t)&&ate(t.length)&&!!dn[ote(t)]}var Lte=Dte;function Ote(t){return function(e){return t(e)}}var WE=Ote,rd={},Fte={get exports(){return rd},set exports(t){rd=t}};(function(t,e){var n=zU,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=a})(Fte,rd);var kte=Lte,Nte=WE,sI=rd,oI=sI&&sI.isTypedArray,Ute=oI?Nte(oI):kte,JU=Ute;function zte(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var KU=zte;function Hte(){this.__data__=[],this.size=0}var Gte=Hte;function $te(t,e){return t===e||t!==t&&e!==e}var jE=$te,Vte=jE;function Wte(t,e){for(var n=t.length;n--;)if(Vte(t[n][0],e))return n;return-1}var Dx=Wte,jte=Dx,Jte=Array.prototype,Kte=Jte.splice;function Xte(t){var e=this.__data__,n=jte(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Kte.call(e,n,1),--this.size,!0}var Yte=Xte,Qte=Dx;function Zte(t){var e=this.__data__,n=Qte(e,t);return n<0?void 0:e[n][1]}var qte=Zte,ene=Dx;function tne(t){return ene(this.__data__,t)>-1}var nne=tne,rne=Dx;function ine(t,e){var n=this.__data__,r=rne(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var sne=ine,one=Gte,ane=Yte,lne=qte,une=nne,cne=sne;function Md(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Md.prototype.clear=one;Md.prototype.delete=ane;Md.prototype.get=lne;Md.prototype.has=une;Md.prototype.set=cne;var Lx=Md,fne=Lx;function dne(){this.__data__=new fne,this.size=0}var hne=dne;function pne(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var mne=pne;function gne(t){return this.__data__.get(t)}var vne=gne;function yne(t){return this.__data__.has(t)}var xne=yne,_ne=Vu,Sne=_ne(Object,"create"),Ox=Sne,aI=Ox;function bne(){this.__data__=aI?aI(null):{},this.size=0}var wne=bne;function Mne(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Ane=Mne,Ene=Ox,Cne="__lodash_hash_undefined__",Tne=Object.prototype,Pne=Tne.hasOwnProperty;function Rne(t){var e=this.__data__;if(Ene){var n=e[t];return n===Cne?void 0:n}return Pne.call(e,t)?e[t]:void 0}var Bne=Rne,Ine=Ox,Dne=Object.prototype,Lne=Dne.hasOwnProperty;function One(t){var e=this.__data__;return Ine?e[t]!==void 0:Lne.call(e,t)}var Fne=One,kne=Ox,Nne="__lodash_hash_undefined__";function Une(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=kne&&e===void 0?Nne:e,this}var zne=Une,Hne=wne,Gne=Ane,$ne=Bne,Vne=Fne,Wne=zne;function Ad(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ad.prototype.clear=Hne;Ad.prototype.delete=Gne;Ad.prototype.get=$ne;Ad.prototype.has=Vne;Ad.prototype.set=Wne;var jne=Ad,lI=jne,Jne=Lx,Kne=$E;function Xne(){this.size=0,this.__data__={hash:new lI,map:new(Kne||Jne),string:new lI}}var Yne=Xne;function Qne(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Zne=Qne,qne=Zne;function ere(t,e){var n=t.__data__;return qne(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Fx=ere,tre=Fx;function nre(t){var e=tre(this,t).delete(t);return this.size-=e?1:0,e}var rre=nre,ire=Fx;function sre(t){return ire(this,t).get(t)}var ore=sre,are=Fx;function lre(t){return are(this,t).has(t)}var ure=lre,cre=Fx;function fre(t,e){var n=cre(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var dre=fre,hre=Yne,pre=rre,mre=ore,gre=ure,vre=dre;function Ed(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ed.prototype.clear=hre;Ed.prototype.delete=pre;Ed.prototype.get=mre;Ed.prototype.has=gre;Ed.prototype.set=vre;var JE=Ed,yre=Lx,xre=$E,_re=JE,Sre=200;function bre(t,e){var n=this.__data__;if(n instanceof yre){var r=n.__data__;if(!xre||r.length<Sre-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new _re(r)}return n.set(t,e),this.size=n.size,this}var wre=bre,Mre=Lx,Are=hne,Ere=mne,Cre=vne,Tre=xne,Pre=wre;function Cd(t){var e=this.__data__=new Mre(t);this.size=e.size}Cd.prototype.clear=Are;Cd.prototype.delete=Ere;Cd.prototype.get=Cre;Cd.prototype.has=Tre;Cd.prototype.set=Pre;var KE=Cd,Rre="__lodash_hash_undefined__";function Bre(t){return this.__data__.set(t,Rre),this}var Ire=Bre;function Dre(t){return this.__data__.has(t)}var Lre=Dre,Ore=JE,Fre=Ire,kre=Lre;function Sy(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Ore;++e<n;)this.add(t[e])}Sy.prototype.add=Sy.prototype.push=Fre;Sy.prototype.has=kre;var Nre=Sy;function Ure(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var zre=Ure;function Hre(t,e){return t.has(e)}var Gre=Hre,$re=Nre,Vre=zre,Wre=Gre,jre=1,Jre=2;function Kre(t,e,n,r,i,s){var o=n&jre,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var u=s.get(t),c=s.get(e);if(u&&c)return u==e&&c==t;var d=-1,p=!0,m=n&Jre?new $re:void 0;for(s.set(t,e),s.set(e,t);++d<a;){var v=t[d],y=e[d];if(r)var x=o?r(y,v,d,e,t,s):r(v,y,d,t,e,s);if(x!==void 0){if(x)continue;p=!1;break}if(m){if(!Vre(e,function(g,b){if(!Wre(m,b)&&(v===g||i(v,g,n,r,s)))return m.push(b)})){p=!1;break}}else if(!(v===y||i(v,y,n,r,s))){p=!1;break}}return s.delete(t),s.delete(e),p}var XU=Kre,Xre=So,Yre=Xre.Uint8Array,YU=Yre;function Qre(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var Zre=Qre;function qre(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var eie=qre,uI=Om,cI=YU,tie=jE,nie=XU,rie=Zre,iie=eie,sie=1,oie=2,aie="[object Boolean]",lie="[object Date]",uie="[object Error]",cie="[object Map]",fie="[object Number]",die="[object RegExp]",hie="[object Set]",pie="[object String]",mie="[object Symbol]",gie="[object ArrayBuffer]",vie="[object DataView]",fI=uI?uI.prototype:void 0,MS=fI?fI.valueOf:void 0;function yie(t,e,n,r,i,s,o){switch(n){case vie:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case gie:return!(t.byteLength!=e.byteLength||!s(new cI(t),new cI(e)));case aie:case lie:case fie:return tie(+t,+e);case uie:return t.name==e.name&&t.message==e.message;case die:case pie:return t==e+"";case cie:var a=rie;case hie:var l=r&sie;if(a||(a=iie),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;r|=oie,o.set(t,e);var c=nie(a(t),a(e),r,i,s,o);return o.delete(t),c;case mie:if(MS)return MS.call(t)==MS.call(e)}return!1}var xie=yie;function _ie(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var QU=_ie,Sie=QU,bie=js;function wie(t,e,n){var r=e(t);return bie(t)?r:Sie(r,n(t))}var ZU=wie;function Mie(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}var Aie=Mie;function Eie(){return[]}var qU=Eie,Cie=Aie,Tie=qU,Pie=Object.prototype,Rie=Pie.propertyIsEnumerable,dI=Object.getOwnPropertySymbols,Bie=dI?function(t){return t==null?[]:(t=Object(t),Cie(dI(t),function(e){return Rie.call(t,e)}))}:Tie,XE=Bie;function Iie(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Die=Iie,Lie=9007199254740991,Oie=/^(?:0|[1-9]\d*)$/;function Fie(t,e){var n=typeof t;return e=e??Lie,!!e&&(n=="number"||n!="symbol"&&Oie.test(t))&&t>-1&&t%1==0&&t<e}var ez=Fie,kie=Die,Nie=jU,Uie=js,zie=nd,Hie=ez,Gie=JU,$ie=Object.prototype,Vie=$ie.hasOwnProperty;function Wie(t,e){var n=Uie(t),r=!n&&Nie(t),i=!n&&!r&&zie(t),s=!n&&!r&&!i&&Gie(t),o=n||r||i||s,a=o?kie(t.length,String):[],l=a.length;for(var u in t)(e||Vie.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Hie(u,l)))&&a.push(u);return a}var tz=Wie,jie=tz,Jie=gq,Kie=Ix;function Xie(t){return Kie(t)?jie(t):Jie(t)}var Fm=Xie,Yie=ZU,Qie=XE,Zie=Fm;function qie(t){return Yie(t,Zie,Qie)}var nz=qie,hI=nz,ese=1,tse=Object.prototype,nse=tse.hasOwnProperty;function rse(t,e,n,r,i,s){var o=n&ese,a=hI(t),l=a.length,u=hI(e),c=u.length;if(l!=c&&!o)return!1;for(var d=l;d--;){var p=a[d];if(!(o?p in e:nse.call(e,p)))return!1}var m=s.get(t),v=s.get(e);if(m&&v)return m==e&&v==t;var y=!0;s.set(t,e),s.set(e,t);for(var x=o;++d<l;){p=a[d];var g=t[p],b=e[p];if(r)var S=o?r(b,g,p,e,t,s):r(g,b,p,t,e,s);if(!(S===void 0?g===b||i(g,b,n,r,s):S)){y=!1;break}x||(x=p=="constructor")}if(y&&!x){var M=t.constructor,C=e.constructor;M!=C&&"constructor"in t&&"constructor"in e&&!(typeof M=="function"&&M instanceof M&&typeof C=="function"&&C instanceof C)&&(y=!1)}return s.delete(t),s.delete(e),y}var ise=rse,AS=KE,sse=XU,ose=xie,ase=ise,pI=Bx,mI=js,gI=nd,lse=JU,use=1,vI="[object Arguments]",yI="[object Array]",sv="[object Object]",cse=Object.prototype,xI=cse.hasOwnProperty;function fse(t,e,n,r,i,s){var o=mI(t),a=mI(e),l=o?yI:pI(t),u=a?yI:pI(e);l=l==vI?sv:l,u=u==vI?sv:u;var c=l==sv,d=u==sv,p=l==u;if(p&&gI(t)){if(!gI(e))return!1;o=!0,c=!1}if(p&&!c)return s||(s=new AS),o||lse(t)?sse(t,e,n,r,i,s):ose(t,e,l,n,r,i,s);if(!(n&use)){var m=c&&xI.call(t,"__wrapped__"),v=d&&xI.call(e,"__wrapped__");if(m||v){var y=m?t.value():t,x=v?e.value():e;return s||(s=new AS),i(y,x,n,r,s)}}return p?(s||(s=new AS),ase(t,e,n,r,i,s)):!1}var dse=fse,hse=dse,_I=ha;function rz(t,e,n,r,i){return t===e?!0:t==null||e==null||!_I(t)&&!_I(e)?t!==t&&e!==e:hse(t,e,n,r,rz,i)}var iz=rz,pse=KE,mse=iz,gse=1,vse=2;function yse(t,e,n,r){var i=n.length,s=i,o=!r;if(t==null)return!s;for(t=Object(t);i--;){var a=n[i];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<s;){a=n[i];var l=a[0],u=t[l],c=a[1];if(o&&a[2]){if(u===void 0&&!(l in t))return!1}else{var d=new pse;if(r)var p=r(u,c,l,t,e,d);if(!(p===void 0?mse(c,u,gse|vse,r,d):p))return!1}}return!0}var xse=yse,_se=bd;function Sse(t){return t===t&&!_se(t)}var sz=Sse,bse=sz,wse=Fm;function Mse(t){for(var e=wse(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,bse(i)]}return e}var Ase=Mse;function Ese(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var oz=Ese,Cse=xse,Tse=Ase,Pse=oz;function Rse(t){var e=Tse(t);return e.length==1&&e[0][2]?Pse(e[0][0],e[0][1]):function(n){return n===t||Cse(n,t,e)}}var Bse=Rse,Ise=$u,Dse=ha,Lse="[object Symbol]";function Ose(t){return typeof t=="symbol"||Dse(t)&&Ise(t)==Lse}var YE=Ose,Fse=js,kse=YE,Nse=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Use=/^\w*$/;function zse(t,e){if(Fse(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||kse(t)?!0:Use.test(t)||!Nse.test(t)||e!=null&&t in Object(e)}var QE=zse,az=JE,Hse="Expected a function";function ZE(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Hse);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(ZE.Cache||az),n}ZE.Cache=az;var Gse=ZE,$se=Gse,Vse=500;function Wse(t){var e=$se(t,function(r){return n.size===Vse&&n.clear(),r}),n=e.cache;return e}var jse=Wse,Jse=jse,Kse=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Xse=/\\(\\)?/g,Yse=Jse(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Kse,function(n,r,i,s){e.push(i?s.replace(Xse,"$1"):r||n)}),e}),Qse=Yse,SI=Om,Zse=KU,qse=js,eoe=YE,toe=1/0,bI=SI?SI.prototype:void 0,wI=bI?bI.toString:void 0;function lz(t){if(typeof t=="string")return t;if(qse(t))return Zse(t,lz)+"";if(eoe(t))return wI?wI.call(t):"";var e=t+"";return e=="0"&&1/t==-toe?"-0":e}var noe=lz,roe=noe;function ioe(t){return t==null?"":roe(t)}var soe=ioe,ooe=js,aoe=QE,loe=Qse,uoe=soe;function coe(t,e){return ooe(t)?t:aoe(t,e)?[t]:loe(uoe(t))}var uz=coe,foe=YE,doe=1/0;function hoe(t){if(typeof t=="string"||foe(t))return t;var e=t+"";return e=="0"&&1/t==-doe?"-0":e}var kx=hoe,poe=uz,moe=kx;function goe(t,e){e=poe(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[moe(e[n++])];return n&&n==r?t:void 0}var cz=goe,voe=cz;function yoe(t,e,n){var r=t==null?void 0:voe(t,e);return r===void 0?n:r}var xoe=yoe;function _oe(t,e){return t!=null&&e in Object(t)}var Soe=_oe,boe=uz,woe=jU,Moe=js,Aoe=ez,Eoe=VE,Coe=kx;function Toe(t,e,n){e=boe(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var o=Coe(e[r]);if(!(s=t!=null&&n(t,o)))break;t=t[o]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&Eoe(i)&&Aoe(o,i)&&(Moe(t)||woe(t)))}var Poe=Toe,Roe=Soe,Boe=Poe;function Ioe(t,e){return t!=null&&Boe(t,e,Roe)}var Doe=Ioe,Loe=iz,Ooe=xoe,Foe=Doe,koe=QE,Noe=sz,Uoe=oz,zoe=kx,Hoe=1,Goe=2;function $oe(t,e){return koe(t)&&Noe(e)?Uoe(zoe(t),e):function(n){var r=Ooe(n,t);return r===void 0&&r===e?Foe(n,t):Loe(e,r,Hoe|Goe)}}var Voe=$oe;function Woe(t){return t}var fz=Woe;function joe(t){return function(e){return e==null?void 0:e[t]}}var Joe=joe,Koe=cz;function Xoe(t){return function(e){return Koe(e,t)}}var Yoe=Xoe,Qoe=Joe,Zoe=Yoe,qoe=QE,eae=kx;function tae(t){return qoe(t)?Qoe(eae(t)):Zoe(t)}var nae=tae,rae=Bse,iae=Voe,sae=fz,oae=js,aae=nae;function lae(t){return typeof t=="function"?t:t==null?sae:typeof t=="object"?oae(t)?iae(t[0],t[1]):rae(t):aae(t)}var uae=lae;function cae(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var l=o[t?a:++i];if(n(s[l],l,s)===!1)break}return e}}var fae=cae,dae=fae,hae=dae(),pae=hae,mae=pae,gae=Fm;function vae(t,e){return t&&mae(t,e,gae)}var dz=vae,yae=Ix;function xae(t,e){return function(n,r){if(n==null)return n;if(!yae(n))return t(n,r);for(var i=n.length,s=e?i:-1,o=Object(n);(e?s--:++s<i)&&r(o[s],s,o)!==!1;);return n}}var _ae=xae,Sae=dz,bae=_ae,wae=bae(Sae),Mae=wae,Aae=Mae,Eae=Ix;function Cae(t,e){var n=-1,r=Eae(t)?Array(t.length):[];return Aae(t,function(i,s,o){r[++n]=e(i,s,o)}),r}var Tae=Cae,Pae=KU,Rae=uae,Bae=Tae,Iae=js;function Dae(t,e){var n=Iae(t)?Pae:Bae;return n(t,Rae(e))}var Lae=Dae;function Oae(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var Fae=Oae,kae=fz;function Nae(t){return typeof t=="function"?t:kae}var Uae=Nae,zae=Vu,Hae=function(){try{var t=zae(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Gae=Hae,MI=Gae;function $ae(t,e,n){e=="__proto__"&&MI?MI(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var hz=$ae,Vae=hz,Wae=jE,jae=Object.prototype,Jae=jae.hasOwnProperty;function Kae(t,e,n){var r=t[e];(!(Jae.call(t,e)&&Wae(r,n))||n===void 0&&!(e in t))&&Vae(t,e,n)}var pz=Kae,Xae=pz,Yae=hz;function Qae(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?Yae(n,a,l):Xae(n,a,l)}return n}var Nx=Qae,Zae=Nx,qae=Fm;function ele(t,e){return t&&Zae(e,qae(e),t)}var tle=ele;function nle(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var rle=nle,ile=bd,sle=GE,ole=rle,ale=Object.prototype,lle=ale.hasOwnProperty;function ule(t){if(!ile(t))return ole(t);var e=sle(t),n=[];for(var r in t)r=="constructor"&&(e||!lle.call(t,r))||n.push(r);return n}var cle=ule,fle=tz,dle=cle,hle=Ix;function ple(t){return hle(t)?fle(t,!0):dle(t)}var qE=ple,mle=Nx,gle=qE;function vle(t,e){return t&&mle(e,gle(e),t)}var yle=vle,by={},xle={get exports(){return by},set exports(t){by=t}};(function(t,e){var n=So,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s?n.Buffer:void 0,a=o?o.allocUnsafe:void 0;function l(u,c){if(c)return u.slice();var d=u.length,p=a?a(d):new u.constructor(d);return u.copy(p),p}t.exports=l})(xle,by);function _le(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var Sle=_le,ble=Nx,wle=XE;function Mle(t,e){return ble(t,wle(t),e)}var Ale=Mle,Ele=UU,Cle=Ele(Object.getPrototypeOf,Object),eC=Cle,Tle=QU,Ple=eC,Rle=XE,Ble=qU,Ile=Object.getOwnPropertySymbols,Dle=Ile?function(t){for(var e=[];t;)Tle(e,Rle(t)),t=Ple(t);return e}:Ble,mz=Dle,Lle=Nx,Ole=mz;function Fle(t,e){return Lle(t,Ole(t),e)}var kle=Fle,Nle=ZU,Ule=mz,zle=qE;function Hle(t){return Nle(t,zle,Ule)}var Gle=Hle,$le=Object.prototype,Vle=$le.hasOwnProperty;function Wle(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&Vle.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var jle=Wle,AI=YU;function Jle(t){var e=new t.constructor(t.byteLength);return new AI(e).set(new AI(t)),e}var tC=Jle,Kle=tC;function Xle(t,e){var n=e?Kle(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var Yle=Xle,Qle=/\w*$/;function Zle(t){var e=new t.constructor(t.source,Qle.exec(t));return e.lastIndex=t.lastIndex,e}var qle=Zle,EI=Om,CI=EI?EI.prototype:void 0,TI=CI?CI.valueOf:void 0;function eue(t){return TI?Object(TI.call(t)):{}}var tue=eue,nue=tC;function rue(t,e){var n=e?nue(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var iue=rue,sue=tC,oue=Yle,aue=qle,lue=tue,uue=iue,cue="[object Boolean]",fue="[object Date]",due="[object Map]",hue="[object Number]",pue="[object RegExp]",mue="[object Set]",gue="[object String]",vue="[object Symbol]",yue="[object ArrayBuffer]",xue="[object DataView]",_ue="[object Float32Array]",Sue="[object Float64Array]",bue="[object Int8Array]",wue="[object Int16Array]",Mue="[object Int32Array]",Aue="[object Uint8Array]",Eue="[object Uint8ClampedArray]",Cue="[object Uint16Array]",Tue="[object Uint32Array]";function Pue(t,e,n){var r=t.constructor;switch(e){case yue:return sue(t);case cue:case fue:return new r(+t);case xue:return oue(t,n);case _ue:case Sue:case bue:case wue:case Mue:case Aue:case Eue:case Cue:case Tue:return uue(t,n);case due:return new r;case hue:case gue:return new r(t);case pue:return aue(t);case mue:return new r;case vue:return lue(t)}}var Rue=Pue,Bue=bd,PI=Object.create,Iue=function(){function t(){}return function(e){if(!Bue(e))return{};if(PI)return PI(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),Due=Iue,Lue=Due,Oue=eC,Fue=GE;function kue(t){return typeof t.constructor=="function"&&!Fue(t)?Lue(Oue(t)):{}}var Nue=kue,Uue=Bx,zue=ha,Hue="[object Map]";function Gue(t){return zue(t)&&Uue(t)==Hue}var $ue=Gue,Vue=$ue,Wue=WE,RI=rd,BI=RI&&RI.isMap,jue=BI?Wue(BI):Vue,Jue=jue,Kue=Bx,Xue=ha,Yue="[object Set]";function Que(t){return Xue(t)&&Kue(t)==Yue}var Zue=Que,que=Zue,ece=WE,II=rd,DI=II&&II.isSet,tce=DI?ece(DI):que,nce=tce,rce=KE,ice=Fae,sce=pz,oce=tle,ace=yle,lce=by,uce=Sle,cce=Ale,fce=kle,dce=nz,hce=Gle,pce=Bx,mce=jle,gce=Rue,vce=Nue,yce=js,xce=nd,_ce=Jue,Sce=bd,bce=nce,wce=Fm,Mce=qE,Ace=1,Ece=2,Cce=4,gz="[object Arguments]",Tce="[object Array]",Pce="[object Boolean]",Rce="[object Date]",Bce="[object Error]",vz="[object Function]",Ice="[object GeneratorFunction]",Dce="[object Map]",Lce="[object Number]",yz="[object Object]",Oce="[object RegExp]",Fce="[object Set]",kce="[object String]",Nce="[object Symbol]",Uce="[object WeakMap]",zce="[object ArrayBuffer]",Hce="[object DataView]",Gce="[object Float32Array]",$ce="[object Float64Array]",Vce="[object Int8Array]",Wce="[object Int16Array]",jce="[object Int32Array]",Jce="[object Uint8Array]",Kce="[object Uint8ClampedArray]",Xce="[object Uint16Array]",Yce="[object Uint32Array]",on={};on[gz]=on[Tce]=on[zce]=on[Hce]=on[Pce]=on[Rce]=on[Gce]=on[$ce]=on[Vce]=on[Wce]=on[jce]=on[Dce]=on[Lce]=on[yz]=on[Oce]=on[Fce]=on[kce]=on[Nce]=on[Jce]=on[Kce]=on[Xce]=on[Yce]=!0;on[Bce]=on[vz]=on[Uce]=!1;function Vv(t,e,n,r,i,s){var o,a=e&Ace,l=e&Ece,u=e&Cce;if(n&&(o=i?n(t,r,i,s):n(t)),o!==void 0)return o;if(!Sce(t))return t;var c=yce(t);if(c){if(o=mce(t),!a)return uce(t,o)}else{var d=pce(t),p=d==vz||d==Ice;if(xce(t))return lce(t,a);if(d==yz||d==gz||p&&!i){if(o=l||p?{}:vce(t),!a)return l?fce(t,ace(o,t)):cce(t,oce(o,t))}else{if(!on[d])return i?t:{};o=gce(t,d,a)}}s||(s=new rce);var m=s.get(t);if(m)return m;s.set(t,o),bce(t)?t.forEach(function(x){o.add(Vv(x,e,n,x,t,s))}):_ce(t)&&t.forEach(function(x,g){o.set(g,Vv(x,e,n,g,t,s))});var v=u?l?hce:dce:l?Mce:wce,y=c?void 0:v(t);return ice(y||t,function(x,g){y&&(g=x,x=t[g]),sce(o,g,Vv(x,e,n,g,t,s))}),o}var Qce=Vv,Zce=$u,qce=js,efe=ha,tfe="[object String]";function nfe(t){return typeof t=="string"||!qce(t)&&efe(t)&&Zce(t)==tfe}var rfe=nfe;class ife extends J4{constructor(e){super(e),this.type=ls}parse(e){const a=function(S,M){switch(S){case 1:console.error("THREE.RGBELoader Read Error: "+(M||""));break;case 2:console.error("THREE.RGBELoader Write Error: "+(M||""));break;case 3:console.error("THREE.RGBELoader Bad File Format: "+(M||""));break;default:case 4:console.error("THREE.RGBELoader: Error: "+(M||""))}return-1},d=`
`,p=function(S,M,C){M=M||1024;let R=S.pos,I=-1,P=0,B="",O=String.fromCharCode.apply(null,new Uint16Array(S.subarray(R,R+128)));for(;0>(I=O.indexOf(d))&&P<M&&R<S.byteLength;)B+=O,P+=O.length,R+=128,O+=String.fromCharCode.apply(null,new Uint16Array(S.subarray(R,R+128)));return-1<I?(C!==!1&&(S.pos+=P+I+1),B+O.slice(0,I)):!1},m=function(S){const M=/^#\?(\S+)/,C=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,E=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,R=/^\s*FORMAT=(\S+)\s*$/,I=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,P={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let B,O;if(S.pos>=S.byteLength||!(B=p(S)))return a(1,"no header found");if(!(O=B.match(M)))return a(3,"bad initial token");for(P.valid|=1,P.programtype=O[1],P.string+=B+`
`;B=p(S),B!==!1;){if(P.string+=B+`
`,B.charAt(0)==="#"){P.comments+=B+`
`;continue}if((O=B.match(C))&&(P.gamma=parseFloat(O[1])),(O=B.match(E))&&(P.exposure=parseFloat(O[1])),(O=B.match(R))&&(P.valid|=2,P.format=O[1]),(O=B.match(I))&&(P.valid|=4,P.height=parseInt(O[1],10),P.width=parseInt(O[2],10)),P.valid&2&&P.valid&4)break}return P.valid&2?P.valid&4?P:a(3,"missing image size specifier"):a(3,"missing format specifier")},v=function(S,M,C){const E=M;if(E<8||E>32767||S[0]!==2||S[1]!==2||S[2]&128)return new Uint8Array(S);if(E!==(S[2]<<8|S[3]))return a(3,"wrong scanline width");const R=new Uint8Array(4*M*C);if(!R.length)return a(4,"unable to allocate buffer space");let I=0,P=0;const B=4*E,O=new Uint8Array(4),H=new Uint8Array(B);let U=C;for(;U>0&&P<S.byteLength;){if(P+4>S.byteLength)return a(1);if(O[0]=S[P++],O[1]=S[P++],O[2]=S[P++],O[3]=S[P++],O[0]!=2||O[1]!=2||(O[2]<<8|O[3])!=E)return a(3,"bad rgbe scanline format");let V=0,j;for(;V<B&&P<S.byteLength;){j=S[P++];const ne=j>128;if(ne&&(j-=128),j===0||V+j>B)return a(3,"bad scanline data");if(ne){const z=S[P++];for(let J=0;J<j;J++)H[V++]=z}else H.set(S.subarray(P,P+j),V),V+=j,P+=j}const Z=E;for(let ne=0;ne<Z;ne++){let z=0;R[I]=H[ne+z],z+=E,R[I+1]=H[ne+z],z+=E,R[I+2]=H[ne+z],z+=E,R[I+3]=H[ne+z],I+=4}U--}return R},y=function(S,M,C,E){const R=S[M+3],I=Math.pow(2,R-128)/255;C[E+0]=S[M+0]*I,C[E+1]=S[M+1]*I,C[E+2]=S[M+2]*I,C[E+3]=1},x=function(S,M,C,E){const R=S[M+3],I=Math.pow(2,R-128)/255;C[E+0]=Wh.toHalfFloat(Math.min(S[M+0]*I,65504)),C[E+1]=Wh.toHalfFloat(Math.min(S[M+1]*I,65504)),C[E+2]=Wh.toHalfFloat(Math.min(S[M+2]*I,65504)),C[E+3]=Wh.toHalfFloat(1)},g=new Uint8Array(e);g.pos=0;const b=m(g);if(b!==-1){const S=b.width,M=b.height,C=v(g.subarray(g.pos),S,M);if(C!==-1){let E,R,I;switch(this.type){case Pi:I=C.length/4;const P=new Float32Array(I*4);for(let O=0;O<I;O++)y(C,O*4,P,O*4);E=P,R=Pi;break;case ls:I=C.length/4;const B=new Uint16Array(I*4);for(let O=0;O<I;O++)x(C,O*4,B,O*4);E=B,R=ls;break;default:console.error("THREE.RGBELoader: unsupported type: ",this.type);break}return{width:S,height:M,data:E,header:b.string,gamma:b.gamma,exposure:b.exposure,type:R}}}return null}setDataType(e){return this.type=e,this}load(e,n,r,i){function s(o,a){switch(o.type){case Pi:case ls:o.encoding=pi,o.minFilter=Xt,o.magFilter=Xt,o.generateMipmaps=!1,o.flipY=!0;break}n&&n(o,a)}return super.load(e,s,r,i)}}const ES=new WeakMap;class sfe extends qr{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,n,r,i){const s=new ki(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(n).catch(i)},r,i)}decodeDracoFile(e,n,r,i){const s={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(e,s).then(n)}decodeGeometry(e,n){for(const l in n.attributeTypes){const u=n.attributeTypes[l];u.BYTES_PER_ELEMENT!==void 0&&(n.attributeTypes[l]=u.name)}const r=JSON.stringify(n);if(ES.has(e)){const l=ES.get(e);if(l.key===r)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(i=l,new Promise((u,c)=>{i._callbacks[s]={resolve:u,reject:c},i.postMessage({type:"decode",id:s,taskConfig:n,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{i&&s&&this._releaseTask(i,s)}),ES.set(e,{key:r,promise:a}),a}_createGeometry(e){const n=new gt;e.index&&n.setIndex(new Ut(e.index.array,1));for(let r=0;r<e.attributes.length;r++){const i=e.attributes[r],s=i.name,o=i.array,a=i.itemSize;n.setAttribute(s,new Ut(o,a))}return n}_loadLibrary(e,n){const r=new ki(this.manager);return r.setPath(this.decoderPath),r.setResponseType(n),r.setWithCredentials(this.withCredentials),new Promise((i,s)=>{r.load(e,i,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",n=[];return e?n.push(this._loadLibrary("draco_decoder.js","text")):(n.push(this._loadLibrary("draco_wasm_wrapper.js","text")),n.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(n).then(r=>{const i=r[0];e||(this.decoderConfig.wasmBinary=r[1]);const s=ofe.toString(),o=["/* draco decoder */",i,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,n){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const i=new Worker(this.workerSourceURL);i._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(s){const o=s.data;switch(o.type){case"decode":i._callbacks[o.id].resolve(o);break;case"error":i._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(i)}else this.workerPool.sort(function(i,s){return i._taskLoad>s._taskLoad?-1:1});const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=n,r._taskLoad+=n,r})}_releaseTask(e,n){e._taskLoad-=e._taskCosts[n],delete e._callbacks[n],delete e._taskCosts[n]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function ofe(){let t,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":t=a.decoderConfig,e=new Promise(function(c){t.onModuleLoaded=function(d){c({draco:d})},DracoDecoderModule(t)});break;case"decode":const l=a.buffer,u=a.taskConfig;e.then(c=>{const d=c.draco,p=new d.Decoder,m=new d.DecoderBuffer;m.Init(new Int8Array(l),l.byteLength);try{const v=n(d,p,m,u),y=v.attributes.map(x=>x.array.buffer);v.index&&y.push(v.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:v},y)}catch(v){console.error(v),self.postMessage({type:"error",id:a.id,error:v.message})}finally{d.destroy(m),d.destroy(p)}});break}};function n(o,a,l,u){const c=u.attributeIDs,d=u.attributeTypes;let p,m;const v=a.GetEncodedGeometryType(l);if(v===o.TRIANGULAR_MESH)p=new o.Mesh,m=a.DecodeBufferToMesh(l,p);else if(v===o.POINT_CLOUD)p=new o.PointCloud,m=a.DecodeBufferToPointCloud(l,p);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!m.ok()||p.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+m.error_msg());const y={index:null,attributes:[]};for(const x in c){const g=self[d[x]];let b,S;if(u.useUniqueIDs)S=c[x],b=a.GetAttributeByUniqueId(p,S);else{if(S=a.GetAttributeId(p,o[c[x]]),S===-1)continue;b=a.GetAttribute(p,S)}y.attributes.push(i(o,a,p,x,g,b))}return v===o.TRIANGULAR_MESH&&(y.index=r(o,a,p)),o.destroy(p),y}function r(o,a,l){const c=l.num_faces()*3,d=c*4,p=o._malloc(d);a.GetTrianglesUInt32Array(l,d,p);const m=new Uint32Array(o.HEAPF32.buffer,p,c).slice();return o._free(p),{array:m,itemSize:1}}function i(o,a,l,u,c,d){const p=d.num_components(),v=l.num_points()*p,y=v*c.BYTES_PER_ELEMENT,x=s(o,c),g=o._malloc(y);a.GetAttributeDataArrayForAllPoints(l,d,x,y,g);const b=new c(o.HEAPF32.buffer,g,v).slice();return o._free(g),{name:u,array:b,itemSize:p}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let ov;const CS=()=>{if(ov)return ov;const t="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",n=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),r=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let i=t;WebAssembly.validate(n)&&(i=e);let s;const o=WebAssembly.instantiate(a(i),{}).then(d=>{s=d.instance,s.exports.__wasm_call_ctors()});function a(d){const p=new Uint8Array(d.length);for(let v=0;v<d.length;++v){const y=d.charCodeAt(v);p[v]=y>96?y-71:y>64?y-65:y>47?y+4:y>46?63:62}let m=0;for(let v=0;v<d.length;++v)p[m++]=p[v]<60?r[p[v]]:(p[v]-60)*64+p[++v];return p.buffer.slice(0,m)}function l(d,p,m,v,y,x){const g=s.exports.sbrk,b=m+3&-4,S=g(b*v),M=g(y.length),C=new Uint8Array(s.exports.memory.buffer);C.set(y,M);const E=d(S,m,v,M,y.length);if(E===0&&x&&x(S,b,v),p.set(C.subarray(S,S+m*v)),g(S-g(0)),E!==0)throw new Error(`Malformed buffer data: ${E}`)}const u={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},c={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return ov={ready:o,supported:!0,decodeVertexBuffer(d,p,m,v,y){l(s.exports.meshopt_decodeVertexBuffer,d,p,m,v,s.exports[u[y]])},decodeIndexBuffer(d,p,m,v){l(s.exports.meshopt_decodeIndexBuffer,d,p,m,v)},decodeIndexSequence(d,p,m,v){l(s.exports.meshopt_decodeIndexSequence,d,p,m,v)},decodeGltfBuffer(d,p,m,v,y,x){l(s.exports[c[y]],d,p,m,v,s.exports[u[x]])}},ov},LI=t=>t===Object(t)&&!Array.isArray(t)&&typeof t!="function";function km(t,e){const n=yo(i=>i.gl),r=da(Bm,LI(t)?Object.values(t):t);if(T.useLayoutEffect(()=>{e==null||e(r)},[e]),T.useEffect(()=>{(Array.isArray(r)?r:[r]).forEach(n.initTexture)},[n,r]),LI(t)){const i=Object.keys(t),s={};return i.forEach(o=>Object.assign(s,{[o]:r[i.indexOf(o)]})),s}else return r}km.preload=t=>da.preload(Bm,t);km.clear=t=>da.clear(Bm,t);function afe(t){return Array.isArray(t)}function TS(t=[0,0,0]){return afe(t)?t:t instanceof N||t instanceof Sl?[t.x,t.y,t.z]:[t,t,t]}function Wv({debug:t,mesh:e,children:n,position:r,rotation:i,scale:s,...o}){const a=T.useRef(null),l=T.useRef(null);return T.useLayoutEffect(()=>{const u=(e==null?void 0:e.current)||a.current.parent,c=a.current;if(!(u instanceof Hn))throw new Error('Decal must have a Mesh as parent or specify its "mesh" prop');const d={position:new N,rotation:new Sl,scale:new N(1,1,1)};if(u){Vo(d,{position:r,scale:s});const p=u.matrixWorld.clone();if(u.matrixWorld.identity(),!i||typeof i=="number"){const m=new Ht;m.position.copy(d.position),m.lookAt(u.position),typeof i=="number"&&m.rotateZ(i),Vo(d,{rotation:m.rotation})}else Vo(d,{rotation:i});return c.geometry=new iq(u,d.position,d.rotation,d.scale),l.current&&Vo(l.current,d),u.matrixWorld=p,()=>{c.geometry.dispose()}}},[e,...TS(r),...TS(s),...TS(i)]),T.createElement("mesh",{ref:a},n||T.createElement("meshStandardMaterial",un({transparent:!0,polygonOffset:!0,polygonOffsetFactor:-10},o)),t&&T.createElement("mesh",{ref:l},T.createElement("boxGeometry",null),T.createElement("meshNormalMaterial",{wireframe:!0}),T.createElement("axesHelper",null)))}let av=null;function xz(t,e,n){return r=>{n&&n(r),t&&(av||(av=new sfe),av.setDecoderPath(typeof t=="string"?t:"https://www.gstatic.com/draco/versioned/decoders/1.5.5/"),r.setDRACOLoader(av)),e&&r.setMeshoptDecoder(typeof CS=="function"?CS():CS)}}function Ml(t,e=!0,n=!0,r){return da(HE,t,xz(e,n,r))}Ml.preload=(t,e=!0,n=!0,r)=>da.preload(HE,t,xz(e,n,r));Ml.clear=t=>da.clear(HE,t);const lfe=T.forwardRef(function({children:e,disable:n,disableX:r,disableY:i,disableZ:s,left:o,right:a,top:l,bottom:u,front:c,back:d,onCentered:p,precise:m=!0,...v},y){const x=T.useRef(null),g=T.useRef(null),b=T.useRef(null);return T.useLayoutEffect(()=>{g.current.matrixWorld.identity();const S=new Gi().setFromObject(b.current,m),M=new N,C=new ms,E=S.max.x-S.min.x,R=S.max.y-S.min.y,I=S.max.z-S.min.z;S.getCenter(M),S.getBoundingSphere(C);const P=l?R/2:u?-R/2:0,B=o?-E/2:a?E/2:0,O=c?I/2:d?-I/2:0;g.current.position.set(n||r?0:-M.x+B,n||i?0:-M.y+P,n||s?0:-M.z+O),typeof p<"u"&&p({parent:x.current.parent,container:x.current,width:E,height:R,depth:I,boundingBox:S,boundingSphere:C,center:M,verticalAlignment:P,horizontalAlignment:B,depthAlignment:O})}),T.useImperativeHandle(y,()=>x.current,[]),T.createElement("group",un({ref:x},v),T.createElement("group",{ref:g},T.createElement("group",{ref:b},e)))}),Nc=t=>t&&t.isOrthographicCamera,ufe=t=>t&&t.isBox3,cfe=T.createContext(null);function ffe({children:t,damping:e=6,fit:n,clip:r,observe:i,margin:s=1.2,eps:o=.01,onFit:a}){const l=T.useRef(null),{camera:u,invalidate:c,size:d,controls:p}=yo(),m=p,v=T.useRef(a);v.current=a;function y(E,R){return Math.abs(E.x-R.x)<o&&Math.abs(E.y-R.y)<o&&Math.abs(E.z-R.z)<o}function x(E,R,I,P){E.x=lo.damp(E.x,R.x,I,P),E.y=lo.damp(E.y,R.y,I,P),E.z=lo.damp(E.z,R.z,I,P)}const[g]=T.useState(()=>({animating:!1,focus:new N,camera:new N,zoom:1})),[b]=T.useState(()=>({focus:new N,camera:new N,zoom:1})),[S]=T.useState(()=>new Gi),M=T.useMemo(()=>{function E(){const R=S.getSize(new N),I=S.getCenter(new N),P=Math.max(R.x,R.y,R.z),B=Nc(u)?P*4:P/(2*Math.atan(Math.PI*u.fov/360)),O=Nc(u)?P*4:B/u.aspect,H=s*Math.max(B,O);return{box:S,size:R,center:I,distance:H}}return{getSize:E,refresh(R){if(ufe(R))S.copy(R);else{const I=R||l.current;I.updateWorldMatrix(!0,!0),S.setFromObject(I)}if(S.isEmpty()){const I=u.position.length()||10;S.setFromCenterAndSize(new N,new N(I,I,I))}if((m==null?void 0:m.constructor.name)==="OrthographicTrackballControls"){const{distance:I}=E(),P=u.position.clone().sub(m.target).normalize().multiplyScalar(I),B=m.target.clone().add(P);u.position.copy(B)}return this},clip(){const{distance:R}=E();return m&&(m.maxDistance=R*10),u.near=R/100,u.far=R*100,u.updateProjectionMatrix(),m&&m.update(),c(),this},to({position:R,target:I}){g.camera.copy(u.position);const{center:P}=E();return b.camera.set(...R),I?b.focus.set(...I):b.focus.copy(P),e?g.animating=!0:u.position.set(...R),this},fit(){g.camera.copy(u.position),m&&g.focus.copy(m.target);const{center:R,distance:I}=E(),P=R.clone().sub(u.position).normalize().multiplyScalar(I);if(b.camera.copy(R).sub(P),b.focus.copy(R),Nc(u)){g.zoom=u.zoom;let B=0,O=0;const H=[new N(S.min.x,S.min.y,S.min.z),new N(S.min.x,S.max.y,S.min.z),new N(S.min.x,S.min.y,S.max.z),new N(S.min.x,S.max.y,S.max.z),new N(S.max.x,S.max.y,S.max.z),new N(S.max.x,S.max.y,S.min.z),new N(S.max.x,S.min.y,S.max.z),new N(S.max.x,S.min.y,S.min.z)];R.applyMatrix4(u.matrixWorldInverse);for(const j of H)j.applyMatrix4(u.matrixWorldInverse),B=Math.max(B,Math.abs(j.y-R.y)),O=Math.max(O,Math.abs(j.x-R.x));B*=2,O*=2;const U=(u.top-u.bottom)/B,V=(u.right-u.left)/O;b.zoom=Math.min(U,V)/s,e||(u.zoom=b.zoom,u.updateProjectionMatrix())}return e?g.animating=!0:(u.position.copy(b.camera),u.lookAt(b.focus),m&&(m.target.copy(b.focus),m.update())),v.current&&v.current(this.getSize()),c(),this}}},[S,u,m,s,e,c]);T.useLayoutEffect(()=>{if(m){const E=()=>g.animating=!1;return m.addEventListener("start",E),()=>m.removeEventListener("start",E)}},[m]);const C=T.useRef(0);return T.useLayoutEffect(()=>{(i||C.current++===0)&&(M.refresh(),n&&M.fit(),r&&M.clip())},[d,r,n,i,u,m]),Gu((E,R)=>{if(g.animating){if(x(g.focus,b.focus,e,R),x(g.camera,b.camera,e,R),g.zoom=lo.damp(g.zoom,b.zoom,e,R),u.position.copy(g.camera),Nc(u)&&(u.zoom=g.zoom,u.updateProjectionMatrix()),m?(m.target.copy(g.focus),m.update()):u.lookAt(g.focus),c(),Nc(u)&&!(Math.abs(g.zoom-b.zoom)<o)||!Nc(u)&&!y(g.camera,b.camera)||m&&!y(g.focus,b.focus))return;g.animating=!1}}),T.createElement("group",{ref:l},T.createElement(cfe.Provider,{value:M},t))}const PS={sunset:"venice/venice_sunset_1k.hdr",dawn:"kiara/kiara_1_dawn_1k.hdr",night:"dikhololo/dikhololo_night_1k.hdr",warehouse:"empty-wharehouse/empty_warehouse_01_1k.hdr",forest:"forrest-slope/forest_slope_1k.hdr",apartment:"lebombo/lebombo_1k.hdr",studio:"studio-small-3/studio_small_03_1k.hdr",city:"potsdamer-platz/potsdamer_platz_1k.hdr",park:"rooitou/rooitou_park_1k.hdr",lobby:"st-fagans/st_fagans_interior_1k.hdr"},dfe="https://market-assets.fra1.cdn.digitaloceanspaces.com/market-assets/hdris/";function _z({files:t=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"],path:e="",preset:n=void 0,encoding:r=void 0,extensions:i}={}){if(n){if(!(n in PS))throw new Error("Preset must be one of: "+Object.keys(PS).join(", "));t=PS[n],e=dfe}const s=Array.isArray(t),a=da(s?j4:ife,s?[t]:t,u=>{u.setPath(e),i&&i(u)}),l=s?a[0]:a;return l.mapping=s?sa:Wf,l.encoding=r??s?lt:pi,l}const hfe=t=>t.current&&t.current.isScene,pfe=t=>hfe(t)?t.current:t;function nC(t,e,n,r,i=0){const s=pfe(e||n),o=s.background,a=s.environment,l=s.backgroundBlurriness||0;return t!=="only"&&(s.environment=r),t&&(s.background=r),t&&s.backgroundBlurriness!==void 0&&(s.backgroundBlurriness=i),()=>{t!=="only"&&(s.environment=a),t&&(s.background=o),t&&s.backgroundBlurriness!==void 0&&(s.backgroundBlurriness=l)}}function rC({scene:t,background:e=!1,blur:n,map:r}){const i=yo(s=>s.scene);return T.useLayoutEffect(()=>{if(r)return nC(e,t,i,r,n)},[i,t,r,e,n]),null}function Sz({background:t=!1,scene:e,blur:n,...r}){const i=_z(r),s=yo(o=>o.scene);return T.useLayoutEffect(()=>nC(t,e,s,i,n),[i,t,e,s,n]),null}function mfe({children:t,near:e=1,far:n=1e3,resolution:r=256,frames:i=1,map:s,background:o=!1,blur:a,scene:l,files:u,path:c,preset:d=void 0,extensions:p}){const m=yo(S=>S.gl),v=yo(S=>S.scene),y=T.useRef(null),[x]=T.useState(()=>new Ru),g=T.useMemo(()=>{const S=new oE(r);return S.texture.type=ls,S},[r]);T.useLayoutEffect(()=>(i===1&&y.current.update(m,x),nC(o,l,v,g.texture,a)),[t,x,g.texture,l,v,o,i,m]);let b=1;return Gu(()=>{(i===1/0||b<i)&&(y.current.update(m,x),b++)}),T.createElement(T.Fragment,null,XY(T.createElement(T.Fragment,null,t,T.createElement("cubeCamera",{ref:y,args:[e,n,g]}),u||d?T.createElement(Sz,{background:!0,files:u,preset:d,path:c,extensions:p}):s?T.createElement(rC,{background:!0,map:s,extensions:p}):null),x))}function gfe(t){var e,n,r,i;const s=_z(t),o=t.map||s;T.useMemo(()=>cU({GroundProjectedEnvImpl:TZ}),[]);const a=T.useMemo(()=>[o],[o]),l=(e=t.ground)==null?void 0:e.height,u=(n=t.ground)==null?void 0:n.radius,c=(r=(i=t.ground)==null?void 0:i.scale)!==null&&r!==void 0?r:1e3;return T.createElement(T.Fragment,null,T.createElement(rC,un({},t,{map:o})),T.createElement("groundProjectedEnvImpl",{args:a,scale:c,height:l,radius:u}))}function vfe(t){return t.ground?T.createElement(gfe,t):t.map?T.createElement(rC,t):t.children?T.createElement(mfe,t):T.createElement(Sz,t)}var Se={},yfe={get exports(){return Se},set exports(t){Se=t}},xfe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",_fe=xfe,Sfe=_fe;function bz(){}function wz(){}wz.resetWarningCache=bz;var bfe=function(){function t(r,i,s,o,a,l){if(l!==Sfe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:wz,resetWarningCache:bz};return n.PropTypes=n,n};yfe.exports=bfe();const wfe=Symbol(),iC=Symbol(),Bh="a",dp="w";let Mfe=(t,e)=>new Proxy(t,e);const iM=Object.getPrototypeOf,sM=new WeakMap,Mz=t=>t&&(sM.has(t)?sM.get(t):iM(t)===Object.prototype||iM(t)===Array.prototype),wy=t=>typeof t=="object"&&t!==null,Afe=t=>{if(Array.isArray(t))return Array.from(t);const e=Object.getOwnPropertyDescriptors(t);return Object.values(e).forEach(n=>{n.configurable=!0}),Object.create(iM(t),e)},sC=t=>t[iC]||t,Az=(t,e,n,r)=>{if(!Mz(t))return t;let i=r&&r.get(t);if(!i){const l=sC(t);i=(u=>Object.values(Object.getOwnPropertyDescriptors(u)).some(c=>!c.configurable&&!c.writable))(l)?[l,Afe(l)]:[l],r==null||r.set(t,i)}const[s,o]=i;let a=n&&n.get(s);return a&&a[1].f===!!o||(a=((l,u)=>{const c={f:u};let d=!1;const p=(v,y)=>{if(!d){let x=c[Bh].get(l);if(x||(x={},c[Bh].set(l,x)),v===dp)x[dp]=!0;else{let g=x[v];g||(g=new Set,x[v]=g),g.add(y)}}},m={get:(v,y)=>y===iC?l:(p("k",y),Az(Reflect.get(v,y),c[Bh],c.c)),has:(v,y)=>y===wfe?(d=!0,c[Bh].delete(l),!0):(p("h",y),Reflect.has(v,y)),getOwnPropertyDescriptor:(v,y)=>(p("o",y),Reflect.getOwnPropertyDescriptor(v,y)),ownKeys:v=>(p(dp),Reflect.ownKeys(v))};return u&&(m.set=m.deleteProperty=()=>!1),[m,c]})(s,!!o),a[1].p=Mfe(o||s,a[0]),n&&n.set(s,a)),a[1][Bh]=e,a[1].c=n,a[1].p},Ez=(t,e,n,r)=>{if(Object.is(t,e))return!1;if(!wy(t)||!wy(e))return!0;const i=n.get(sC(t));if(!i)return!0;if(r){const o=r.get(t);if(o&&o.n===e)return o.g;r.set(t,{n:e,g:!1})}let s=null;try{for(const o of i.h||[])if(s=Reflect.has(t,o)!==Reflect.has(e,o),s)return s;if(i[dp]===!0){if(s=((o,a)=>{const l=Reflect.ownKeys(o),u=Reflect.ownKeys(a);return l.length!==u.length||l.some((c,d)=>c!==u[d])})(t,e),s)return s}else for(const o of i.o||[])if(s=!!Reflect.getOwnPropertyDescriptor(t,o)!=!!Reflect.getOwnPropertyDescriptor(e,o),s)return s;for(const o of i.k||[])if(s=Ez(t[o],e[o],n,r),s)return s;return s===null&&(s=!0),s}finally{r&&r.set(t,{n:e,g:s})}},Efe=t=>Mz(t)&&t[iC]||null,OI=(t,e=!0)=>{sM.set(t,e)},Cfe=(t,e,n)=>{const r=[],i=new WeakSet,s=(o,a)=>{if(i.has(o))return;wy(o)&&i.add(o);const l=wy(o)&&e.get(sC(o));if(l){var u,c;if((u=l.h)==null||u.forEach(p=>{const m=`:has(${String(p)})`;r.push(a?[...a,m]:[m])}),l[dp]===!0){const p=":ownKeys";r.push(a?[...a,p]:[p])}else{var d;(d=l.o)==null||d.forEach(p=>{const m=`:hasOwn(${String(p)})`;r.push(a?[...a,m]:[m])})}(c=l.k)==null||c.forEach(p=>{n&&!("value"in(Object.getOwnPropertyDescriptor(o,p)||{}))||s(o[p],a?[...a,p]:[p])})}else a&&r.push(a)};return s(t),r},RS=t=>typeof t=="object"&&t!==null,za=new WeakMap,lv=new WeakSet,Tfe=(t=Object.is,e=(u,c)=>new Proxy(u,c),n=u=>RS(u)&&!lv.has(u)&&(Array.isArray(u)||!(Symbol.iterator in u))&&!(u instanceof WeakMap)&&!(u instanceof WeakSet)&&!(u instanceof Error)&&!(u instanceof Number)&&!(u instanceof Date)&&!(u instanceof String)&&!(u instanceof RegExp)&&!(u instanceof ArrayBuffer),r=u=>{switch(u.status){case"fulfilled":return u.value;case"rejected":throw u.reason;default:throw u}},i=new WeakMap,s=(u,c,d=r)=>{const p=i.get(u);if((p==null?void 0:p[0])===c)return p[1];const m=Array.isArray(u)?[]:Object.create(Object.getPrototypeOf(u));return OI(m,!0),i.set(u,[c,m]),Reflect.ownKeys(u).forEach(v=>{if(Object.getOwnPropertyDescriptor(m,v))return;const y=Reflect.get(u,v),x={value:y,enumerable:!0,configurable:!0};if(lv.has(y))OI(y,!1);else if(y instanceof Promise)delete x.value,x.get=()=>d(y);else if(za.has(y)){const[g,b]=za.get(y);x.value=s(g,b(),d)}Object.defineProperty(m,v,x)}),m},o=new WeakMap,a=[1,1],l=u=>{if(!RS(u))throw new Error("object required");const c=o.get(u);if(c)return c;let d=a[0];const p=new Set,m=(P,B=++a[0])=>{d!==B&&(d=B,p.forEach(O=>O(P,B)))};let v=a[1];const y=(P=++a[1])=>(v!==P&&!p.size&&(v=P,g.forEach(([B])=>{const O=B[1](P);O>d&&(d=O)})),d),x=P=>(B,O)=>{const H=[...B];H[1]=[P,...H[1]],m(H,O)},g=new Map,b=(P,B)=>{if(({BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&g.has(P))throw new Error("prop listener already exists");if(p.size){const O=B[3](x(P));g.set(P,[B,O])}else g.set(P,[B])},S=P=>{var B;const O=g.get(P);O&&(g.delete(P),(B=O[1])==null||B.call(O))},M=P=>(p.add(P),p.size===1&&g.forEach(([O,H],U)=>{if(({BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&H)throw new Error("remove already exists");const V=O[3](x(U));g.set(U,[O,V])}),()=>{p.delete(P),p.size===0&&g.forEach(([O,H],U)=>{H&&(H(),g.set(U,[O]))})}),C=Array.isArray(u)?[]:Object.create(Object.getPrototypeOf(u)),R=e(C,{deleteProperty(P,B){const O=Reflect.get(P,B);S(B);const H=Reflect.deleteProperty(P,B);return H&&m(["delete",[B],O]),H},set(P,B,O,H){const U=Reflect.has(P,B),V=Reflect.get(P,B,H);if(U&&(t(V,O)||o.has(O)&&t(V,o.get(O))))return!0;S(B),RS(O)&&(O=Efe(O)||O);let j=O;if(O instanceof Promise)O.then(Z=>{O.status="fulfilled",O.value=Z,m(["resolve",[B],Z])}).catch(Z=>{O.status="rejected",O.reason=Z,m(["reject",[B],Z])});else{!za.has(O)&&n(O)&&(j=l(O));const Z=!lv.has(j)&&za.get(j);Z&&b(B,Z)}return Reflect.set(P,B,j,H),m(["set",[B],O,V]),!0}});o.set(u,R);const I=[C,y,s,M];return za.set(R,I),Reflect.ownKeys(u).forEach(P=>{const B=Object.getOwnPropertyDescriptor(u,P);"value"in B&&(R[P]=u[P],delete B.value,delete B.writable),Object.defineProperty(C,P,B)}),R})=>[l,za,lv,t,e,n,r,i,s,o,a],[Pfe]=Tfe();function Rfe(t={}){return Pfe(t)}function Bfe(t,e,n){const r=za.get(t);({BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&!r&&console.warn("Please use proxy object");let i;const s=[],o=r[3];let a=!1;const u=o(c=>{if(s.push(c),n){e(s.splice(0));return}i||(i=Promise.resolve().then(()=>{i=void 0,a&&e(s.splice(0))}))});return a=!0,()=>{a=!1,u()}}function FI(t,e){const n=za.get(t);({BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&!n&&console.warn("Please use proxy object");const[r,i,s]=n;return s(r,i(),e)}var oM={},Ife={get exports(){return oM},set exports(t){oM=t}},Cz={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var id=T;function Dfe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Lfe=typeof Object.is=="function"?Object.is:Dfe,Ofe=id.useState,Ffe=id.useEffect,kfe=id.useLayoutEffect,Nfe=id.useDebugValue;function Ufe(t,e){var n=e(),r=Ofe({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return kfe(function(){i.value=n,i.getSnapshot=e,BS(i)&&s({inst:i})},[t,n,e]),Ffe(function(){return BS(i)&&s({inst:i}),t(function(){BS(i)&&s({inst:i})})},[t]),Nfe(n),n}function BS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Lfe(t,n)}catch{return!0}}function zfe(t,e){return e()}var Hfe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?zfe:Ufe;Cz.useSyncExternalStore=id.useSyncExternalStore!==void 0?id.useSyncExternalStore:Hfe;(function(t){t.exports=Cz})(Ife);const Gfe=Xy(oM),{use:kI}=D,{useSyncExternalStore:$fe}=Gfe,Vfe=(t,e)=>{const n=T.useRef();T.useEffect(()=>{n.current=Cfe(t,e,!0)}),T.useDebugValue(n.current)},Wfe=new WeakMap;function Nm(t,e){const n=e==null?void 0:e.sync,r=T.useRef(),i=T.useRef();let s=!0;const o=$fe(T.useCallback(u=>{const c=Bfe(t,u,n);return u(),c},[t,n]),()=>{const u=FI(t,kI);try{if(!s&&r.current&&i.current&&!Ez(r.current,u,i.current,new WeakMap))return r.current}catch{}return u},()=>FI(t,kI));s=!1;const a=new WeakMap;T.useEffect(()=>{r.current=o,i.current=a}),({BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&Vfe(o,a);const l=T.useMemo(()=>new WeakMap,[]);return Az(o,a,l,Wfe)}const Ci=Rfe({intro:!0,colors:["#ccc","#EFBD4E","#80C670","#726DE8","#EF674E","#353934"],decals:["decals/004","decals/011","decals/021","decals/030","decals/031","decals/033","decals/044"],parts:[{id:1,label:"Body",value:!1,color:"#BAA0BC"},{id:2,label:"Seat",value:!1,color:"#784d24"},{id:3,label:"Frame and Engine",value:!1,color:"#000000"},{id:4,label:"Chrome",value:!1,color:"#ffffff"}],selectedColor:"#BAA0BC",selectedDecal:"decals/044"});function jfe(...t){return e=>t.forEach(n=>function(r,i){typeof r=="function"?r(i):r!=null&&(r.current=i)}(n,e))}const Tz=T.forwardRef((t,e)=>{const{children:n,...r}=t;return T.Children.toArray(n).some(NI)?T.createElement(T.Fragment,null,T.Children.map(n,i=>NI(i)?T.createElement(aM,un({},r,{ref:e}),i.props.children):i)):T.createElement(aM,un({},r,{ref:e}),n)});Tz.displayName="Slot";const aM=T.forwardRef((t,e)=>{const{children:n,...r}=t;return T.isValidElement(n)?T.cloneElement(n,{...Kfe(r,n.props),ref:jfe(e,n.ref)}):T.Children.count(n)>1?T.Children.only(null):null});aM.displayName="SlotClone";const Jfe=({children:t})=>T.createElement(T.Fragment,null,t);function NI(t){return T.isValidElement(t)&&t.type===Jfe}function Kfe(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?n[r]=(...o)=>{s==null||s(...o),i==null||i(...o)}:r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}const Xfe=["a","button","div","h2","h3","img","li","nav","ol","p","span","svg","ul"].reduce((t,e)=>({...t,[e]:T.forwardRef((n,r)=>{const{asChild:i,...s}=n,o=i?Tz:e;return T.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),T.createElement(o,un({},s,{ref:r}))})}),{}),Yfe=globalThis!=null&&globalThis.document?T.useLayoutEffect:()=>{},Qfe=T.forwardRef((t,e)=>{var n,r;const{containerRef:i,style:s,...o}=t,a=(n=i==null?void 0:i.current)!==null&&n!==void 0?n:globalThis==null||(r=globalThis.document)===null||r===void 0?void 0:r.body,[,l]=T.useState({});return Yfe(()=>{l({})},[]),a?WA.createPortal(T.createElement(Xfe.div,un({"data-radix-portal":""},o,{ref:e,style:a===document.body?{position:"absolute",top:0,left:0,zIndex:2147483647,...s}:void 0})),a):null}),Zfe=Qfe;var UI=Object.prototype.hasOwnProperty;function tm(t,e){var n,r;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&tm(t[r],e[r]););return r===-1}if(!n||typeof t=="object"){r=0;for(n in t)if(UI.call(t,n)&&++r&&!UI.call(e,n)||!(n in e)||!tm(t[n],e[n]))return!1;return Object.keys(e).length===r}}return t!==t&&e!==e}function Um(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(e,n[r])||!Object.is(t[n[r]],e[n[r]]))return!1;return!0}var Ux=function(e,n,r,i){this.name=e,this.fn=n,this.args=r,this.modifiers=i};Ux.prototype._test=function(e){var n=this.fn;try{kf(this.modifiers.slice(),n,this)(e)}catch{n=function(){return!1}}try{return kf(this.modifiers.slice(),n,this)(e)}catch{return!1}};Ux.prototype._check=function(e){try{kf(this.modifiers.slice(),this.fn,this)(e)}catch{if(kf(this.modifiers.slice(),function(r){return r},this)(!1))return}if(!kf(this.modifiers.slice(),this.fn,this)(e))throw null};Ux.prototype._testAsync=function(e){var n=this;return new Promise(function(r,i){Rz(n.modifiers.slice(),n.fn,n)(e).then(function(s){s?r(e):i(null)}).catch(function(s){return i(s)})})};function Pz(t,e){return e===void 0&&(e="simple"),typeof t=="object"?t[e]:t}function kf(t,e,n){if(t.length){var r=t.shift(),i=kf(t,e,n);return r.perform(i,n)}else return Pz(e)}function Rz(t,e,n){if(t.length){var r=t.shift(),i=Rz(t,e,n);return r.performAsync(i,n)}else return function(s){return Promise.resolve(Pz(e,"async")(s))}}var qfe=function(e,n,r){this.name=e,this.perform=n,this.performAsync=r},oC=function(t){function e(n,r,i,s){for(var o=[],a=arguments.length-4;a-- >0;)o[a]=arguments[a+4];t.call(this,o),t.captureStackTrace&&t.captureStackTrace(this,e),this.rule=n,this.value=r,this.cause=i,this.target=s}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error),xo=function(e,n){e===void 0&&(e=[]),n===void 0&&(n=[]),this.chain=e,this.nextRuleModifiers=n};xo.prototype._applyRule=function(e,n){var r=this;return function(){for(var i=[],s=arguments.length;s--;)i[s]=arguments[s];return r.chain.push(new Ux(n,e.apply(r,i),i,r.nextRuleModifiers)),r.nextRuleModifiers=[],r}};xo.prototype._applyModifier=function(e,n){return this.nextRuleModifiers.push(new qfe(n,e.simple,e.async)),this};xo.prototype._clone=function(){return new xo(this.chain.slice(),this.nextRuleModifiers.slice())};xo.prototype.test=function(e){return this.chain.every(function(n){return n._test(e)})};xo.prototype.testAll=function(e){var n=[];return this.chain.forEach(function(r){try{r._check(e)}catch(i){n.push(new oC(r,e,i))}}),n};xo.prototype.check=function(e){this.chain.forEach(function(n){try{n._check(e)}catch(r){throw new oC(n,e,r)}})};xo.prototype.testAsync=function(e){var n=this;return new Promise(function(r,i){Bz(e,n.chain.slice(),r,i)})};function Bz(t,e,n,r){if(e.length){var i=e.shift();i._testAsync(t).then(function(){Bz(t,e,n,r)},function(s){r(new oC(i,t,s))})}else n(t)}var zI=function(t,e){return e&&typeof t=="string"&&t.trim().length===0?!0:t==null};function ede(t,e){return e===void 0&&(e=!1),{simple:function(n){return zI(n,e)||t.check(n)===void 0},async:function(n){return zI(n,e)||t.testAsync(n)}}}function ci(){return typeof Proxy<"u"?Iz(new xo):lM(new xo)}var nm={};ci.extend=function(t){Object.assign(nm,t)};ci.clearCustomRules=function(){nm={}};function Iz(t){return new Proxy(t,{get:function(n,r){if(r in n)return n[r];var i=Iz(t._clone());if(r in My)return i._applyModifier(My[r],r);if(r in nm)return i._applyRule(nm[r],r);if(r in uM)return i._applyRule(uM[r],r)}})}function lM(t){var e=function(i,s){return Object.keys(i).forEach(function(o){s[o]=function(){for(var a=[],l=arguments.length;l--;)a[l]=arguments[l];var u=lM(s._clone()),c=u._applyRule(i[o],o).apply(void 0,a);return c}}),s},n=e(uM,t),r=e(nm,n);return Object.keys(My).forEach(function(i){Object.defineProperty(r,i,{get:function(){var s=lM(r._clone());return s._applyModifier(My[i],i)}})}),r}var My={not:{simple:function(t){return function(e){return!t(e)}},async:function(t){return function(e){return Promise.resolve(t(e)).then(function(n){return!n}).catch(function(){return!0})}}},some:{simple:function(t){return function(e){return uv(e).some(function(n){try{return t(n)}catch{return!1}})}},async:function(t){return function(e){return Promise.all(uv(e).map(function(n){try{return t(n).catch(function(){return!1})}catch{return!1}})).then(function(n){return n.some(Boolean)})}}},every:{simple:function(t){return function(e){return e!==!1&&uv(e).every(t)}},async:function(t){return function(e){return Promise.all(uv(e).map(t)).then(function(n){return n.every(Boolean)})}}},strict:{simple:function(t,e){return function(n){return HI(e)&&n&&typeof n=="object"?Object.keys(e.args[0]).length===Object.keys(n).length&&t(n):t(n)}},async:function(t,e){return function(n){return Promise.resolve(t(n)).then(function(r){return HI(e)&&n&&typeof n=="object"?Object.keys(e.args[0]).length===Object.keys(n).length&&r:r}).catch(function(){return!1})}}}};function HI(t){return t&&t.name==="schema"&&t.args.length>0&&typeof t.args[0]=="object"}function uv(t){return typeof t=="string"?t.split(""):t}var uM={equal:function(t){return function(e){return e==t}},exact:function(t){return function(e){return e===t}},number:function(t){return t===void 0&&(t=!0),function(e){return typeof e=="number"&&(t||isFinite(e))}},integer:function(){return function(t){var e=Number.isInteger||tde;return e(t)}},numeric:function(){return function(t){return!isNaN(parseFloat(t))&&isFinite(t)}},string:function(){return Uc("string")},boolean:function(){return Uc("boolean")},undefined:function(){return Uc("undefined")},null:function(){return Uc("null")},array:function(){return Uc("array")},object:function(){return Uc("object")},instanceOf:function(t){return function(e){return e instanceof t}},pattern:function(t){return function(e){return t.test(e)}},lowercase:function(){return function(t){return typeof t=="boolean"||t===t.toLowerCase()&&t.trim()!==""}},uppercase:function(){return function(t){return t===t.toUpperCase()&&t.trim()!==""}},vowel:function(){return function(t){return/^[aeiou]+$/i.test(t)}},consonant:function(){return function(t){return/^(?=[^aeiou])([a-z]+)$/i.test(t)}},first:function(t){return function(e){return e[0]==t}},last:function(t){return function(e){return e[e.length-1]==t}},empty:function(){return function(t){return t.length===0}},length:function(t,e){return function(n){return n.length>=t&&n.length<=(e||t)}},minLength:function(t){return function(e){return e.length>=t}},maxLength:function(t){return function(e){return e.length<=t}},negative:function(){return function(t){return t<0}},positive:function(){return function(t){return t>=0}},between:function(t,e){return function(n){return n>=t&&n<=e}},range:function(t,e){return function(n){return n>=t&&n<=e}},lessThan:function(t){return function(e){return e<t}},lessThanOrEqual:function(t){return function(e){return e<=t}},greaterThan:function(t){return function(e){return e>t}},greaterThanOrEqual:function(t){return function(e){return e>=t}},even:function(){return function(t){return t%2===0}},odd:function(){return function(t){return t%2!==0}},includes:function(t){return function(e){return~e.indexOf(t)}},schema:function(t){return nde(t)},passesAnyOf:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return function(n){return t.some(function(r){return r.test(n)})}},optional:ede};function Uc(t){return function(e){return Array.isArray(e)&&t==="array"||e===null&&t==="null"||typeof e===t}}function tde(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t}function nde(t){return{simple:function(e){var n=[];if(Object.keys(t).forEach(function(r){var i=t[r];try{i.check((e||{})[r])}catch(s){s.target=r,n.push(s)}}),n.length>0)throw n;return!0},async:function(e){var n=[],r=Object.keys(t).map(function(i){var s=t[i];return s.testAsync((e||{})[i]).catch(function(o){o.target=i,n.push(o)})});return Promise.all(r).then(function(){if(n.length>0)throw n;return!0})}}}var qt="colors",Vr="sizes",He="space",rde={gap:He,gridGap:He,columnGap:He,gridColumnGap:He,rowGap:He,gridRowGap:He,inset:He,insetBlock:He,insetBlockEnd:He,insetBlockStart:He,insetInline:He,insetInlineEnd:He,insetInlineStart:He,margin:He,marginTop:He,marginRight:He,marginBottom:He,marginLeft:He,marginBlock:He,marginBlockEnd:He,marginBlockStart:He,marginInline:He,marginInlineEnd:He,marginInlineStart:He,padding:He,paddingTop:He,paddingRight:He,paddingBottom:He,paddingLeft:He,paddingBlock:He,paddingBlockEnd:He,paddingBlockStart:He,paddingInline:He,paddingInlineEnd:He,paddingInlineStart:He,top:He,right:He,bottom:He,left:He,scrollMargin:He,scrollMarginTop:He,scrollMarginRight:He,scrollMarginBottom:He,scrollMarginLeft:He,scrollMarginX:He,scrollMarginY:He,scrollMarginBlock:He,scrollMarginBlockEnd:He,scrollMarginBlockStart:He,scrollMarginInline:He,scrollMarginInlineEnd:He,scrollMarginInlineStart:He,scrollPadding:He,scrollPaddingTop:He,scrollPaddingRight:He,scrollPaddingBottom:He,scrollPaddingLeft:He,scrollPaddingX:He,scrollPaddingY:He,scrollPaddingBlock:He,scrollPaddingBlockEnd:He,scrollPaddingBlockStart:He,scrollPaddingInline:He,scrollPaddingInlineEnd:He,scrollPaddingInlineStart:He,fontSize:"fontSizes",background:qt,backgroundColor:qt,backgroundImage:qt,borderImage:qt,border:qt,borderBlock:qt,borderBlockEnd:qt,borderBlockStart:qt,borderBottom:qt,borderBottomColor:qt,borderColor:qt,borderInline:qt,borderInlineEnd:qt,borderInlineStart:qt,borderLeft:qt,borderLeftColor:qt,borderRight:qt,borderRightColor:qt,borderTop:qt,borderTopColor:qt,caretColor:qt,color:qt,columnRuleColor:qt,fill:qt,outline:qt,outlineColor:qt,stroke:qt,textDecorationColor:qt,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:Vr,minBlockSize:Vr,maxBlockSize:Vr,inlineSize:Vr,minInlineSize:Vr,maxInlineSize:Vr,width:Vr,minWidth:Vr,maxWidth:Vr,height:Vr,minHeight:Vr,maxHeight:Vr,flexBasis:Vr,gridTemplateColumns:Vr,gridTemplateRows:Vr,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},ide=(t,e)=>typeof e=="function"?{"()":Function.prototype.toString.call(e)}:e,Td=()=>{const t=Object.create(null);return(e,n,...r)=>{const i=(s=>JSON.stringify(s,ide))(e);return i in t?t[i]:t[i]=n(e,...r)}},bu=Symbol.for("sxs.internal"),aC=(t,e)=>Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)),GI=t=>{for(const e in t)return!0;return!1},{hasOwnProperty:sde}=Object.prototype,cM=t=>t.includes("-")?t:t.replace(/[A-Z]/g,e=>"-"+e.toLowerCase()),ode=/\s+(?![^()]*\))/,zc=t=>e=>t(...typeof e=="string"?String(e).split(ode):[e]),$I={appearance:t=>({WebkitAppearance:t,appearance:t}),backfaceVisibility:t=>({WebkitBackfaceVisibility:t,backfaceVisibility:t}),backdropFilter:t=>({WebkitBackdropFilter:t,backdropFilter:t}),backgroundClip:t=>({WebkitBackgroundClip:t,backgroundClip:t}),boxDecorationBreak:t=>({WebkitBoxDecorationBreak:t,boxDecorationBreak:t}),clipPath:t=>({WebkitClipPath:t,clipPath:t}),content:t=>({content:t.includes('"')||t.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(t)?t:`"${t}"`}),hyphens:t=>({WebkitHyphens:t,hyphens:t}),maskImage:t=>({WebkitMaskImage:t,maskImage:t}),maskSize:t=>({WebkitMaskSize:t,maskSize:t}),tabSize:t=>({MozTabSize:t,tabSize:t}),textSizeAdjust:t=>({WebkitTextSizeAdjust:t,textSizeAdjust:t}),userSelect:t=>({WebkitUserSelect:t,userSelect:t}),marginBlock:zc((t,e)=>({marginBlockStart:t,marginBlockEnd:e||t})),marginInline:zc((t,e)=>({marginInlineStart:t,marginInlineEnd:e||t})),maxSize:zc((t,e)=>({maxBlockSize:t,maxInlineSize:e||t})),minSize:zc((t,e)=>({minBlockSize:t,minInlineSize:e||t})),paddingBlock:zc((t,e)=>({paddingBlockStart:t,paddingBlockEnd:e||t})),paddingInline:zc((t,e)=>({paddingInlineStart:t,paddingInlineEnd:e||t}))},IS=/([\d.]+)([^]*)/,ade=(t,e)=>t.length?t.reduce((n,r)=>(n.push(...e.map(i=>i.includes("&")?i.replace(/&/g,/[ +>|~]/.test(r)&&/&.*&/.test(i)?`:is(${r})`:r):r+" "+i)),n),[]):e,lde=(t,e)=>t in ude&&typeof e=="string"?e.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(n,r,i,s)=>r+(i==="stretch"?`-moz-available${s};${cM(t)}:${r}-webkit-fill-available`:`-moz-fit-content${s};${cM(t)}:${r}fit-content`)+s):String(e),ude={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},aa=t=>t?t+"-":"",Dz=(t,e,n)=>t.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(r,i,s,o,a)=>o=="$"==!!s?r:(i||o=="--"?"calc(":"")+"var(--"+(o==="$"?aa(e)+(a.includes("$")?"":aa(n))+a.replace(/\$/g,"-"):a)+")"+(i||o=="--"?"*"+(i||"")+(s||"1")+")":"")),cde=/\s*,\s*(?![^()]*\))/,fde=Object.prototype.toString,Mf=(t,e,n,r,i)=>{let s,o,a;const l=(u,c,d)=>{let p,m;const v=y=>{for(p in y){const b=p.charCodeAt(0)===64,S=b&&Array.isArray(y[p])?y[p]:[y[p]];for(m of S){const M=/[A-Z]/.test(g=p)?g:g.replace(/-[^]/g,E=>E[1].toUpperCase()),C=typeof m=="object"&&m&&m.toString===fde&&(!r.utils[M]||!c.length);if(M in r.utils&&!C){const E=r.utils[M];if(E!==o){o=E,v(E(m)),o=null;continue}}else if(M in $I){const E=$I[M];if(E!==a){a=E,v(E(m)),a=null;continue}}if(b&&(x=p.slice(1)in r.media?"@media "+r.media[p.slice(1)]:p,p=x.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(E,R,I,P,B,O)=>{const H=IS.test(R),U=.0625*(H?-1:1),[V,j]=H?[P,R]:[R,P];return"("+(I[0]==="="?"":I[0]===">"===H?"max-":"min-")+V+":"+(I[0]!=="="&&I.length===1?j.replace(IS,(Z,ne,z)=>Number(ne)+U*(I===">"?1:-1)+z):j)+(B?") and ("+(B[0]===">"?"min-":"max-")+V+":"+(B.length===1?O.replace(IS,(Z,ne,z)=>Number(ne)+U*(B===">"?-1:1)+z):O):"")+")"})),C){const E=b?d.concat(p):[...d],R=b?[...c]:ade(c,p.split(cde));s!==void 0&&i(VI(...s)),s=void 0,l(m,R,E)}else s===void 0&&(s=[[],c,d]),p=b||p.charCodeAt(0)!==36?p:`--${aa(r.prefix)}${p.slice(1).replace(/\$/g,"-")}`,m=C?m:typeof m=="number"?m&&M in dde?String(m)+"px":String(m):Dz(lde(M,m??""),r.prefix,r.themeMap[M]),s[0].push(`${b?`${p} `:`${cM(p)}:`}${m}`)}}var x,g};v(u),s!==void 0&&i(VI(...s)),s=void 0};l(t,e,n)},VI=(t,e,n)=>`${n.map(r=>`${r}{`).join("")}${e.length?`${e.join(",")}{`:""}${t.join(";")}${e.length?"}":""}${Array(n.length?n.length+1:0).join("}")}`,dde={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},WI=t=>String.fromCharCode(t+(t>25?39:97)),wu=t=>(e=>{let n,r="";for(n=Math.abs(e);n>52;n=n/52|0)r=WI(n%52)+r;return WI(n%52)+r})(((e,n)=>{let r=n.length;for(;r;)e=33*e^n.charCodeAt(--r);return e})(5381,JSON.stringify(t))>>>0),Jh=["themed","global","styled","onevar","resonevar","allvar","inline"],hde=t=>{if(t.href&&!t.href.startsWith(location.origin))return!1;try{return!!t.cssRules}catch{return!1}},pde=t=>{let e;const n=()=>{const{cssRules:i}=e.sheet;return[].map.call(i,(s,o)=>{const{cssText:a}=s;let l="";if(a.startsWith("--sxs"))return"";if(i[o-1]&&(l=i[o-1].cssText).startsWith("--sxs")){if(!s.cssRules.length)return"";for(const u in e.rules)if(e.rules[u].group===s)return`--sxs{--sxs:${[...e.rules[u].cache].join(" ")}}${a}`;return s.cssRules.length?`${l}${a}`:""}return a}).join("")},r=()=>{if(e){const{rules:a,sheet:l}=e;if(!l.deleteRule){for(;Object(Object(l.cssRules)[0]).type===3;)l.cssRules.splice(0,1);l.cssRules=[]}for(const u in a)delete a[u]}const i=Object(t).styleSheets||[];for(const a of i)if(hde(a)){for(let l=0,u=a.cssRules;u[l];++l){const c=Object(u[l]);if(c.type!==1)continue;const d=Object(u[l+1]);if(d.type!==4)continue;++l;const{cssText:p}=c;if(!p.startsWith("--sxs"))continue;const m=p.slice(14,-3).trim().split(/\s+/),v=Jh[m[0]];v&&(e||(e={sheet:a,reset:r,rules:{},toString:n}),e.rules[v]={group:d,index:l,cache:new Set(m)})}if(e)break}if(!e){const a=(l,u)=>({type:u,cssRules:[],insertRule(c,d){this.cssRules.splice(d,0,a(c,{import:3,undefined:1}[(c.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return l==="@media{}"?`@media{${[].map.call(this.cssRules,c=>c.cssText).join("")}}`:l}});e={sheet:t?(t.head||t).appendChild(document.createElement("style")).sheet:a("","text/css"),rules:{},reset:r,toString:n}}const{sheet:s,rules:o}=e;for(let a=Jh.length-1;a>=0;--a){const l=Jh[a];if(!o[l]){const u=Jh[a+1],c=o[u]?o[u].index:s.cssRules.length;s.insertRule("@media{}",c),s.insertRule(`--sxs{--sxs:${a}}`,c),o[l]={group:s.cssRules[c+1],index:c,cache:new Set([a])}}mde(o[l])}};return r(),e},mde=t=>{const e=t.group;let n=e.cssRules.length;t.apply=r=>{try{e.insertRule(r,n),++n}catch{}}},Ih=Symbol(),gde=Td(),jI=(t,e)=>gde(t,()=>(...n)=>{let r={type:null,composers:new Set};for(const i of n)if(i!=null)if(i[bu]){r.type==null&&(r.type=i[bu].type);for(const s of i[bu].composers)r.composers.add(s)}else i.constructor!==Object||i.$$typeof?r.type==null&&(r.type=i):r.composers.add(vde(i,t));return r.type==null&&(r.type="span"),r.composers.size||r.composers.add(["PJLV",{},[],[],{},[]]),yde(t,r,e)}),vde=({variants:t,compoundVariants:e,defaultVariants:n,...r},i)=>{const s=`${aa(i.prefix)}c-${wu(r)}`,o=[],a=[],l=Object.create(null),u=[];for(const p in n)l[p]=String(n[p]);if(typeof t=="object"&&t)for(const p in t){c=l,d=p,sde.call(c,d)||(l[p]="undefined");const m=t[p];for(const v in m){const y={[p]:String(v)};String(v)==="undefined"&&u.push(p);const x=m[v],g=[y,x,!GI(x)];o.push(g)}}var c,d;if(typeof e=="object"&&e)for(const p of e){let{css:m,...v}=p;m=typeof m=="object"&&m||{};for(const x in v)v[x]=String(v[x]);const y=[v,m,!GI(m)];a.push(y)}return[s,r,o,a,l,u]},yde=(t,e,n)=>{const[r,i,s,o]=xde(e.composers),a=typeof e.type=="function"||e.type.$$typeof?(d=>{function p(){for(let m=0;m<p[Ih].length;m++){const[v,y]=p[Ih][m];d.rules[v].apply(y)}return p[Ih]=[],null}return p[Ih]=[],p.rules={},Jh.forEach(m=>p.rules[m]={apply:v=>p[Ih].push([m,v])}),p})(n):null,l=(a||n).rules,u=`.${r}${i.length>1?`:where(.${i.slice(1).join(".")})`:""}`,c=d=>{d=typeof d=="object"&&d||_de;const{css:p,...m}=d,v={};for(const g in s)if(delete m[g],g in d){let b=d[g];typeof b=="object"&&b?v[g]={"@initial":s[g],...b}:(b=String(b),v[g]=b!=="undefined"||o.has(g)?b:s[g])}else v[g]=s[g];const y=new Set([...i]);for(const[g,b,S,M]of e.composers){n.rules.styled.cache.has(g)||(n.rules.styled.cache.add(g),Mf(b,[`.${g}`],[],t,R=>{l.styled.apply(R)}));const C=JI(S,v,t.media),E=JI(M,v,t.media,!0);for(const R of C)if(R!==void 0)for(const[I,P,B]of R){const O=`${g}-${wu(P)}-${I}`;y.add(O);const H=(B?n.rules.resonevar:n.rules.onevar).cache,U=B?l.resonevar:l.onevar;H.has(O)||(H.add(O),Mf(P,[`.${O}`],[],t,V=>{U.apply(V)}))}for(const R of E)if(R!==void 0)for(const[I,P]of R){const B=`${g}-${wu(P)}-${I}`;y.add(B),n.rules.allvar.cache.has(B)||(n.rules.allvar.cache.add(B),Mf(P,[`.${B}`],[],t,O=>{l.allvar.apply(O)}))}}if(typeof p=="object"&&p){const g=`${r}-i${wu(p)}-css`;y.add(g),n.rules.inline.cache.has(g)||(n.rules.inline.cache.add(g),Mf(p,[`.${g}`],[],t,b=>{l.inline.apply(b)}))}for(const g of String(d.className||"").trim().split(/\s+/))g&&y.add(g);const x=m.className=[...y].join(" ");return{type:e.type,className:x,selector:u,props:m,toString:()=>x,deferredInjector:a}};return aC(c,{className:r,selector:u,[bu]:e,toString:()=>(n.rules.styled.cache.has(r)||c(),r)})},xde=t=>{let e="";const n=[],r={},i=[];for(const[s,,,,o,a]of t){e===""&&(e=s),n.push(s),i.push(...a);for(const l in o){const u=o[l];(r[l]===void 0||u!=="undefined"||a.includes(u))&&(r[l]=u)}}return[e,n,r,new Set(i)]},JI=(t,e,n,r)=>{const i=[];e:for(let[s,o,a]of t){if(a)continue;let l,u=0,c=!1;for(l in s){const d=s[l];let p=e[l];if(p!==d){if(typeof p!="object"||!p)continue e;{let m,v,y=0;for(const x in p){if(d===String(p[x])){if(x!=="@initial"){const g=x.slice(1);(v=v||[]).push(g in n?n[g]:x.replace(/^@media ?/,"")),c=!0}u+=y,m=!0}++y}if(v&&v.length&&(o={["@media "+v.join(", ")]:o}),!m)continue e}}}(i[u]=i[u]||[]).push([r?"cv":`${l}-${s[l]}`,o,c])}return i},_de={},Sde=Td(),bde=(t,e)=>Sde(t,()=>(...n)=>{const r=()=>{for(let i of n){i=typeof i=="object"&&i||{};let s=wu(i);if(!e.rules.global.cache.has(s)){if(e.rules.global.cache.add(s),"@import"in i){let o=[].indexOf.call(e.sheet.cssRules,e.rules.themed.group)-1;for(let a of[].concat(i["@import"]))a=a.includes('"')||a.includes("'")?a:`"${a}"`,e.sheet.insertRule(`@import ${a};`,o++);delete i["@import"]}Mf(i,[],[],t,o=>{e.rules.global.apply(o)})}}return""};return aC(r,{toString:r})}),wde=Td(),Mde=(t,e)=>wde(t,()=>n=>{const r=`${aa(t.prefix)}k-${wu(n)}`,i=()=>{if(!e.rules.global.cache.has(r)){e.rules.global.cache.add(r);const s=[];Mf(n,[],[],t,a=>s.push(a));const o=`@keyframes ${r}{${s.join("")}}`;e.rules.global.apply(o)}return r};return aC(i,{get name(){return i()},toString:i})}),Ade=class{constructor(t,e,n,r){this.token=t==null?"":String(t),this.value=e==null?"":String(e),this.scale=n==null?"":String(n),this.prefix=r==null?"":String(r)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+aa(this.prefix)+aa(this.scale)+this.token}toString(){return this.computedValue}},Ede=Td(),Cde=(t,e)=>Ede(t,()=>(n,r)=>{r=typeof n=="object"&&n||Object(r);const i=`.${n=(n=typeof n=="string"?n:"")||`${aa(t.prefix)}t-${wu(r)}`}`,s={},o=[];for(const l in r){s[l]={};for(const u in r[l]){const c=`--${aa(t.prefix)}${l}-${u}`,d=Dz(String(r[l][u]),t.prefix,l);s[l][u]=new Ade(u,d,l,t.prefix),o.push(`${c}:${d}`)}}const a=()=>{if(o.length&&!e.rules.themed.cache.has(n)){e.rules.themed.cache.add(n);const l=`${r===t.theme?":root,":""}.${n}{${o.join(";")}}`;e.rules.themed.apply(l)}return n};return{...s,get className(){return a()},selector:i,toString:a}}),Tde=Td(),Pde=Td(),Rde=t=>{const e=(n=>{let r=!1;const i=Tde(n,s=>{r=!0;const o="prefix"in(s=typeof s=="object"&&s||{})?String(s.prefix):"",a=typeof s.media=="object"&&s.media||{},l=typeof s.root=="object"?s.root||null:globalThis.document||null,u=typeof s.theme=="object"&&s.theme||{},c={prefix:o,media:a,theme:u,themeMap:typeof s.themeMap=="object"&&s.themeMap||{...rde},utils:typeof s.utils=="object"&&s.utils||{}},d=pde(l),p={css:jI(c,d),globalCss:bde(c,d),keyframes:Mde(c,d),createTheme:Cde(c,d),reset(){d.reset(),p.theme.toString()},theme:{},sheet:d,config:c,prefix:o,getCssText:d.toString,toString:d.toString};return String(p.theme=p.createTheme(u)),p});return r||i.reset(),i})(t);return e.styled=(({config:n,sheet:r})=>Pde(n,()=>{const i=jI(n,r);return(...s)=>{const o=i(...s),a=o[bu].type,l=D.forwardRef((u,c)=>{const d=u&&u.as||a,{props:p,deferredInjector:m}=o(u);return delete p.as,p.ref=c,m?D.createElement(D.Fragment,null,D.createElement(d,p),D.createElement(m,null)):D.createElement(d,p)});return l.className=o.className,l.displayName=`Styled.${a.displayName||a.name||a}`,l.selector=o.selector,l.toString=()=>o.selector,l[bu]=o[bu],l}}))(e),e};const Bde=globalThis!=null&&globalThis.document?T.useLayoutEffect:()=>{},Ide=c6["useId".toString()]||(()=>{});let Dde=0;function Lde(t){const[e,n]=T.useState(Ide());return Bde(()=>{t||n(r=>r??String(Dde++))},[t]),t||(e?`radix-${e}`:"")}function Lz(...t){return e=>t.forEach(n=>function(r,i){typeof r=="function"?r(i):r!=null&&(r.current=i)}(n,e))}function lC(...t){return T.useCallback(Lz(...t),t)}const Oz=T.forwardRef((t,e)=>{const{children:n,...r}=t;return T.Children.toArray(n).some(KI)?T.createElement(T.Fragment,null,T.Children.map(n,i=>KI(i)?T.createElement(fM,un({},r,{ref:e}),i.props.children):i)):T.createElement(fM,un({},r,{ref:e}),n)});Oz.displayName="Slot";const fM=T.forwardRef((t,e)=>{const{children:n,...r}=t;return T.isValidElement(n)?T.cloneElement(n,{...Ode(r,n.props),ref:Lz(e,n.ref)}):T.Children.count(n)>1?T.Children.only(null):null});fM.displayName="SlotClone";const Fz=({children:t})=>T.createElement(T.Fragment,null,t);function KI(t){return T.isValidElement(t)&&t.type===Fz}function Ode(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?n[r]=(...o)=>{s==null||s(...o),i==null||i(...o)}:r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}const Pd=["a","button","div","h2","h3","img","li","nav","p","span","svg","ul"].reduce((t,e)=>({...t,[e]:T.forwardRef((n,r)=>{const{asChild:i,...s}=n,o=i?Oz:e;return T.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),n.as&&console.error(Fde),T.createElement(o,un({},s,{ref:r}))})}),{}),Fde="Warning: The `as` prop has been removed in favour of `asChild`. For details, see https://radix-ui.com/docs/primitives/overview/styling#changing-the-rendered-element",kde=T.forwardRef((t,e)=>T.createElement(Pd.span,un({},t,{ref:e,style:{...t.style,position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}}))),Nde=kde,Ude=globalThis!=null&&globalThis.document?T.useLayoutEffect:()=>{},zde=T.forwardRef((t,e)=>{var n,r;const{containerRef:i,style:s,...o}=t,a=(n=i==null?void 0:i.current)!==null&&n!==void 0?n:globalThis==null||(r=globalThis.document)===null||r===void 0?void 0:r.body,[,l]=T.useState({});return Ude(()=>{l({})},[]),a?WA.createPortal(T.createElement(Pd.div,un({"data-radix-portal":""},o,{ref:e,style:a===document.body?{position:"absolute",top:0,left:0,zIndex:2147483647,...s}:void 0})),a):null}),Hde=T.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return T.createElement(Pd.svg,un({},s,{ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),t.asChild?n:T.createElement("polygon",{points:"0,0 30,0 15,10"}))}),Gde=Hde;function XI(t){const[e,n]=T.useState(void 0);return T.useEffect(()=>{if(t){const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else{const l=t.getBoundingClientRect();o=l.width,a=l.height}n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>{n(void 0),r.unobserve(t)}}},[t]),e}function $de(t,e){const n=Zl.get(t);return n===void 0?(Zl.set(t,{rect:{},callbacks:[e]}),Zl.size===1&&(dM=requestAnimationFrame(kz))):(n.callbacks.push(e),e(t.getBoundingClientRect())),()=>{const r=Zl.get(t);if(r===void 0)return;const i=r.callbacks.indexOf(e);i>-1&&r.callbacks.splice(i,1),r.callbacks.length===0&&(Zl.delete(t),Zl.size===0&&cancelAnimationFrame(dM))}}let dM;const Zl=new Map;function kz(){const t=[];Zl.forEach((e,n)=>{const r=n.getBoundingClientRect();var i,s;i=e.rect,s=r,(i.width!==s.width||i.height!==s.height||i.top!==s.top||i.right!==s.right||i.bottom!==s.bottom||i.left!==s.left)&&(e.rect=r,t.push(e))}),t.forEach(e=>{e.callbacks.forEach(n=>n(e.rect))}),dM=requestAnimationFrame(kz)}function Nz(t){const[e,n]=T.useState();return T.useEffect(()=>{if(t){const r=$de(t,n);return()=>{n(void 0),r()}}},[t]),e}function Uz(t,e=[]){let n=[];const r=()=>{const i=n.map(s=>T.createContext(s));return function(s){const o=(s==null?void 0:s[t])||i;return T.useMemo(()=>({[`__scope${t}`]:{...s,[t]:o}}),[s,o])}};return r.scopeName=t,[function(i,s){const o=T.createContext(s),a=n.length;function l(u){const{scope:c,children:d,...p}=u,m=(c==null?void 0:c[t][a])||o,v=T.useMemo(()=>p,Object.values(p));return T.createElement(m.Provider,{value:v},d)}return n=[...n,s],l.displayName=i+"Provider",[l,function(u,c){const d=(c==null?void 0:c[t][a])||o,p=T.useContext(d);if(p)return p;if(s!==void 0)return s;throw new Error(`\`${u}\` must be used within \`${i}\``)}]},Vde(r,...e)]}function Vde(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(i){const s=r.reduce((o,{useScope:a,scopeName:l})=>({...o,...a(i)[`__scope${l}`]}),{});return T.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}function Wde({anchorRect:t,popperSize:e,arrowSize:n,arrowOffset:r=0,side:i,sideOffset:s=0,align:o,alignOffset:a=0,shouldAvoidCollisions:l=!0,collisionBoundariesRect:u,collisionTolerance:c=0}){if(!t||!e||!u)return{popperStyles:jde,arrowStyles:DS};const d=function(R,I,P=0,B=0,O){const H=O?O.height:0,U=YI(I,R,"x"),V=YI(I,R,"y"),j=V.before-P-H,Z=V.after+P+H,ne=U.before-P-H,z=U.after+P+H;return{top:{start:{x:U.start+B,y:j},center:{x:U.center,y:j},end:{x:U.end-B,y:j}},right:{start:{x:z,y:V.start+B},center:{x:z,y:V.center},end:{x:z,y:V.end-B}},bottom:{start:{x:U.start+B,y:Z},center:{x:U.center,y:Z},end:{x:U.end-B,y:Z}},left:{start:{x:ne,y:V.start+B},center:{x:ne,y:V.center},end:{x:ne,y:V.end-B}}}}(e,t,s,a,n),p=d[i][o];if(l===!1){const R=QI(p);let I=DS;return n&&(I=qI({popperSize:e,arrowSize:n,arrowOffset:r,side:i,align:o})),{popperStyles:{...R,"--radix-popper-transform-origin":ZI(e,i,o,r,n)},arrowStyles:I,placedSide:i,placedAlign:o}}const m=DOMRect.fromRect({...e,...p}),v=(y=u,x=c,DOMRect.fromRect({width:y.width-2*x,height:y.height-2*x,x:y.left+x,y:y.top+x}));var y,x;const g=tD(m,v),b=d[eD(i)][o],S=function(R,I,P){const B=eD(R);return I[R]&&!P[B]?B:R}(i,g,tD(DOMRect.fromRect({...e,...b}),v)),M=function(R,I,P,B,O){const H=P==="top"||P==="bottom",U=H?"left":"top",V=H?"right":"bottom",j=H?"width":"height",Z=I[j]>R[j];return(B==="start"||B==="center")&&(O[U]&&Z||O[V]&&!Z)?"end":(B==="end"||B==="center")&&(O[V]&&Z||O[U]&&!Z)?"start":B}(e,t,i,o,g),C=QI(d[S][M]);let E=DS;return n&&(E=qI({popperSize:e,arrowSize:n,arrowOffset:r,side:S,align:M})),{popperStyles:{...C,"--radix-popper-transform-origin":ZI(e,S,M,r,n)},arrowStyles:E,placedSide:S,placedAlign:M}}function YI(t,e,n){const r=t[n==="x"?"left":"top"],i=n==="x"?"width":"height",s=t[i],o=e[i];return{before:r-o,start:r,center:r+(s-o)/2,end:r+s-o,after:r+s}}function QI(t){return{position:"absolute",top:0,left:0,minWidth:"max-content",willChange:"transform",transform:`translate3d(${Math.round(t.x+window.scrollX)}px, ${Math.round(t.y+window.scrollY)}px, 0)`}}function ZI(t,e,n,r,i){const s=e==="top"||e==="bottom",o=i?i.width:0,a=i?i.height:0,l=o/2+r;let u="",c="";return s?(u={start:`${l}px`,center:"center",end:t.width-l+"px"}[n],c=e==="top"?`${t.height+a}px`:-a+"px"):(u=e==="left"?`${t.width+a}px`:-a+"px",c={start:`${l}px`,center:"center",end:t.height-l+"px"}[n]),`${u} ${c}`}const jde={position:"fixed",top:0,left:0,opacity:0,transform:"translate3d(0, -200%, 0)"},DS={position:"absolute",opacity:0};function qI({popperSize:t,arrowSize:e,arrowOffset:n,side:r,align:i}){const s=(t.width-e.width)/2,o=(t.height-e.width)/2,a={top:0,right:90,bottom:180,left:-90}[r],l=Math.max(e.width,e.height),u={width:`${l}px`,height:`${l}px`,transform:`rotate(${a}deg)`,willChange:"transform",position:"absolute",[r]:"100%",direction:Jde(r,i)};return r!=="top"&&r!=="bottom"||(i==="start"&&(u.left=`${n}px`),i==="center"&&(u.left=`${s}px`),i==="end"&&(u.right=`${n}px`)),r!=="left"&&r!=="right"||(i==="start"&&(u.top=`${n}px`),i==="center"&&(u.top=`${o}px`),i==="end"&&(u.bottom=`${n}px`)),u}function Jde(t,e){return(t!=="top"&&t!=="right"||e!=="end")&&(t!=="bottom"&&t!=="left"||e==="end")?"ltr":"rtl"}function eD(t){return{top:"bottom",right:"left",bottom:"top",left:"right"}[t]}function tD(t,e){return{top:t.top<e.top,right:t.right>e.right,bottom:t.bottom>e.bottom,left:t.left<e.left}}const[zz,Hz]=Uz("Popper"),[Kde,Gz]=zz("Popper"),Xde=t=>{const{__scopePopper:e,children:n}=t,[r,i]=T.useState(null);return T.createElement(Kde,{scope:e,anchor:r,onAnchorChange:i},n)},Yde=T.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=Gz("PopperAnchor",n),o=T.useRef(null),a=lC(e,o);return T.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:T.createElement(Pd.div,un({},i,{ref:a}))}),[Qde,Zde]=zz("PopperContent"),qde=T.forwardRef((t,e)=>{const{__scopePopper:n,side:r="bottom",sideOffset:i,align:s="center",alignOffset:o,collisionTolerance:a,avoidCollisions:l=!0,...u}=t,c=Gz("PopperContent",n),[d,p]=T.useState(),m=Nz(c.anchor),[v,y]=T.useState(null),x=XI(v),[g,b]=T.useState(null),S=XI(g),M=lC(e,H=>y(H)),C=function(){const[H,U]=T.useState(void 0);return T.useEffect(()=>{let V;function j(){U({width:window.innerWidth,height:window.innerHeight})}function Z(){window.clearTimeout(V),V=window.setTimeout(j,100)}return j(),window.addEventListener("resize",Z),()=>window.removeEventListener("resize",Z)},[]),H}(),E=C?DOMRect.fromRect({...C,x:0,y:0}):void 0,{popperStyles:R,arrowStyles:I,placedSide:P,placedAlign:B}=Wde({anchorRect:m,popperSize:x,arrowSize:S,arrowOffset:d,side:r,sideOffset:i,align:s,alignOffset:o,shouldAvoidCollisions:l,collisionBoundariesRect:E,collisionTolerance:a}),O=P!==void 0;return T.createElement("div",{style:R,"data-radix-popper-content-wrapper":""},T.createElement(Qde,{scope:n,arrowStyles:I,onArrowChange:b,onArrowOffsetChange:p},T.createElement(Pd.div,un({"data-side":P,"data-align":B},u,{style:{...u.style,animation:O?void 0:"none"},ref:M}))))}),ehe=T.forwardRef(function(t,e){const{__scopePopper:n,offset:r,...i}=t,s=Zde("PopperArrow",n),{onArrowOffsetChange:o}=s;return T.useEffect(()=>o(r),[o,r]),T.createElement("span",{style:{...s.arrowStyles,pointerEvents:"none"}},T.createElement("span",{ref:s.onArrowChange,style:{display:"inline-block",verticalAlign:"top",pointerEvents:"auto"}},T.createElement(Gde,un({},i,{ref:e,style:{...i.style,display:"block"}}))))}),the=Xde,nhe=Yde,rhe=qde,ihe=ehe,nD=globalThis!=null&&globalThis.document?T.useLayoutEffect:()=>{};function she(...t){return e=>t.forEach(n=>function(r,i){typeof r=="function"?r(i):r!=null&&(r.current=i)}(n,e))}function ohe(...t){return T.useCallback(she(...t),t)}const $z=t=>{const{present:e,children:n}=t,r=function(o){const[a,l]=T.useState(),u=T.useRef({}),c=T.useRef(o),d=T.useRef("none"),p=o?"mounted":"unmounted",[m,v]=function(y,x){return T.useReducer((g,b)=>{const S=x[g][b];return S??g},y)}(p,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return T.useEffect(()=>{const y=cv(u.current);d.current=m==="mounted"?y:"none"},[m]),nD(()=>{const y=u.current,x=c.current;if(x!==o){const g=d.current,b=cv(y);o?v("MOUNT"):b==="none"||(y==null?void 0:y.display)==="none"?v("UNMOUNT"):v(x&&g!==b?"ANIMATION_OUT":"UNMOUNT"),c.current=o}},[o,v]),nD(()=>{if(a){const y=g=>{const b=cv(u.current).includes(g.animationName);g.target===a&&b&&v("ANIMATION_END")},x=g=>{g.target===a&&(d.current=cv(u.current))};return a.addEventListener("animationstart",x),a.addEventListener("animationcancel",y),a.addEventListener("animationend",y),()=>{a.removeEventListener("animationstart",x),a.removeEventListener("animationcancel",y),a.removeEventListener("animationend",y)}}},[a,v]),{isPresent:["mounted","unmountSuspended"].includes(m),ref:T.useCallback(y=>{y&&(u.current=getComputedStyle(y)),l(y)},[])}}(e),i=typeof n=="function"?n({present:r.isPresent}):T.Children.only(n),s=ohe(r.ref,i.ref);return typeof n=="function"||r.isPresent?T.cloneElement(i,{ref:s}):null};function cv(t){return(t==null?void 0:t.animationName)||"none"}$z.displayName="Presence";function rD(t){const e=T.useRef(t);return T.useEffect(()=>{e.current=t},[t]),e.current}function ahe(t){const e=T.useRef(t);return T.useEffect(()=>{e.current=t}),T.useMemo(()=>(...n)=>{var r;return(r=e.current)===null||r===void 0?void 0:r.call(e,...n)},[])}function lhe(t){const e=ahe(t);T.useEffect(()=>{const n=r=>{r.key==="Escape"&&e(r)};return document.addEventListener("keydown",n),()=>document.removeEventListener("keydown",n)},[e])}function iD(t){const e=T.useRef(t);return T.useEffect(()=>{e.current=t}),T.useMemo(()=>(...n)=>{var r;return(r=e.current)===null||r===void 0?void 0:r.call(e,...n)},[])}function uhe({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=function({defaultProp:l,onChange:u}){const c=T.useState(l),[d]=c,p=T.useRef(d),m=iD(u);return T.useEffect(()=>{p.current!==d&&(m(d),p.current=d)},[d,p,m]),c}({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:r,a=iD(n);return[o,T.useCallback(l=>{if(s){const u=l,c=typeof l=="function"?u(t):l;c!==t&&a(c)}else i(l)},[s,t,i,a])]}function Hc(t,e,{checkForDefaultPrevented:n=!0}={}){return function(r){if(t==null||t(r),n===!1||!r.defaultPrevented)return e==null?void 0:e(r)}}const[Vz,LPe]=Uz("Tooltip",[Hz]),zx=Hz(),che=700,[OPe,fhe]=Vz("TooltipProvider",{isOpenDelayed:!0,delayDuration:che,onOpen:()=>{},onClose:()=>{}}),[dhe,Hx]=Vz("Tooltip"),hhe=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:i=!1,onOpenChange:s,delayDuration:o}=t,a=fhe("Tooltip",e),l=zx(e),[u,c]=T.useState(null),d=Lde(),p=T.useRef(0),m=o??a.delayDuration,v=T.useRef(!1),{onOpen:y,onClose:x}=a,[g=!1,b]=uhe({prop:r,defaultProp:i,onChange:E=>{E&&(document.dispatchEvent(new CustomEvent("tooltip.open")),y()),s==null||s(E)}}),S=T.useMemo(()=>g?v.current?"delayed-open":"instant-open":"closed",[g]),M=T.useCallback(()=>{window.clearTimeout(p.current),v.current=!1,b(!0)},[b]),C=T.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{v.current=!0,b(!0)},m)},[m,b]);return T.useEffect(()=>()=>window.clearTimeout(p.current),[]),T.createElement(the,l,T.createElement(dhe,{scope:e,contentId:d,open:g,stateAttribute:S,trigger:u,onTriggerChange:c,onTriggerEnter:T.useCallback(()=>{a.isOpenDelayed?C():M()},[a.isOpenDelayed,C,M]),onOpen:T.useCallback(M,[M]),onClose:T.useCallback(()=>{window.clearTimeout(p.current),b(!1),x()},[b,x])},n))},phe=T.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Hx("TooltipTrigger",n),s=zx(n),o=lC(e,i.onTriggerChange),a=T.useRef(!1),l=T.useCallback(()=>a.current=!1,[]);return T.useEffect(()=>()=>document.removeEventListener("mouseup",l),[l]),T.createElement(nhe,un({asChild:!0},s),T.createElement(Pd.button,un({"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute},r,{ref:o,onMouseEnter:Hc(t.onMouseEnter,i.onTriggerEnter),onMouseLeave:Hc(t.onMouseLeave,i.onClose),onMouseDown:Hc(t.onMouseDown,()=>{i.onClose(),a.current=!0,document.addEventListener("mouseup",l,{once:!0})}),onFocus:Hc(t.onFocus,()=>{a.current||i.onOpen()}),onBlur:Hc(t.onBlur,i.onClose),onClick:Hc(t.onClick,i.onClose)})))}),mhe=T.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Hx("TooltipContent",t.__scopeTooltip);return T.createElement($z,{present:n||i.open},T.createElement(ghe,un({ref:e},r)))}),ghe=T.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,portalled:s=!0,...o}=t,a=Hx("TooltipContent",n),l=zx(n),u=s?zde:T.Fragment,{onClose:c}=a;return lhe(()=>c()),T.useEffect(()=>(document.addEventListener("tooltip.open",c),()=>document.removeEventListener("tooltip.open",c)),[c]),T.createElement(u,null,T.createElement(yhe,{__scopeTooltip:n}),T.createElement(rhe,un({"data-state":a.stateAttribute},l,o,{ref:e,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)"}}),T.createElement(Fz,null,r),T.createElement(Nde,{id:a.contentId,role:"tooltip"},i||r)))}),vhe=T.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=zx(n);return T.createElement(ihe,un({},i,r,{ref:e}))});function yhe(t){const{__scopeTooltip:e}=t,n=Hx("CheckTriggerMoved",e),r=Nz(n.trigger),i=r==null?void 0:r.left,s=rD(i),o=r==null?void 0:r.top,a=rD(o),l=n.onClose;return T.useEffect(()=>{(s!==void 0&&s!==i||a!==void 0&&a!==o)&&l()},[l,s,a,i,o]),null}const xhe=hhe,_he=phe,She=mhe,bhe=vhe;function whe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function tn(t,e){if(t==null)return{};var n=whe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}let wn;(function(t){t[t.UNSUPPORTED_INPUT=0]="UNSUPPORTED_INPUT",t[t.NO_COMPONENT_FOR_TYPE=1]="NO_COMPONENT_FOR_TYPE",t[t.UNKNOWN_INPUT=2]="UNKNOWN_INPUT",t[t.DUPLICATE_KEYS=3]="DUPLICATE_KEYS",t[t.ALREADY_REGISTERED_TYPE=4]="ALREADY_REGISTERED_TYPE",t[t.CLIPBOARD_ERROR=5]="CLIPBOARD_ERROR",t[t.THEME_ERROR=6]="THEME_ERROR",t[t.PATH_DOESNT_EXIST=7]="PATH_DOESNT_EXIST",t[t.INPUT_TYPE_OVERRIDE=8]="INPUT_TYPE_OVERRIDE",t[t.EMPTY_KEY=9]="EMPTY_KEY"})(wn||(wn={}));const Mhe={[wn.UNSUPPORTED_INPUT]:(t,e)=>[`An input with type \`${t}\` input was found at path \`${e}\` but it's not supported yet.`],[wn.NO_COMPONENT_FOR_TYPE]:(t,e)=>[`Type \`${t}\` found at path \`${e}\` can't be displayed in panel because no component supports it yet.`],[wn.UNKNOWN_INPUT]:(t,e)=>[`input at path \`${t}\` is not recognized.`,e],[wn.DUPLICATE_KEYS]:(t,e,n)=>[`Key \`${t}\` of path \`${e}\` already exists at path \`${n}\`. Even nested keys need to be unique. Rename one of the keys.`],[wn.ALREADY_REGISTERED_TYPE]:t=>[`Type ${t} has already been registered. You can't register a component with the same type.`],[wn.CLIPBOARD_ERROR]:t=>["Error copying the value",t],[wn.THEME_ERROR]:(t,e)=>[`Error accessing the theme \`${t}.${e}\` value.`],[wn.PATH_DOESNT_EXIST]:t=>[`Error getting the value at path \`${t}\`. There is probably an error in your \`render\` function.`],[wn.PATH_DOESNT_EXIST]:t=>[`Error accessing the value at path \`${t}\``],[wn.INPUT_TYPE_OVERRIDE]:(t,e,n)=>[`Input at path \`${t}\` already exists with type: \`${e}\`. Its type cannot be overridden with type \`${n}\`.`],[wn.EMPTY_KEY]:()=>["Keys can not be empty, if you want to hide a label use whitespace."]};function Wz(t,e,...n){const[r,...i]=Mhe[e](...n);console[t]("LEVA: "+r,...i)}const Wo=Wz.bind(null,"warn"),Ahe=Wz.bind(null,"log"),Ehe=["value"],Che=["schema"],The=["value"],jz=[],Du={};function sD(t){let{value:e}=t,n=tn(t,Ehe);for(let r of jz){const i=r(e,n);if(i)return i}}function pa(t,e){let{schema:n}=e,r=tn(e,Che);if(t in Du){Wo(wn.ALREADY_REGISTERED_TYPE,t);return}jz.push((i,s)=>n(i,s)&&t),Du[t]=r}function LS(t,e,n,r){const{normalize:i}=Du[t];if(i)return i(e,n,r);if(typeof e!="object"||!("value"in e))return{value:e};const{value:s}=e,o=tn(e,The);return{value:s,settings:o}}function Phe(t,e,n,r,i,s){const{sanitize:o}=Du[t];return o?o(e,n,r,i,s):e}function oD(t,e,n){const{format:r}=Du[t];return r?r(e,n):e}function Rhe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ft(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aD(Object(n),!0).forEach(function(r){Rhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const hl=(t,e,n)=>t>n?n:t<e?e:t,Bhe=t=>{if(t===""||typeof t=="number")return t;try{const e=Oa(t);if(!isNaN(e))return e}catch{}return parseFloat(t)},Ihe=Math.log(10);function lD(t){let e=Math.abs(+String(t).replace(".",""));if(e===0)return .01;for(;e!==0&&e%10===0;)e/=10;const n=Math.floor(Math.log(e)/Ihe)+1,r=Math.floor(Math.log10(Math.abs(t))),i=Math.pow(10,r-n);return Math.max(i,.001)}const Ay=(t,e,n)=>n===e?0:(hl(t,e,n)-e)/(n-e),Ey=(t,e,n)=>t*(n-e)+e,Dhe=()=>"_"+Math.random().toString(36).substr(2,9),uD=/\(([0-9+\-*/^ .]+)\)/,cD=/(\d+(?:\.\d+)?) ?\^ ?(\d+(?:\.\d+)?)/,fD=/(\d+(?:\.\d+)?) ?\* ?(\d+(?:\.\d+)?)/,dD=/(\d+(?:\.\d+)?) ?\/ ?(\d+(?:\.\d+)?)/,hD=/(\d+(?:\.\d+)?) ?\+ ?(\d+(?:\.\d+)?)/,pD=/(\d+(?:\.\d+)?) ?- ?(\d+(?:\.\d+)?)/;function Oa(t){if(isNaN(Number(t)))if(uD.test(t)){const e=t.replace(uD,(n,r)=>String(Oa(r)));return Oa(e)}else if(cD.test(t)){const e=t.replace(cD,(n,r,i)=>String(Math.pow(Number(r),Number(i))));return Oa(e)}else if(fD.test(t)){const e=t.replace(fD,(n,r,i)=>String(Number(r)*Number(i)));return Oa(e)}else if(dD.test(t)){const e=t.replace(dD,(n,r,i)=>{if(i!=0)return String(Number(r)/Number(i));throw new Error("Division by zero")});return Oa(e)}else if(hD.test(t)){const e=t.replace(hD,(n,r,i)=>String(Number(r)+Number(i)));return Oa(e)}else if(pD.test(t)){const e=t.replace(pD,(n,r,i)=>String(Number(r)-Number(i)));return Oa(e)}else return Number(t);return Number(t)}function Lhe(t,e){return e.reduce((n,r)=>(t&&t.hasOwnProperty(r)&&(n[r]=t[r]),n),{})}function Ohe(t,e){const n=ft({},t);return e.forEach(r=>r in t&&delete n[r]),n}function Fhe(t,e){return t.reduce((n,r,i)=>Object.assign(n,{[e[i]]:r}),{})}function Jz(t){return Object.prototype.toString.call(t)==="[object Object]"}const khe=t=>Jz(t)&&Object.keys(t).length===0;let Us;(function(t){t.BUTTON="BUTTON",t.BUTTON_GROUP="BUTTON_GROUP",t.MONITOR="MONITOR",t.FOLDER="FOLDER"})(Us||(Us={}));let Gs;(function(t){t.SELECT="SELECT",t.IMAGE="IMAGE",t.NUMBER="NUMBER",t.COLOR="COLOR",t.STRING="STRING",t.BOOLEAN="BOOLEAN",t.INTERVAL="INTERVAL",t.VECTOR3D="VECTOR3D",t.VECTOR2D="VECTOR2D"})(Gs||(Gs={}));const Nhe=["type","__customInput"],Uhe=["render","label","optional","order","disabled","hint","onChange","onEditStart","onEditEnd","transient"],zhe=["type"];function Kz(t,e,n={},r){var i,s;if(typeof t!="object"||Array.isArray(t))return{type:r,input:t,options:ft({key:e,label:e,optional:!1,disabled:!1,order:0},n)};if("__customInput"in t){const{type:C,__customInput:E}=t,R=tn(t,Nhe);return Kz(E,e,R,C)}const{render:o,label:a,optional:l,order:u=0,disabled:c,hint:d,onChange:p,onEditStart:m,onEditEnd:v,transient:y}=t,x=tn(t,Uhe),g=ft({render:o,key:e,label:a??e,hint:d,transient:y??!!p,onEditStart:m,onEditEnd:v,disabled:c,optional:l,order:u},n);let{type:b}=x,S=tn(x,zhe);if(b=r??b,b in Us)return{type:b,input:S,options:g};let M;return r&&Jz(S)&&"value"in S?M=S.value:M=khe(S)?void 0:S,{type:b,input:M,options:ft(ft({},g),{},{onChange:p,optional:(i=g.optional)!==null&&i!==void 0?i:!1,disabled:(s=g.disabled)!==null&&s!==void 0?s:!1})}}function Hhe(t,e,n,r){const i=Kz(t,e),{type:s,input:o,options:a}=i;if(s)return s in Us?i:{type:s,input:LS(s,o,n,r),options:a};let l=sD(o);return l?{type:l,input:LS(l,o,n,r),options:a}:(l=sD({value:o}),l?{type:l,input:LS(l,{value:o},n,r),options:a}:!1)}function mD(t,e,n,r,i){const{value:s,type:o,settings:a}=t;t.value=Xz({type:o,value:s,settings:a},e,n,r),t.fromPanel=i}const Ghe=function(e,n,r){this.type="LEVA_ERROR",this.message="LEVA: "+e,this.previousValue=n,this.error=r};function Xz({type:t,value:e,settings:n},r,i,s){const o=t!=="SELECT"&&typeof r=="function"?r(e):r;let a;try{a=Phe(t,o,n,e,i,s)}catch(l){throw new Ghe(`The value \`${r}\` did not result in a correct value.`,e,l)}return tm(a,e)?e:a}const Yz=(t,e,n=!1)=>{let r=0;return function(){const i=arguments,s=n&&!r,o=()=>t.apply(this,i);window.clearTimeout(r),r=window.setTimeout(o,e),s&&o()}},Qz=t=>t.shiftKey?5:t.altKey?1/5:1;function $he(t,e){const n=console.error;console.error=()=>{},WA.render(t,e),console.error=n}const Vhe=["value"],Whe=["min","max"],jhe=t=>{if(typeof t=="number")return!0;if(typeof t=="string"){const e=parseFloat(t);return isNaN(e)?!1:t.substring((""+e).length).trim().length<4}return!1},Zz=(t,{min:e=-1/0,max:n=1/0,suffix:r})=>{const i=parseFloat(t);if(t===""||isNaN(i))throw Error("Invalid number");const s=hl(i,e,n);return r?s+r:s},Jhe=(t,{pad:e=0,suffix:n})=>{const r=parseFloat(t).toFixed(e);return n?r+n:r},qz=t=>{let{value:e}=t,n=tn(t,Vhe);const{min:r=-1/0,max:i=1/0}=n,s=tn(n,Whe);let o=parseFloat(e);const a=typeof e=="string"?e.substring((""+o).length):void 0;o=hl(o,r,i);let l=n.step;l||(Number.isFinite(r)?Number.isFinite(i)?l=+(Math.abs(i-r)/100).toPrecision(1):l=+(Math.abs(o-r)/100).toPrecision(1):Number.isFinite(i)&&(l=+(Math.abs(i-o)/100).toPrecision(1)));const u=l?lD(l)*10:lD(o);l=l||u/10;const c=Math.round(hl(Math.log10(1/u),0,2));return{value:a?o+a:o,settings:ft({initialValue:o,step:l,pad:c,min:r,max:i,suffix:a},s)}},e5=(t,{step:e,initialValue:n})=>{const r=Math.round((t-n)/e);return n+r*e};var t5=Object.freeze({__proto__:null,schema:jhe,sanitize:Zz,format:Jhe,normalize:qz,sanitizeStep:e5});function kn(){return kn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kn.apply(this,arguments)}const n5=T.createContext({});function Ur(){return T.useContext(n5)}const uC=T.createContext(null),r5=T.createContext(null),i5=T.createContext(null);function zm(){return T.useContext(r5)}function Khe(){return T.useContext(i5)}const s5=()=>({colors:{elevation1:"#292d39",elevation2:"#181c20",elevation3:"#373c4b",accent1:"#0066dc",accent2:"#007bff",accent3:"#3c93ff",highlight1:"#535760",highlight2:"#8c92a4",highlight3:"#fefefe",vivid1:"#ffcc00",folderWidgetColor:"$highlight2",folderTextColor:"$highlight3",toolTipBackground:"$highlight3",toolTipText:"$elevation2"},radii:{xs:"2px",sm:"3px",lg:"10px"},space:{xs:"3px",sm:"6px",md:"10px",rowGap:"7px",colGap:"7px"},fonts:{mono:"ui-monospace, SFMono-Regular, Menlo, 'Roboto Mono', monospace",sans:"system-ui, sans-serif"},fontSizes:{root:"11px",toolTip:"$root"},sizes:{rootWidth:"280px",controlWidth:"160px",numberInputMinWidth:"38px",scrubberWidth:"8px",scrubberHeight:"16px",rowHeight:"24px",folderTitleHeight:"20px",checkboxSize:"16px",joystickWidth:"100px",joystickHeight:"100px",colorPickerWidth:"$controlWidth",colorPickerHeight:"100px",imagePreviewWidth:"$controlWidth",imagePreviewHeight:"100px",monitorHeight:"60px",titleBarHeight:"39px"},shadows:{level1:"0 0 9px 0 #00000088",level2:"0 4px 14px #00000033"},borderWidths:{root:"0px",input:"1px",focus:"1px",hover:"1px",active:"1px",folder:"1px"},fontWeights:{label:"normal",folder:"normal",button:"normal"}});function fv(t,e){const[n,r]=t.split(" "),i={};return n!=="none"&&(i.boxShadow=`${e.inset?"inset ":""}0 0 0 $borderWidths${[e.key]} $colors${n!=="default"&&n||e.borderColor}`),r&&(i.backgroundColor=r),i}const Dh={$inputStyle:()=>t=>fv(t,{key:"$input",borderColor:"$highlight1",inset:!0}),$focusStyle:()=>t=>fv(t,{key:"$focus",borderColor:"$accent2"}),$hoverStyle:()=>t=>fv(t,{key:"$hover",borderColor:"$accent1",inset:!0}),$activeStyle:()=>t=>fv(t,{key:"$active",borderColor:"$accent1",inset:!0})},{styled:ot,css:FPe,createTheme:Xhe,globalCss:Yhe,keyframes:kPe}=Rde({prefix:"leva",theme:s5(),utils:ft(ft({},Dh),{},{$flex:()=>({display:"flex",alignItems:"center"}),$flexCenter:()=>({display:"flex",alignItems:"center",justifyContent:"center"}),$reset:()=>({outline:"none",fontSize:"inherit",fontWeight:"inherit",color:"inherit",fontFamily:"inherit",border:"none",backgroundColor:"transparent",appearance:"none"}),$draggable:()=>({touchAction:"none",WebkitUserDrag:"none",userSelect:"none"}),$focus:t=>({"&:focus":Dh.$focusStyle()(t)}),$focusWithin:t=>({"&:focus-within":Dh.$focusStyle()(t)}),$hover:t=>({"&:hover":Dh.$hoverStyle()(t)}),$active:t=>({"&:active":Dh.$activeStyle()(t)})})}),Qhe=Yhe({".leva__panel__dragged":{WebkitUserDrag:"none",userSelect:"none",input:{userSelect:"none"},"*":{cursor:"ew-resize !important"}}});function Zhe(t){const e=s5();if(!t)return{theme:e,className:""};Object.keys(t).forEach(r=>{Object.assign(e[r],t[r])});const n=Xhe(e);return{theme:e,className:n.className}}function Zo(t,e){const{theme:n}=T.useContext(uC);if(!(t in n)||!(e in n[t]))return Wo(wn.THEME_ERROR,t,e),"";let r=e;for(;;){let i=n[t][r];if(typeof i=="string"&&i.charAt(0)==="$")r=i.substr(1);else return i}}const o5=ot("input",{$reset:"",padding:"0 $sm",width:0,minWidth:0,flex:1,height:"100%",variants:{levaType:{number:{textAlign:"right"}},as:{textarea:{padding:"$sm"}}}}),a5=ot("div",{$draggable:"",height:"100%",$flexCenter:"",position:"relative",padding:"0 $xs",fontSize:"0.8em",opacity:.8,cursor:"default",touchAction:"none",[`& + ${o5}`]:{paddingLeft:0}}),qhe=ot(a5,{cursor:"ew-resize",marginRight:"-$xs",textTransform:"uppercase",opacity:.3,"&:hover":{opacity:1},variants:{dragging:{true:{backgroundColor:"$accent2",opacity:1}}}}),epe=ot("div",{$flex:"",position:"relative",borderRadius:"$sm",overflow:"hidden",color:"inherit",height:"$rowHeight",backgroundColor:"$elevation3",$inputStyle:"$elevation1",$hover:"",$focusWithin:"",variants:{textArea:{true:{height:"auto"}}}}),tpe=["innerLabel","value","onUpdate","onChange","onKeyDown","type","id","inputType","rows"],npe=["onUpdate"];function cC(t){let{innerLabel:e,value:n,onUpdate:r,onChange:i,onKeyDown:s,type:o,id:a,inputType:l="text",rows:u=0}=t,c=tn(t,tpe);const{id:d,emitOnEditStart:p,emitOnEditEnd:m,disabled:v}=Ur(),y=a||d,x=T.useRef(null),g=u>0,b=g?"textarea":"input",S=T.useCallback(E=>R=>{const I=R.currentTarget.value;E(I)},[]);D.useEffect(()=>{const E=x.current,R=S(I=>{r(I),m()});return E==null||E.addEventListener("blur",R),()=>E==null?void 0:E.removeEventListener("blur",R)},[S,r,m]);const M=T.useCallback(E=>{E.key==="Enter"&&S(r)(E)},[S,r]),C=Object.assign({as:b},g?{rows:u}:{},c);return D.createElement(epe,{textArea:g},e&&typeof e=="string"?D.createElement(a5,null,e):e,D.createElement(o5,kn({levaType:o,ref:x,id:y,type:l,autoComplete:"off",spellCheck:"false",value:n,onChange:S(i),onFocus:()=>p(),onKeyPress:M,onKeyDown:s,disabled:v},C)))}function rpe(t){let{onUpdate:e}=t,n=tn(t,npe);const r=T.useCallback(s=>e(Bhe(s)),[e]),i=T.useCallback(s=>{const o=s.key==="ArrowUp"?1:s.key==="ArrowDown"?-1:0;if(o){s.preventDefault();const a=s.altKey?.1:s.shiftKey?10:1;e(l=>parseFloat(l)+o*a)}},[e]);return D.createElement(cC,kn({},n,{onUpdate:r,onKeyDown:i,type:"number"}))}const Cy=ot("div",{}),hM=ot("div",{position:"relative",background:"$elevation2",transition:"height 300ms ease",variants:{fill:{true:{},false:{}},flat:{false:{},true:{}},isRoot:{true:{},false:{paddingLeft:"$md","&::after":{content:'""',position:"absolute",left:0,top:0,width:"$borderWidths$folder",height:"100%",backgroundColor:"$folderWidgetColor",opacity:.4,transform:"translateX(-50%)"}}}},compoundVariants:[{isRoot:!0,fill:!1,css:{overflowY:"auto",maxHeight:"calc(100vh - 20px - $$titleBarHeight)"}},{isRoot:!0,flat:!1,css:{borderRadius:"$lg"}}]}),ipe=ot("div",{$flex:"",color:"$folderTextColor",userSelect:"none",cursor:"pointer",height:"$folderTitleHeight",fontWeight:"$folder","> svg":{marginLeft:-4,marginRight:4,cursor:"pointer",fill:"$folderWidgetColor",opacity:.6},"&:hover > svg":{fill:"$folderWidgetColor"},[`&:hover + ${hM}::after`]:{opacity:.6},[`${Cy}:hover > & + ${hM}::after`]:{opacity:.6},[`${Cy}:hover > & > svg`]:{opacity:1}}),l5=ot("div",{position:"relative",display:"grid",gridTemplateColumns:"100%",rowGap:"$rowGap",transition:"opacity 250ms ease",variants:{toggled:{true:{opacity:1,transitionDelay:"250ms"},false:{opacity:0,transitionDelay:"0ms",pointerEvents:"none"}},isRoot:{true:{"& > div":{paddingLeft:"$md",paddingRight:"$md"},"& > div:first-of-type":{paddingTop:"$sm"},"& > div:last-of-type":{paddingBottom:"$sm"},[`> ${Cy}:not(:first-of-type)`]:{paddingTop:"$sm",marginTop:"$md",borderTop:"$borderWidths$folder solid $colors$elevation1"}}}}}),u5=ot("div",{position:"relative",zIndex:100,display:"grid",rowGap:"$rowGap",gridTemplateRows:"minmax($sizes$rowHeight, max-content)",alignItems:"center",color:"$highlight2",[`${l5} > &`]:{"&:first-of-type":{marginTop:"$rowGap"},"&:last-of-type":{marginBottom:"$rowGap"}},variants:{disabled:{true:{pointerEvents:"none"},false:{"&:hover,&:focus-within":{color:"$highlight3"}}}}}),c5=ot(u5,{gridTemplateColumns:"auto $sizes$controlWidth",columnGap:"$colGap"}),spe=ot("div",{$flex:"",height:"100%",position:"relative",overflow:"hidden","& > div":{marginLeft:"$colGap",padding:"0 $xs",opacity:.4},"& > div:hover":{opacity:.8},"& > div > svg":{display:"none",cursor:"pointer",width:13,minWidth:13,height:13,backgroundColor:"$elevation2"},"&:hover > div > svg":{display:"block"},variants:{align:{top:{height:"100%",alignItems:"flex-start",paddingTop:"$sm"}}}}),ope=ot("input",{$reset:"",height:0,width:0,opacity:0,margin:0,"& + label":{position:"relative",$flexCenter:"",height:"100%",userSelect:"none",cursor:"pointer",paddingLeft:2,paddingRight:"$sm",pointerEvents:"auto"},"& + label:after":{content:'""',width:6,height:6,backgroundColor:"$elevation3",borderRadius:"50%",$activeStyle:""},"&:focus + label:after":{$focusStyle:""},"& + label:active:after":{backgroundColor:"$accent1",$focusStyle:""},"&:checked + label:after":{backgroundColor:"$accent1"}}),pM=ot("label",{fontWeight:"$label",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap","& > svg":{display:"block"}}),ape=ot("div",{opacity:1,variants:{disabled:{true:{opacity:.6,pointerEvents:"none",[`& ${pM}`]:{pointerEvents:"auto"}}}}}),f5=ot("div",{position:"fixed",top:0,bottom:0,right:0,left:0,zIndex:1e3,userSelect:"none"}),lpe=ot("div",{background:"$toolTipBackground",fontFamily:"$sans",fontSize:"$toolTip",padding:"$xs $sm",color:"$toolTipText",borderRadius:"$xs",boxShadow:"$level2",maxWidth:260}),upe=ot(bhe,{fill:"$toolTipBackground"});function fC({children:t}){const{className:e}=T.useContext(uC);return D.createElement(Zfe,{className:e},t)}const cpe=["align"];function fpe(){const{id:t,disable:e,disabled:n}=Ur();return D.createElement(D.Fragment,null,D.createElement(ope,{id:t+"__disable",type:"checkbox",checked:!n,onChange:()=>e(!n)}),D.createElement("label",{htmlFor:t+"__disable"}))}function dpe(t){const{id:e,optional:n,hint:r}=Ur(),i=t.htmlFor||(e?{htmlFor:e}:null),s=!r&&typeof t.children=="string"?{title:t.children}:null;return D.createElement(D.Fragment,null,n&&D.createElement(fpe,null),r!==void 0?D.createElement(xhe,null,D.createElement(_he,{asChild:!0},D.createElement(pM,kn({},i,t))),D.createElement(She,{side:"top",sideOffset:2},D.createElement(lpe,null,r,D.createElement(upe,null)))):D.createElement(pM,kn({},i,s,t)))}function Js(t){let{align:e}=t,n=tn(t,cpe);const{value:r,label:i,key:s,disabled:o}=Ur(),{hideCopyButton:a}=Khe(),l=!a&&s!==void 0,[u,c]=T.useState(!1),d=async()=>{try{await navigator.clipboard.writeText(JSON.stringify({[s]:r??""})),c(!0)}catch{Wo(wn.CLIPBOARD_ERROR,{[s]:r})}};return D.createElement(spe,{align:e,onPointerLeave:()=>c(!1)},D.createElement(dpe,n),l&&!o&&D.createElement("div",{title:`Click to copy ${typeof i=="string"?i:s} value`},u?D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},D.createElement("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),D.createElement("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})):D.createElement("svg",{onClick:d,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},D.createElement("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),D.createElement("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"}))))}const hpe=["toggled"],ppe=ot("svg",{fill:"currentColor",transition:"transform 350ms ease, fill 250ms ease"});function dC(t){let{toggled:e}=t,n=tn(t,hpe);return D.createElement(ppe,kn({width:"9",height:"5",viewBox:"0 0 9 5",xmlns:"http://www.w3.org/2000/svg",style:{transform:`rotate(${e?0:-90}deg)`}},n),D.createElement("path",{d:"M3.8 4.4c.4.3 1 .3 1.4 0L8 1.7A1 1 0 007.4 0H1.6a1 1 0 00-.7 1.7l3 2.7z"}))}const mpe=["input"];function gs(t){let{input:e}=t,n=tn(t,mpe);return e?D.createElement(c5,n):D.createElement(u5,n)}function d5({value:t,type:e,settings:n,setValue:r}){const[i,s]=T.useState(oD(e,t,n)),o=T.useRef(t),a=T.useRef(n);a.current=n;const l=T.useCallback(c=>s(oD(e,c,a.current)),[e]),u=T.useCallback(c=>{try{r(c)}catch(d){const{type:p,previousValue:m}=d;if(p!=="LEVA_ERROR")throw d;l(m)}},[l,r]);return T.useEffect(()=>{tm(t,o.current)||l(t),o.current=t},[t,l]),{displayValue:i,onChange:s,onUpdate:u}}function Hm(t,e){const{emitOnEditStart:n,emitOnEditEnd:r}=Ur();return AZ(i=>{i.first&&(document.body.classList.add("leva__panel__dragged"),n==null||n());const s=t(i);return i.last&&(document.body.classList.remove("leva__panel__dragged"),r==null||r()),s},e)}function gpe(t){const e=T.useRef(null),n=T.useRef(null),r=T.useRef(!1);return T.useEffect(()=>{const i=Yz(()=>{e.current.width=e.current.offsetWidth*window.devicePixelRatio,e.current.height=e.current.offsetHeight*window.devicePixelRatio,t(e.current,n.current)},250);return window.addEventListener("resize",i),r.current||(i(),r.current=!0),()=>window.removeEventListener("resize",i)},[t]),T.useEffect(()=>{n.current=e.current.getContext("2d")},[]),[e,n]}function h5(){const t=T.useRef(null),e=T.useRef({x:0,y:0}),n=T.useCallback(r=>{Object.assign(e.current,r),t.current&&(t.current.style.transform=`translate3d(${e.current.x}px, ${e.current.y}px, 0)`)},[]);return[t,n]}const vpe=["__refCount"],OS=(t,e)=>{if(!t[e])return null;const n=t[e];return tn(n,vpe)};function ype(t){const e=zm(),[n,r]=T.useState(OS(e.getData(),t)),i=T.useCallback(u=>e.setValueAtPath(t,u,!0),[t,e]),s=T.useCallback(u=>e.setSettingsAtPath(t,u),[t,e]),o=T.useCallback(u=>e.disableInputAtPath(t,u),[t,e]),a=T.useCallback(()=>e.emitOnEditStart(t),[t,e]),l=T.useCallback(()=>e.emitOnEditEnd(t),[t,e]);return T.useEffect(()=>{r(OS(e.getData(),t));const u=e.useStore.subscribe(c=>OS(c.data,t),r,{equalityFn:Um});return()=>u()},[e,t]),[n,{set:i,setSettings:s,disable:o,storeId:e.storeId,emitOnEditStart:a,emitOnEditEnd:l}]}const xpe=ot("div",{variants:{hasRange:{true:{position:"relative",display:"grid",gridTemplateColumns:"auto $sizes$numberInputMinWidth",columnGap:"$colGap",alignItems:"center"}}}}),p5=ot("div",{position:"relative",width:"100%",height:2,borderRadius:"$xs",backgroundColor:"$elevation1"}),mM=ot("div",{position:"absolute",width:"$scrubberWidth",height:"$scrubberHeight",borderRadius:"$xs",boxShadow:"0 0 0 2px $colors$elevation2",backgroundColor:"$accent2",cursor:"pointer",$active:"none $accent1",$hover:"none $accent3",variants:{position:{left:{borderTopRightRadius:0,borderBottomRightRadius:0,transform:"translateX(calc(-0.5 * ($sizes$scrubberWidth + 4px)))"},right:{borderTopLeftRadius:0,borderBottomLeftRadius:0,transform:"translateX(calc(0.5 * ($sizes$scrubberWidth + 4px)))"}}}}),m5=ot("div",{position:"relative",$flex:"",height:"100%",cursor:"pointer",touchAction:"none"}),g5=ot("div",{position:"absolute",height:"100%",backgroundColor:"$accent2"});function _pe({value:t,min:e,max:n,onDrag:r,step:i,initialValue:s}){const o=T.useRef(null),a=T.useRef(null),l=T.useRef(0),u=Zo("sizes","scrubberWidth"),c=Hm(({event:p,first:m,xy:[v],movement:[y],memo:x})=>{if(m){const{width:b,left:S}=o.current.getBoundingClientRect();l.current=b-parseFloat(u),x=(p==null?void 0:p.target)===a.current?t:Ey((v-S)/b,e,n)}const g=x+Ey(y/l.current,0,n-e);return r(e5(g,{step:i,initialValue:s})),x}),d=Ay(t,e,n);return D.createElement(m5,kn({ref:o},c()),D.createElement(p5,null,D.createElement(g5,{style:{left:0,right:`${(1-d)*100}%`}})),D.createElement(mM,{ref:a,style:{left:`calc(${d} * (100% - ${u}))`}}))}const Spe=D.memo(({label:t,onUpdate:e,step:n,innerLabelTrim:r})=>{const[i,s]=T.useState(!1),o=Hm(({active:a,delta:[l],event:u,memo:c=0})=>(s(a),c+=l/2,Math.abs(c)>=1&&(e(d=>parseFloat(d)+Math.floor(c)*n*Qz(u)),c=0),c));return D.createElement(qhe,kn({dragging:i,title:t.length>1?t:""},o()),t.slice(0,r))});function v5({label:t,id:e,displayValue:n,onUpdate:r,onChange:i,settings:s,innerLabelTrim:o=1}){const a=o>0&&D.createElement(Spe,{label:t,step:s.step,onUpdate:r,innerLabelTrim:o});return D.createElement(rpe,{id:e,value:String(n),onUpdate:r,onChange:i,innerLabel:a})}function bpe(){const t=Ur(),{label:e,value:n,onUpdate:r,settings:i,id:s}=t,{min:o,max:a}=i,l=a!==1/0&&o!==-1/0;return D.createElement(gs,{input:!0},D.createElement(Js,null,e),D.createElement(xpe,{hasRange:l},l&&D.createElement(_pe,kn({value:parseFloat(n),onDrag:r},i)),D.createElement(v5,kn({},t,{id:s,label:"value",innerLabelTrim:l?0:1}))))}const{sanitizeStep:wpe}=t5,Mpe=tn(t5,["sanitizeStep"]);var Ape=ft({component:bpe},Mpe);const Epe=(t,e)=>ci().schema({options:ci().passesAnyOf(ci().object(),ci().array())}).test(e),Cpe=(t,{values:e})=>{if(e.indexOf(t)<0)throw Error("Selected value doesn't match Select options");return t},Tpe=(t,{values:e})=>e.indexOf(t),Ppe=t=>{let{value:e,options:n}=t,r,i;return Array.isArray(n)?(i=n,r=n.map(s=>String(s))):(i=Object.values(n),r=Object.keys(n)),"value"in t?i.includes(e)||(r.unshift(String(e)),i.unshift(e)):e=i[0],Object.values(n).includes(e)||(n[String(e)]=e),{value:e,settings:{keys:r,values:i}}};var Rpe=Object.freeze({__proto__:null,schema:Epe,sanitize:Cpe,format:Tpe,normalize:Ppe});const Bpe=ot("div",{$flexCenter:"",position:"relative","> svg":{pointerEvents:"none",position:"absolute",right:"$md"}}),gM=ot("select",{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0}),Ipe=ot("div",{display:"flex",alignItems:"center",width:"100%",height:"$rowHeight",backgroundColor:"$elevation3",borderRadius:"$sm",padding:"0 $sm",cursor:"pointer",[`${gM}:focus + &`]:{$focusStyle:""},[`${gM}:hover + &`]:{$hoverStyle:""}});function Dpe({displayValue:t,value:e,onUpdate:n,id:r,settings:i,disabled:s}){const{keys:o,values:a}=i,l=T.useRef();return e===a[t]&&(l.current=o[t]),D.createElement(Bpe,null,D.createElement(gM,{id:r,value:t,onChange:u=>n(a[Number(u.currentTarget.value)]),disabled:s},o.map((u,c)=>D.createElement("option",{key:u,value:c},u))),D.createElement(Ipe,null,l.current),D.createElement(dC,{toggled:!0}))}function Lpe(){const{label:t,value:e,displayValue:n,onUpdate:r,id:i,disabled:s,settings:o}=Ur();return D.createElement(gs,{input:!0},D.createElement(Js,null,t),D.createElement(Dpe,{id:i,value:e,displayValue:n,onUpdate:r,settings:o,disabled:s}))}var Ope=ft({component:Lpe},Rpe);const Fpe=t=>ci().string().test(t),kpe=t=>{if(typeof t!="string")throw Error("Invalid string");return t},Npe=({value:t,editable:e=!0,rows:n=!1})=>({value:t,settings:{editable:e,rows:typeof n=="number"?n:n?5:0}});var Upe=Object.freeze({__proto__:null,schema:Fpe,sanitize:kpe,normalize:Npe});const zpe=["displayValue","onUpdate","onChange","editable"],Hpe=ot("div",{whiteSpace:"pre-wrap"});function Gpe(t){let{displayValue:e,onUpdate:n,onChange:r,editable:i=!0}=t,s=tn(t,zpe);return i?D.createElement(cC,kn({value:e,onUpdate:n,onChange:r},s)):D.createElement(Hpe,null,e)}function $pe(){const{label:t,settings:e,displayValue:n,onUpdate:r,onChange:i}=Ur();return D.createElement(gs,{input:!0},D.createElement(Js,null,t),D.createElement(Gpe,kn({displayValue:n,onUpdate:r,onChange:i},e)))}var Vpe=ft({component:$pe},Upe);const Wpe=t=>ci().boolean().test(t),jpe=t=>{if(typeof t!="boolean")throw Error("Invalid boolean");return t};var Jpe=Object.freeze({__proto__:null,schema:Wpe,sanitize:jpe});const Kpe=ot("div",{position:"relative",$flex:"",height:"$rowHeight",input:{$reset:"",height:0,width:0,opacity:0,margin:0},label:{position:"relative",$flexCenter:"",userSelect:"none",cursor:"pointer",height:"$checkboxSize",width:"$checkboxSize",backgroundColor:"$elevation3",borderRadius:"$sm",$hover:""},"input:focus + label":{$focusStyle:""},"input:focus:checked + label, input:checked + label:hover":{$hoverStyle:"$accent3"},"input + label:active":{backgroundColor:"$accent1"},"input:checked + label:active":{backgroundColor:"$accent1"},"label > svg":{display:"none",width:"90%",height:"90%",stroke:"$highlight3"},"input:checked + label":{backgroundColor:"$accent2"},"input:checked + label > svg":{display:"block"}});function Xpe({value:t,onUpdate:e,id:n,disabled:r}){return D.createElement(Kpe,null,D.createElement("input",{id:n,type:"checkbox",checked:t,onChange:i=>e(i.currentTarget.checked),disabled:r}),D.createElement("label",{htmlFor:n},D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},D.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"}))))}function Ype(){const{label:t,value:e,onUpdate:n,disabled:r,id:i}=Ur();return D.createElement(gs,{input:!0},D.createElement(Js,null,t),D.createElement(Xpe,{value:e,onUpdate:n,id:i,disabled:r}))}var Qpe=ft({component:Ype},Jpe);const Zpe=["locked"];function qpe({value:t,id:e,valueKey:n,settings:r,onUpdate:i,innerLabelTrim:s}){const o=T.useRef(t[n]);o.current=t[n];const a=T.useCallback(u=>i({[n]:Xz({type:"NUMBER",value:o.current,settings:r},u)}),[i,r,n]),l=d5({type:"NUMBER",value:t[n],settings:r,setValue:a});return D.createElement(v5,{id:e,label:n,value:t[n],displayValue:l.displayValue,onUpdate:l.onUpdate,onChange:l.onChange,settings:r,innerLabelTrim:s})}const eme=ot("div",{display:"grid",columnGap:"$colGap",gridAutoFlow:"column dense",alignItems:"center",variants:{withLock:{true:{gridTemplateColumns:"10px auto","> svg":{cursor:"pointer"}}}}});function tme(t){let{locked:e}=t,n=tn(t,Zpe);return D.createElement("svg",kn({width:"10",height:"10",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),e?D.createElement("path",{d:"M5 4.63601C5 3.76031 5.24219 3.1054 5.64323 2.67357C6.03934 2.24705 6.64582 1.9783 7.5014 1.9783C8.35745 1.9783 8.96306 2.24652 9.35823 2.67208C9.75838 3.10299 10 3.75708 10 4.63325V5.99999H5V4.63601ZM4 5.99999V4.63601C4 3.58148 4.29339 2.65754 4.91049 1.99307C5.53252 1.32329 6.42675 0.978302 7.5014 0.978302C8.57583 0.978302 9.46952 1.32233 10.091 1.99162C10.7076 2.65557 11 3.57896 11 4.63325V5.99999H12C12.5523 5.99999 13 6.44771 13 6.99999V13C13 13.5523 12.5523 14 12 14H3C2.44772 14 2 13.5523 2 13V6.99999C2 6.44771 2.44772 5.99999 3 5.99999H4ZM3 6.99999H12V13H3V6.99999Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}):D.createElement("path",{d:"M9 3.63601C9 2.76044 9.24207 2.11211 9.64154 1.68623C10.0366 1.26502 10.6432 1 11.5014 1C12.4485 1 13.0839 1.30552 13.4722 1.80636C13.8031 2.23312 14 2.84313 14 3.63325H15C15 2.68242 14.7626 1.83856 14.2625 1.19361C13.6389 0.38943 12.6743 0 11.5014 0C10.4294 0 9.53523 0.337871 8.91218 1.0021C8.29351 1.66167 8 2.58135 8 3.63601V6H1C0.447715 6 0 6.44772 0 7V13C0 13.5523 0.447715 14 1 14H10C10.5523 14 11 13.5523 11 13V7C11 6.44772 10.5523 6 10 6H9V3.63601ZM1 7H10V13H1V7Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function hC({value:t,onUpdate:e,settings:n,innerLabelTrim:r}){const{id:i,setSettings:s}=Ur(),{lock:o,locked:a}=n;return D.createElement(eme,{withLock:o},o&&D.createElement(tme,{locked:a,onClick:()=>s({locked:!a})}),Object.keys(t).map((l,u)=>D.createElement(qpe,{id:u===0?i:`${i}.${l}`,key:l,valueKey:l,value:t,settings:n[l],onUpdate:e,innerLabelTrim:r})))}const y5=(t,e)=>{const n={};let r=0,i=1/0;Object.entries(t).forEach(([s,o])=>{n[s]=qz(ft({value:o},e[s])).settings,r=Math.max(r,n[s].step),i=Math.min(i,n[s].pad)});for(let s in n){const{step:o,min:a,max:l}=e[s]||{};!isFinite(o)&&(!isFinite(a)||!isFinite(l))&&(n[s].step=r,n[s].pad=i)}return n},nme=["lock"],rme=["value"];function ime(t){const e=ci().array().length(t).every.number(),n=r=>{if(!r||typeof r!="object")return!1;const i=Object.values(r);return i.length===t&&i.every(s=>isFinite(s))};return r=>e.test(r)||n(r)}function sme(t){return Array.isArray(t)?"array":"object"}function hp(t,e,n){return sme(t)===e?t:e==="array"?Object.values(t):Fhe(t,n)}const ome=(t,e,n)=>{const r=hp(t,"object",e.keys);for(let o in r)r[o]=Zz(r[o],e[o]);const i=Object.keys(r);let s={};if(i.length===e.keys.length)s=r;else{const o=hp(n,"object",e.keys);if(i.length===1&&e.locked){const a=i[0],l=r[a],u=o[a],c=u!==0?l/u:1;for(let d in o)d===a?s[a]=l:s[d]=o[d]*c}else s=ft(ft({},o),r)}return hp(s,e.format,e.keys)},ame=(t,e)=>hp(t,"object",e.keys),lme=t=>!!t&&("step"in t||"min"in t||"max"in t);function ume(t,e,n=[]){const{lock:r=!1}=e,i=tn(e,nme),s=Array.isArray(t)?"array":"object",o=s==="object"?Object.keys(t):n,a=hp(t,"object",o),l=lme(i)?o.reduce((c,d)=>Object.assign(c,{[d]:i}),{}):i,u=y5(a,l);return{value:s==="array"?t:a,settings:ft(ft({},u),{},{format:s,keys:o,lock:r,locked:!1})}}function x5(t){return{schema:ime(t.length),normalize:e=>{let{value:n}=e,r=tn(e,rme);return ume(n,r,t)},format:(e,n)=>ame(e,n),sanitize:(e,n,r)=>ome(e,n,r)}}var cme={grad:.9,turn:360,rad:360/(2*Math.PI)},No=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},cr=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=Math.pow(10,e)),Math.round(n*t)/n+0},us=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=1),t>n?n:t>e?t:e},_5=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},gD=function(t){return{r:us(t.r,0,255),g:us(t.g,0,255),b:us(t.b,0,255),a:us(t.a)}},FS=function(t){return{r:cr(t.r),g:cr(t.g),b:cr(t.b),a:cr(t.a,3)}},fme=/^#([0-9a-f]{3,8})$/i,dv=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},S5=function(t){var e=t.r,n=t.g,r=t.b,i=t.a,s=Math.max(e,n,r),o=s-Math.min(e,n,r),a=o?s===e?(n-r)/o:s===n?2+(r-e)/o:4+(e-n)/o:0;return{h:60*(a<0?a+6:a),s:s?o/s*100:0,v:s/255*100,a:i}},b5=function(t){var e=t.h,n=t.s,r=t.v,i=t.a;e=e/360*6,n/=100,r/=100;var s=Math.floor(e),o=r*(1-n),a=r*(1-(e-s)*n),l=r*(1-(1-e+s)*n),u=s%6;return{r:255*[r,a,o,o,l,r][u],g:255*[l,r,r,a,o,o][u],b:255*[o,o,l,r,r,a][u],a:i}},vD=function(t){return{h:_5(t.h),s:us(t.s,0,100),l:us(t.l,0,100),a:us(t.a)}},yD=function(t){return{h:cr(t.h),s:cr(t.s),l:cr(t.l),a:cr(t.a,3)}},xD=function(t){return b5((n=(e=t).s,{h:e.h,s:(n*=((r=e.l)<50?r:100-r)/100)>0?2*n/(r+n)*100:0,v:r+n,a:e.a}));var e,n,r},pp=function(t){return{h:(e=S5(t)).h,s:(i=(200-(n=e.s))*(r=e.v)/100)>0&&i<200?n*r/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,n,r,i},dme=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,hme=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,pme=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,mme=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,vM={string:[[function(t){var e=fme.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?cr(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?cr(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=pme.exec(t)||mme.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:gD({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=dme.exec(t)||hme.exec(t);if(!e)return null;var n,r,i=vD({h:(n=e[1],r=e[2],r===void 0&&(r="deg"),Number(n)*(cme[r]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return xD(i)},"hsl"]],object:[[function(t){var e=t.r,n=t.g,r=t.b,i=t.a,s=i===void 0?1:i;return No(e)&&No(n)&&No(r)?gD({r:Number(e),g:Number(n),b:Number(r),a:Number(s)}):null},"rgb"],[function(t){var e=t.h,n=t.s,r=t.l,i=t.a,s=i===void 0?1:i;if(!No(e)||!No(n)||!No(r))return null;var o=vD({h:Number(e),s:Number(n),l:Number(r),a:Number(s)});return xD(o)},"hsl"],[function(t){var e=t.h,n=t.s,r=t.v,i=t.a,s=i===void 0?1:i;if(!No(e)||!No(n)||!No(r))return null;var o=function(a){return{h:_5(a.h),s:us(a.s,0,100),v:us(a.v,0,100),a:us(a.a)}}({h:Number(e),s:Number(n),v:Number(r),a:Number(s)});return b5(o)},"hsv"]]},_D=function(t,e){for(var n=0;n<e.length;n++){var r=e[n][0](t);if(r)return[r,e[n][1]]}return[null,void 0]},w5=function(t){return typeof t=="string"?_D(t.trim(),vM.string):typeof t=="object"&&t!==null?_D(t,vM.object):[null,void 0]},gme=function(t){return w5(t)[1]},kS=function(t,e){var n=pp(t);return{h:n.h,s:us(n.s+100*e,0,100),l:n.l,a:n.a}},NS=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},SD=function(t,e){var n=pp(t);return{h:n.h,s:n.s,l:us(n.l+100*e,0,100),a:n.a}},yM=function(){function t(e){this.parsed=w5(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return cr(NS(this.rgba),2)},t.prototype.isDark=function(){return NS(this.rgba)<.5},t.prototype.isLight=function(){return NS(this.rgba)>=.5},t.prototype.toHex=function(){return e=FS(this.rgba),n=e.r,r=e.g,i=e.b,o=(s=e.a)<1?dv(cr(255*s)):"","#"+dv(n)+dv(r)+dv(i)+o;var e,n,r,i,s,o},t.prototype.toRgb=function(){return FS(this.rgba)},t.prototype.toRgbString=function(){return e=FS(this.rgba),n=e.r,r=e.g,i=e.b,(s=e.a)<1?"rgba("+n+", "+r+", "+i+", "+s+")":"rgb("+n+", "+r+", "+i+")";var e,n,r,i,s},t.prototype.toHsl=function(){return yD(pp(this.rgba))},t.prototype.toHslString=function(){return e=yD(pp(this.rgba)),n=e.h,r=e.s,i=e.l,(s=e.a)<1?"hsla("+n+", "+r+"%, "+i+"%, "+s+")":"hsl("+n+", "+r+"%, "+i+"%)";var e,n,r,i,s},t.prototype.toHsv=function(){return e=S5(this.rgba),{h:cr(e.h),s:cr(e.s),v:cr(e.v),a:cr(e.a,3)};var e},t.prototype.invert=function(){return Kr({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),Kr(kS(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),Kr(kS(this.rgba,-e))},t.prototype.grayscale=function(){return Kr(kS(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),Kr(SD(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),Kr(SD(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?Kr({r:(n=this.rgba).r,g:n.g,b:n.b,a:e}):cr(this.rgba.a,3);var n},t.prototype.hue=function(e){var n=pp(this.rgba);return typeof e=="number"?Kr({h:e,s:n.s,l:n.l,a:n.a}):cr(n.h)},t.prototype.isEqual=function(e){return this.toHex()===Kr(e).toHex()},t}(),Kr=function(t){return t instanceof yM?t:new yM(t)},bD=[],vme=function(t){t.forEach(function(e){bD.indexOf(e)<0&&(e(yM,vM),bD.push(e))})};function yme(t,e){var n={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},r={};for(var i in n)r[n[i]]=i;var s={};t.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var a,l,u=r[this.toHex()];if(u)return u;if(o!=null&&o.closest){var c=this.toRgb(),d=1/0,p="black";if(!s.length)for(var m in n)s[m]=new t(n[m]).toRgb();for(var v in n){var y=(a=c,l=s[v],Math.pow(a.r-l.r,2)+Math.pow(a.g-l.g,2)+Math.pow(a.b-l.b,2));y<d&&(d=y,p=v)}return p}},e.string.push([function(o){var a=o.toLowerCase(),l=a==="transparent"?"#0000":n[a];return l?new t(l).toRgb():null},"name"])}function Rd(){return(Rd=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function pC(t,e){if(t==null)return{};var n,r,i={},s=Object.keys(t);for(r=0;r<s.length;r++)e.indexOf(n=s[r])>=0||(i[n]=t[n]);return i}function xM(t){var e=T.useRef(t),n=T.useRef(function(r){e.current&&e.current(r)});return e.current=t,n.current}var sd=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=1),t>n?n:t<e?e:t},mp=function(t){return"touches"in t},_M=function(t){return t&&t.ownerDocument.defaultView||self},wD=function(t,e,n){var r=t.getBoundingClientRect(),i=mp(e)?function(s,o){for(var a=0;a<s.length;a++)if(s[a].identifier===o)return s[a];return s[0]}(e.touches,n):e;return{left:sd((i.pageX-(r.left+_M(t).pageXOffset))/r.width),top:sd((i.pageY-(r.top+_M(t).pageYOffset))/r.height)}},MD=function(t){!mp(t)&&t.preventDefault()},mC=D.memo(function(t){var e=t.onMove,n=t.onKey,r=pC(t,["onMove","onKey"]),i=T.useRef(null),s=xM(e),o=xM(n),a=T.useRef(null),l=T.useRef(!1),u=T.useMemo(function(){var m=function(x){MD(x),(mp(x)?x.touches.length>0:x.buttons>0)&&i.current?s(wD(i.current,x,a.current)):y(!1)},v=function(){return y(!1)};function y(x){var g=l.current,b=_M(i.current),S=x?b.addEventListener:b.removeEventListener;S(g?"touchmove":"mousemove",m),S(g?"touchend":"mouseup",v)}return[function(x){var g=x.nativeEvent,b=i.current;if(b&&(MD(g),!function(M,C){return C&&!mp(M)}(g,l.current)&&b)){if(mp(g)){l.current=!0;var S=g.changedTouches||[];S.length&&(a.current=S[0].identifier)}b.focus(),s(wD(b,g,a.current)),y(!0)}},function(x){var g=x.which||x.keyCode;g<37||g>40||(x.preventDefault(),o({left:g===39?.05:g===37?-.05:0,top:g===40?.05:g===38?-.05:0}))},y]},[o,s]),c=u[0],d=u[1],p=u[2];return T.useEffect(function(){return p},[p]),D.createElement("div",Rd({},r,{onTouchStart:c,onMouseDown:c,className:"react-colorful__interactive",ref:i,onKeyDown:d,tabIndex:0,role:"slider"}))}),Gm=function(t){return t.filter(Boolean).join(" ")},gC=function(t){var e=t.color,n=t.left,r=t.top,i=r===void 0?.5:r,s=Gm(["react-colorful__pointer",t.className]);return D.createElement("div",{className:s,style:{top:100*i+"%",left:100*n+"%"}},D.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:e}}))},Xr=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=Math.pow(10,e)),Math.round(n*t)/n},M5=function(t){var e=t.s,n=t.v,r=t.a,i=(200-e)*n/100;return{h:Xr(t.h),s:Xr(i>0&&i<200?e*n/100/(i<=100?i:200-i)*100:0),l:Xr(i/2),a:Xr(r,2)}},SM=function(t){var e=M5(t);return"hsl("+e.h+", "+e.s+"%, "+e.l+"%)"},US=function(t){var e=M5(t);return"hsla("+e.h+", "+e.s+"%, "+e.l+"%, "+e.a+")"},A5=function(t){var e=t.h,n=t.s,r=t.v,i=t.a;e=e/360*6,n/=100,r/=100;var s=Math.floor(e),o=r*(1-n),a=r*(1-(e-s)*n),l=r*(1-(1-e+s)*n),u=s%6;return{r:Xr(255*[r,a,o,o,l,r][u]),g:Xr(255*[l,r,r,a,o,o][u]),b:Xr(255*[o,o,l,r,r,a][u]),a:Xr(i,2)}},E5=function(t){var e=t.r,n=t.g,r=t.b,i=t.a,s=Math.max(e,n,r),o=s-Math.min(e,n,r),a=o?s===e?(n-r)/o:s===n?2+(r-e)/o:4+(e-n)/o:0;return{h:Xr(60*(a<0?a+6:a)),s:Xr(s?o/s*100:0),v:Xr(s/255*100),a:i}},C5=D.memo(function(t){var e=t.hue,n=t.onChange,r=Gm(["react-colorful__hue",t.className]);return D.createElement("div",{className:r},D.createElement(mC,{onMove:function(i){n({h:360*i.left})},onKey:function(i){n({h:sd(e+360*i.left,0,360)})},"aria-label":"Hue","aria-valuenow":Xr(e),"aria-valuemax":"360","aria-valuemin":"0"},D.createElement(gC,{className:"react-colorful__hue-pointer",left:e/360,color:SM({h:e,s:100,v:100,a:1})})))}),T5=D.memo(function(t){var e=t.hsva,n=t.onChange,r={backgroundColor:SM({h:e.h,s:100,v:100,a:1})};return D.createElement("div",{className:"react-colorful__saturation",style:r},D.createElement(mC,{onMove:function(i){n({s:100*i.left,v:100-100*i.top})},onKey:function(i){n({s:sd(e.s+100*i.left,0,100),v:sd(e.v-100*i.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+Xr(e.s)+"%, Brightness "+Xr(e.v)+"%"},D.createElement(gC,{className:"react-colorful__saturation-pointer",top:1-e.v/100,left:e.s/100,color:SM(e)})))}),vC=function(t,e){if(t===e)return!0;for(var n in t)if(t[n]!==e[n])return!1;return!0};function P5(t,e,n){var r=xM(n),i=T.useState(function(){return t.toHsva(e)}),s=i[0],o=i[1],a=T.useRef({color:e,hsva:s});T.useEffect(function(){if(!t.equal(e,a.current.color)){var u=t.toHsva(e);a.current={hsva:u,color:e},o(u)}},[e,t]),T.useEffect(function(){var u;vC(s,a.current.hsva)||t.equal(u=t.fromHsva(s),a.current.color)||(a.current={hsva:s,color:u},r(u))},[s,t,r]);var l=T.useCallback(function(u){o(function(c){return Object.assign({},c,u)})},[]);return[s,l]}var xme=typeof window<"u"?T.useLayoutEffect:T.useEffect,_me=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},AD=new Map,R5=function(t){xme(function(){var e=t.current?t.current.ownerDocument:document;if(e!==void 0&&!AD.has(e)){var n=e.createElement("style");n.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,AD.set(e,n);var r=_me();r&&n.setAttribute("nonce",r),e.head.appendChild(n)}},[])},Sme=function(t){var e=t.className,n=t.colorModel,r=t.color,i=r===void 0?n.defaultColor:r,s=t.onChange,o=pC(t,["className","colorModel","color","onChange"]),a=T.useRef(null);R5(a);var l=P5(n,i,s),u=l[0],c=l[1],d=Gm(["react-colorful",e]);return D.createElement("div",Rd({},o,{ref:a,className:d}),D.createElement(T5,{hsva:u,onChange:c}),D.createElement(C5,{hue:u.h,onChange:c,className:"react-colorful__last-control"}))},bme=function(t){var e=t.className,n=t.hsva,r=t.onChange,i={backgroundImage:"linear-gradient(90deg, "+US(Object.assign({},n,{a:0}))+", "+US(Object.assign({},n,{a:1}))+")"},s=Gm(["react-colorful__alpha",e]),o=Xr(100*n.a);return D.createElement("div",{className:s},D.createElement("div",{className:"react-colorful__alpha-gradient",style:i}),D.createElement(mC,{onMove:function(a){r({a:a.left})},onKey:function(a){r({a:sd(n.a+a.left)})},"aria-label":"Alpha","aria-valuetext":o+"%","aria-valuenow":o,"aria-valuemin":"0","aria-valuemax":"100"},D.createElement(gC,{className:"react-colorful__alpha-pointer",left:n.a,color:US(n)})))},wme=function(t){var e=t.className,n=t.colorModel,r=t.color,i=r===void 0?n.defaultColor:r,s=t.onChange,o=pC(t,["className","colorModel","color","onChange"]),a=T.useRef(null);R5(a);var l=P5(n,i,s),u=l[0],c=l[1],d=Gm(["react-colorful",e]);return D.createElement("div",Rd({},o,{ref:a,className:d}),D.createElement(T5,{hsva:u,onChange:c}),D.createElement(C5,{hue:u.h,onChange:c}),D.createElement(bme,{hsva:u,onChange:c,className:"react-colorful__last-control"}))},Mme={defaultColor:{r:0,g:0,b:0,a:1},toHsva:E5,fromHsva:A5,equal:vC},Ame=function(t){return D.createElement(wme,Rd({},t,{colorModel:Mme}))},Eme={defaultColor:{r:0,g:0,b:0},toHsva:function(t){return E5({r:t.r,g:t.g,b:t.b,a:1})},fromHsva:function(t){return{r:(e=A5(t)).r,g:e.g,b:e.b};var e},equal:vC},Cme=function(t){return D.createElement(Sme,Rd({},t,{colorModel:Eme}))};function Bd(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})}function Id(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Tme(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function Pme(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Tme(arguments[e]));return t}var Rme=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function $m(t,e){var n=Bme(t);if(typeof n.path!="string"){var r=t.webkitRelativePath;Object.defineProperty(n,"path",{value:typeof e=="string"?e:typeof r=="string"&&r.length>0?r:t.name,writable:!1,configurable:!1,enumerable:!0})}return n}function Bme(t){var e=t.name,n=e&&e.lastIndexOf(".")!==-1;if(n&&!t.type){var r=e.split(".").pop().toLowerCase(),i=Rme.get(r);i&&Object.defineProperty(t,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return t}var Ime=[".DS_Store","Thumbs.db"];function Dme(t){return Bd(this,void 0,void 0,function(){return Id(this,function(e){return Ty(t)&&Lme(t)?[2,Nme(t.dataTransfer,t.type)]:Ome(t)?[2,Fme(t)]:Array.isArray(t)&&t.every(function(n){return"getFile"in n&&typeof n.getFile=="function"})?[2,kme(t)]:[2,[]]})})}function Lme(t){return Ty(t.dataTransfer)}function Ome(t){return Ty(t)&&Ty(t.target)}function Ty(t){return typeof t=="object"&&t!==null}function Fme(t){return bM(t.target.files).map(function(e){return $m(e)})}function kme(t){return Bd(this,void 0,void 0,function(){var e;return Id(this,function(n){switch(n.label){case 0:return[4,Promise.all(t.map(function(r){return r.getFile()}))];case 1:return e=n.sent(),[2,e.map(function(r){return $m(r)})]}})})}function Nme(t,e){return Bd(this,void 0,void 0,function(){var n,r;return Id(this,function(i){switch(i.label){case 0:return t===null?[2,[]]:t.items?(n=bM(t.items).filter(function(s){return s.kind==="file"}),e!=="drop"?[2,n]:[4,Promise.all(n.map(Ume))]):[3,2];case 1:return r=i.sent(),[2,ED(B5(r))];case 2:return[2,ED(bM(t.files).map(function(s){return $m(s)}))]}})})}function ED(t){return t.filter(function(e){return Ime.indexOf(e.name)===-1})}function bM(t){if(t===null)return[];for(var e=[],n=0;n<t.length;n++){var r=t[n];e.push(r)}return e}function Ume(t){if(typeof t.webkitGetAsEntry!="function")return CD(t);var e=t.webkitGetAsEntry();return e&&e.isDirectory?I5(e):CD(t)}function B5(t){return t.reduce(function(e,n){return Pme(e,Array.isArray(n)?B5(n):[n])},[])}function CD(t){var e=t.getAsFile();if(!e)return Promise.reject(t+" is not a File");var n=$m(e);return Promise.resolve(n)}function zme(t){return Bd(this,void 0,void 0,function(){return Id(this,function(e){return[2,t.isDirectory?I5(t):Hme(t)]})})}function I5(t){var e=t.createReader();return new Promise(function(n,r){var i=[];function s(){var o=this;e.readEntries(function(a){return Bd(o,void 0,void 0,function(){var l,u,c;return Id(this,function(d){switch(d.label){case 0:if(a.length)return[3,5];d.label=1;case 1:return d.trys.push([1,3,,4]),[4,Promise.all(i)];case 2:return l=d.sent(),n(l),[3,4];case 3:return u=d.sent(),r(u),[3,4];case 4:return[3,6];case 5:c=Promise.all(a.map(zme)),i.push(c),s(),d.label=6;case 6:return[2]}})})},function(a){r(a)})}s()})}function Hme(t){return Bd(this,void 0,void 0,function(){return Id(this,function(e){return[2,new Promise(function(n,r){t.file(function(i){var s=$m(i,t.fullPath);n(s)},function(i){r(i)})})]})})}var Gme=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(","),r=t.name||"",i=(t.type||"").toLowerCase(),s=i.replace(/\/.*$/,"");return n.some(function(o){var a=o.trim().toLowerCase();return a.charAt(0)==="."?r.toLowerCase().endsWith(a):a.endsWith("/*")?s===a.replace(/\/.*$/,""):i===a})}return!0};function TD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TD(Object(n),!0).forEach(function(r){D5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function D5(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RD(t,e){return jme(t)||Wme(t,e)||Vme(t,e)||$me()}function $me(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vme(t,e){if(t){if(typeof t=="string")return BD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BD(t,e)}}function BD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Wme(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function jme(t){if(Array.isArray(t))return t}var Jme="file-invalid-type",Kme="file-too-large",Xme="file-too-small",Yme="too-many-files",Qme=function(e){e=Array.isArray(e)&&e.length===1?e[0]:e;var n=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:Jme,message:"File type must be ".concat(n)}},ID=function(e){return{code:Kme,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},DD=function(e){return{code:Xme,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},Zme={code:Yme,message:"Too many files"};function L5(t,e){var n=t.type==="application/x-moz-file"||Gme(t,e);return[n,n?null:Qme(e)]}function O5(t,e,n){if(Lh(t.size))if(Lh(e)&&Lh(n)){if(t.size>n)return[!1,ID(n)];if(t.size<e)return[!1,DD(e)]}else{if(Lh(e)&&t.size<e)return[!1,DD(e)];if(Lh(n)&&t.size>n)return[!1,ID(n)]}return[!0,null]}function Lh(t){return t!=null}function qme(t){var e=t.files,n=t.accept,r=t.minSize,i=t.maxSize,s=t.multiple,o=t.maxFiles;return!s&&e.length>1||s&&o>=1&&e.length>o?!1:e.every(function(a){var l=L5(a,n),u=RD(l,1),c=u[0],d=O5(a,r,i),p=RD(d,1),m=p[0];return c&&m})}function Py(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function hv(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function LD(t){t.preventDefault()}function ege(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function tge(t){return t.indexOf("Edge/")!==-1}function nge(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return ege(t)||tge(t)}function io(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];return e.some(function(a){return!Py(r)&&a&&a.apply(void 0,[r].concat(s)),Py(r)})}}function rge(){return"showOpenFilePicker"in window}function ige(t){return t=typeof t=="string"?t.split(","):t,[{description:"everything",accept:Array.isArray(t)?t.filter(function(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}).reduce(function(e,n){return PD(PD({},e),{},D5({},n,[]))},{}):{}}]}function sge(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function oge(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}var age=["children"],lge=["open"],uge=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],cge=["refKey","onChange","onClick"];function fge(t){return pge(t)||hge(t)||F5(t)||dge()}function dge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hge(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function pge(t){if(Array.isArray(t))return wM(t)}function zS(t,e){return vge(t)||gge(t,e)||F5(t,e)||mge()}function mge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F5(t,e){if(t){if(typeof t=="string")return wM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wM(t,e)}}function wM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gge(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function vge(t){if(Array.isArray(t))return t}function OD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OD(Object(n),!0).forEach(function(r){MM(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MM(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ry(t,e){if(t==null)return{};var n=yge(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yge(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var yC=T.forwardRef(function(t,e){var n=t.children,r=Ry(t,age),i=N5(r),s=i.open,o=Ry(i,lge);return T.useImperativeHandle(e,function(){return{open:s}},[s]),D.createElement(T.Fragment,null,n(bn(bn({},o),{},{open:s})))});yC.displayName="Dropzone";var k5={disabled:!1,getFilesFromEvent:Dme,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0};yC.defaultProps=k5;yC.propTypes={children:Se.func,accept:Se.oneOfType([Se.string,Se.arrayOf(Se.string)]),multiple:Se.bool,preventDropOnDocument:Se.bool,noClick:Se.bool,noKeyboard:Se.bool,noDrag:Se.bool,noDragEventsBubbling:Se.bool,minSize:Se.number,maxSize:Se.number,maxFiles:Se.number,disabled:Se.bool,getFilesFromEvent:Se.func,onFileDialogCancel:Se.func,onFileDialogOpen:Se.func,useFsAccessApi:Se.bool,onDragEnter:Se.func,onDragLeave:Se.func,onDragOver:Se.func,onDrop:Se.func,onDropAccepted:Se.func,onDropRejected:Se.func,validator:Se.func};var AM={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function N5(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=bn(bn({},k5),t),n=e.accept,r=e.disabled,i=e.getFilesFromEvent,s=e.maxSize,o=e.minSize,a=e.multiple,l=e.maxFiles,u=e.onDragEnter,c=e.onDragLeave,d=e.onDragOver,p=e.onDrop,m=e.onDropAccepted,v=e.onDropRejected,y=e.onFileDialogCancel,x=e.onFileDialogOpen,g=e.useFsAccessApi,b=e.preventDropOnDocument,S=e.noClick,M=e.noKeyboard,C=e.noDrag,E=e.noDragEventsBubbling,R=e.validator,I=T.useMemo(function(){return typeof x=="function"?x:FD},[x]),P=T.useMemo(function(){return typeof y=="function"?y:FD},[y]),B=T.useRef(null),O=T.useRef(null),H=T.useReducer(xge,AM),U=zS(H,2),V=U[0],j=U[1],Z=V.isFocused,ne=V.isFileDialogActive,z=V.draggedFiles,J=T.useRef(typeof window<"u"&&window.isSecureContext&&g&&rge()),K=function(){!J.current&&ne&&setTimeout(function(){if(O.current){var Q=O.current.files;Q.length||(j({type:"closeDialog"}),P())}},300)};T.useEffect(function(){return window.addEventListener("focus",K,!1),function(){window.removeEventListener("focus",K,!1)}},[O,ne,P,J]);var ie=T.useRef([]),re=function(Q){B.current&&B.current.contains(Q.target)||(Q.preventDefault(),ie.current=[])};T.useEffect(function(){return b&&(document.addEventListener("dragover",LD,!1),document.addEventListener("drop",re,!1)),function(){b&&(document.removeEventListener("dragover",LD),document.removeEventListener("drop",re))}},[B,b]);var se=T.useCallback(function(F){F.preventDefault(),F.persist(),Re(F),ie.current=[].concat(fge(ie.current),[F.target]),hv(F)&&Promise.resolve(i(F)).then(function(Q){Py(F)&&!E||(j({draggedFiles:Q,isDragActive:!0,type:"setDraggedFiles"}),u&&u(F))})},[i,u,E]),le=T.useCallback(function(F){F.preventDefault(),F.persist(),Re(F);var Q=hv(F);if(Q&&F.dataTransfer)try{F.dataTransfer.dropEffect="copy"}catch{}return Q&&d&&d(F),!1},[d,E]),Me=T.useCallback(function(F){F.preventDefault(),F.persist(),Re(F);var Q=ie.current.filter(function(_e){return B.current&&B.current.contains(_e)}),ve=Q.indexOf(F.target);ve!==-1&&Q.splice(ve,1),ie.current=Q,!(Q.length>0)&&(j({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),hv(F)&&c&&c(F))},[B,c,E]),be=T.useCallback(function(F,Q){var ve=[],_e=[];F.forEach(function(Pe){var tt=L5(Pe,n),Oe=zS(tt,2),he=Oe[0],Ge=Oe[1],Xe=O5(Pe,o,s),nt=zS(Xe,2),Ne=nt[0],je=nt[1],bt=R?R(Pe):null;if(he&&Ne&&!bt)ve.push(Pe);else{var Ft=[Ge,je];bt&&(Ft=Ft.concat(bt)),_e.push({file:Pe,errors:Ft.filter(function(cn){return cn})})}}),(!a&&ve.length>1||a&&l>=1&&ve.length>l)&&(ve.forEach(function(Pe){_e.push({file:Pe,errors:[Zme]})}),ve.splice(0)),j({acceptedFiles:ve,fileRejections:_e,type:"setFiles"}),p&&p(ve,_e,Q),_e.length>0&&v&&v(_e,Q),ve.length>0&&m&&m(ve,Q)},[j,a,n,o,s,l,p,m,v,R]),ee=T.useCallback(function(F){F.preventDefault(),F.persist(),Re(F),ie.current=[],hv(F)&&Promise.resolve(i(F)).then(function(Q){Py(F)&&!E||be(Q,F)}),j({type:"reset"})},[i,be,E]),Ve=T.useCallback(function(){if(J.current){j({type:"openDialog"}),I();var F={multiple:a,types:ige(n)};window.showOpenFilePicker(F).then(function(Q){return i(Q)}).then(function(Q){be(Q,null),j({type:"closeDialog"})}).catch(function(Q){sge(Q)?(P(Q),j({type:"closeDialog"})):oge(Q)&&(J.current=!1,O.current&&(O.current.value=null,O.current.click()))});return}O.current&&(j({type:"openDialog"}),I(),O.current.value=null,O.current.click())},[j,I,P,g,be,n,a]),We=T.useCallback(function(F){!B.current||!B.current.isEqualNode(F.target)||(F.key===" "||F.key==="Enter"||F.keyCode===32||F.keyCode===13)&&(F.preventDefault(),Ve())},[B,Ve]),we=T.useCallback(function(){j({type:"focus"})},[]),Be=T.useCallback(function(){j({type:"blur"})},[]),ye=T.useCallback(function(){S||(nge()?setTimeout(Ve,0):Ve())},[S,Ve]),ue=function(Q){return r?null:Q},xe=function(Q){return M?null:ue(Q)},Le=function(Q){return C?null:ue(Q)},Re=function(Q){E&&Q.stopPropagation()},qe=T.useMemo(function(){return function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Q=F.refKey,ve=Q===void 0?"ref":Q,_e=F.role,Pe=F.onKeyDown,tt=F.onFocus,Oe=F.onBlur,he=F.onClick,Ge=F.onDragEnter,Xe=F.onDragOver,nt=F.onDragLeave,Ne=F.onDrop,je=Ry(F,uge);return bn(bn(MM({onKeyDown:xe(io(Pe,We)),onFocus:xe(io(tt,we)),onBlur:xe(io(Oe,Be)),onClick:ue(io(he,ye)),onDragEnter:Le(io(Ge,se)),onDragOver:Le(io(Xe,le)),onDragLeave:Le(io(nt,Me)),onDrop:Le(io(Ne,ee)),role:typeof _e=="string"&&_e!==""?_e:"button"},ve,B),!r&&!M?{tabIndex:0}:{}),je)}},[B,We,we,Be,ye,se,le,Me,ee,M,C,r]),et=T.useCallback(function(F){F.stopPropagation()},[]),Ke=T.useMemo(function(){return function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Q=F.refKey,ve=Q===void 0?"ref":Q,_e=F.onChange,Pe=F.onClick,tt=Ry(F,cge),Oe=MM({accept:n,multiple:a,type:"file",style:{display:"none"},onChange:ue(io(_e,ee)),onClick:ue(io(Pe,et)),tabIndex:-1},ve,O);return bn(bn({},Oe),tt)}},[O,n,a,ee,r]),at=z.length,St=at>0&&qme({files:z,accept:n,minSize:o,maxSize:s,multiple:a,maxFiles:l}),k=at>0&&!St;return bn(bn({},V),{},{isDragAccept:St,isDragReject:k,isFocused:Z&&!r,getRootProps:qe,getInputProps:Ke,rootRef:B,inputRef:O,open:ue(Ve)})}function xge(t,e){switch(e.type){case"focus":return bn(bn({},t),{},{isFocused:!0});case"blur":return bn(bn({},t),{},{isFocused:!1});case"openDialog":return bn(bn({},AM),{},{isFileDialogActive:!0});case"closeDialog":return bn(bn({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":var n=e.isDragActive,r=e.draggedFiles;return bn(bn({},t),{},{draggedFiles:r,isDragActive:n});case"setFiles":return bn(bn({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections});case"reset":return bn({},AM);default:return t}}function FD(){}function _ge(t){let e;const n=new Set,r=(u,c)=>{const d=typeof u=="function"?u(e):u;if(d!==e){const p=e;e=c?d:Object.assign({},e,d),n.forEach(m=>m(e,p))}},i=()=>e,s=(u,c=i,d=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=c(e);function m(){const v=c(e);if(!d(p,v)){const y=p;u(p=v,y)}}return n.add(m),()=>n.delete(m)},l={setState:r,getState:i,subscribe:(u,c,d)=>c||d?s(u,c,d):(n.add(u),()=>n.delete(u)),destroy:()=>n.clear()};return e=t(r,i,l),l}const Sge=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),kD=Sge?T.useEffect:T.useLayoutEffect;function bge(t){const e=typeof t=="function"?_ge(t):t,n=(r=e.getState,i=Object.is)=>{const[,s]=T.useReducer(x=>x+1,0),o=e.getState(),a=T.useRef(o),l=T.useRef(r),u=T.useRef(i),c=T.useRef(!1),d=T.useRef();d.current===void 0&&(d.current=r(o));let p,m=!1;(a.current!==o||l.current!==r||u.current!==i||c.current)&&(p=r(o),m=!i(d.current,p)),kD(()=>{m&&(d.current=p),a.current=o,l.current=r,u.current=i,c.current=!1});const v=T.useRef(o);kD(()=>{const x=()=>{try{const b=e.getState(),S=l.current(b);u.current(d.current,S)||(a.current=b,d.current=S,s())}catch{c.current=!0,s()}},g=e.subscribe(x);return e.getState()!==v.current&&x(),g},[]);const y=m?p:d.current;return T.useDebugValue(y),y};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}const wge=t=>(e,n,r)=>{const i=r.subscribe;return r.subscribe=(o,a,l)=>{let u=o;if(a){const c=(l==null?void 0:l.equalityFn)||Object.is;let d=o(r.getState());u=p=>{const m=o(p);if(!c(d,m)){const v=d;a(d=m,v)}},l!=null&&l.fireImmediately&&a(d,d)}return i(u)},t(e,n,r)};/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Mge=function(e){return e!=null&&typeof e=="object"&&Array.isArray(e)===!1};/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Age=Mge;function ND(t){return Age(t)===!0&&Object.prototype.toString.call(t)==="[object Object]"}var U5=function(e){var n,r;return!(ND(e)===!1||(n=e.constructor,typeof n!="function")||(r=n.prototype,ND(r)===!1)||r.hasOwnProperty("isPrototypeOf")===!1)};/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Ege=U5,xC=function(e){return Ege(e)||typeof e=="function"||Array.isArray(e)};/*!
 * for-in <https://github.com/jonschlinkert/for-in>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Cge=function(e,n,r){for(var i in e)if(n.call(r,e[i],i,e)===!1)break},Tge=xC,Pge=Cge;function z5(t,e){for(var n=arguments.length,r=0;++r<n;){var i=arguments[r];EM(i)&&Pge(i,Rge,t)}return t}function Rge(t,e){if(Bge(e)){var n=this[e];EM(t)&&EM(n)?z5(n,t):this[e]=t}}function EM(t){return Tge(t)&&!Array.isArray(t)}function Bge(t){return t!=="__proto__"&&t!=="constructor"&&t!=="prototype"}var Ige=z5;/*!
 * get-value <https://github.com/jonschlinkert/get-value>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var Dge=function(t,e,n,r,i){if(!Lge(t)||!e)return t;if(e=pv(e),n&&(e+="."+pv(n)),r&&(e+="."+pv(r)),i&&(e+="."+pv(i)),e in t)return t[e];for(var s=e.split("."),o=s.length,a=-1;t&&++a<o;){for(var l=s[a];l[l.length-1]==="\\";)l=l.slice(0,-1)+"."+s[++a];t=t[l]}return t};function Lge(t){return t!==null&&(typeof t=="object"||typeof t=="function")}function pv(t){return t?Array.isArray(t)?t.join("."):t:""}/*!
 * assign-symbols <https://github.com/jonschlinkert/assign-symbols>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var Oge=function(t,e){if(t===null||typeof t>"u")throw new TypeError("expected first argument to be an object.");if(typeof e>"u"||typeof Symbol>"u"||typeof Object.getOwnPropertySymbols!="function")return t;for(var n=Object.prototype.propertyIsEnumerable,r=Object(t),i=arguments.length,s=0;++s<i;)for(var o=Object(arguments[s]),a=Object.getOwnPropertySymbols(o),l=0;l<a.length;l++){var u=a[l];n.call(o,u)&&(r[u]=o[u])}return r},Fge=xC,kge=Oge,Nge=Object.assign||function(t){if(t===null||typeof t>"u")throw new TypeError("Cannot convert undefined or null to object");UD(t)||(t={});for(var e=1;e<arguments.length;e++){var n=arguments[e];zge(n)&&(n=Hge(n)),UD(n)&&(Uge(t,n),kge(t,n))}return t};function Uge(t,e){for(var n in e)Gge(e,n)&&(t[n]=e[n])}function zge(t){return t&&typeof t=="string"}function Hge(t){var e={};for(var n in t)e[n]=t[n];return e}function UD(t){return t&&typeof t=="object"||Fge(t)}function Gge(t,e){return Object.prototype.hasOwnProperty.call(t,e)}/*!
 * split-string <https://github.com/jonschlinkert/split-string>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var $ge=Nge,Vge=function(t,e,n){if(typeof t!="string")throw new TypeError("expected a string");typeof e=="function"&&(n=e,e=null),typeof e=="string"&&(e={sep:e});var r=$ge({sep:"."},e),i=r.quotes||['"',"'","`"],s;r.brackets===!0?s={"<":">","(":")","[":"]","{":"}"}:r.brackets&&(s=r.brackets);var o=[],a=[],l=[""],u=r.sep,c=t.length,d=-1,p;function m(){if(s&&a.length)return s[a[a.length-1]]}for(;++d<c;){var v=t[d],y=t[d+1],x={val:v,idx:d,arr:l,str:t};if(o.push(x),v==="\\"){x.val=jge(r,t,d)===!0?v+y:y,x.escaped=!0,typeof n=="function"&&n(x),l[l.length-1]+=x.val,d++;continue}if(s&&s[v]){a.push(v);var g=m(),b=d+1;if(t.indexOf(g,b+1)!==-1)for(;a.length&&b<c;){var S=t[++b];if(S==="\\"){S++;continue}if(i.indexOf(S)!==-1){b=CM(t,S,b+1);continue}if(g=m(),a.length&&t.indexOf(g,b+1)===-1)break;if(s[S]){a.push(S);continue}g===S&&a.pop()}if(p=b,p===-1){l[l.length-1]+=v;continue}v=t.slice(d,p+1),x.val=v,x.idx=d=p}if(i.indexOf(v)!==-1){if(p=CM(t,v,d+1),p===-1){l[l.length-1]+=v;continue}Wge(v,r)===!0?v=t.slice(d,p+1):v=t.slice(d+1,p),x.val=v,x.idx=d=p}if(typeof n=="function"&&(n(x,o),v=x.val,d=x.idx),x.val===u&&x.split!==!1){l.push("");continue}l[l.length-1]+=x.val}return l};function CM(t,e,n,r){var i=t.indexOf(e,n);return t.charAt(i-1)==="\\"?CM(t,e,i+1):i}function Wge(t,e){return e.keepDoubleQuotes===!0&&t==='"'||e.keepSingleQuotes===!0&&t==="'"?!0:e.keepQuotes}function jge(t,e,n){return typeof t.keepEscaping=="function"?t.keepEscaping(e,n):t.keepEscaping===!0||e[n+1]==="\\"}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var Jge=function(e){return typeof e<"u"&&e!==null&&(typeof e=="object"||typeof e=="function")},zD=Jge,Kge=function(e){zD(e)||(e={});for(var n=arguments.length,r=1;r<n;r++){var i=arguments[r];zD(i)&&Xge(e,i)}return e};function Xge(t,e){for(var n in e)Yge(e,n)&&(t[n]=e[n])}function Yge(t,e){return Object.prototype.hasOwnProperty.call(t,e)}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var Qge=function(e){return typeof e<"u"&&e!==null&&(typeof e=="object"||typeof e=="function")};/*!
 * set-value <https://github.com/jonschlinkert/set-value>
 *
 * Copyright (c) 2014-2015, 2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Zge=Vge,qge=Kge,HD=U5,GD=Qge,e0e=function(t,e,n){if(!GD(t)||(Array.isArray(e)&&(e=[].concat.apply([],e).join(".")),typeof e!="string"))return t;for(var r=Zge(e,{sep:".",brackets:!0}).filter(t0e),i=r.length,s=-1,o=t;++s<i;){var a=r[s];if(s!==i-1){GD(o[a])||(o[a]={}),o=o[a];continue}HD(o[a])&&HD(n)?o[a]=qge({},o[a],n):o[a]=n}return t};function t0e(t){return t!=="__proto__"&&t!=="constructor"&&t!=="prototype"}var HS=xC,$D=Ige,n0e=Dge,VD=e0e,r0e=function(e,n,r){if(!HS(e))throw new TypeError("expected an object");if(typeof n!="string"||r==null)return $D.apply(null,arguments);if(typeof r=="string")return VD(e,n,r),e;var i=n0e(e,n);return HS(r)&&HS(i)&&(r=$D({},i,r)),VD(e,n,r),e};const _C=(...t)=>t.filter(Boolean).join(".");function i0e(t){const e=t.split(".");return[e.pop(),e.join(".")||void 0]}function s0e(t,e){return Object.entries(Lhe(t,e)).reduce((n,[,{value:r,disabled:i,key:s}])=>(n[s]=i?void 0:r,n),{})}function o0e(t,e){const n=T.useRef();return(e?tm:Um)(t,n.current)||(n.current=t),n.current}function H5(t,e){return T.useMemo(t,o0e(e,!0))}function a0e(t){const e=T.useRef(null),n=T.useRef(null),r=T.useRef(!0);return T.useLayoutEffect(()=>{t||(e.current.style.height="0px",e.current.style.overflow="hidden")},[]),T.useEffect(()=>{if(r.current){r.current=!1;return}let i;const s=e.current,o=()=>{t&&(s.style.removeProperty("height"),s.style.removeProperty("overflow"),n.current.scrollIntoView({behavior:"smooth",block:"nearest"}))};s.addEventListener("transitionend",o,{once:!0});const{height:a}=n.current.getBoundingClientRect();return s.style.height=a+"px",t||(s.style.overflow="hidden",i=window.setTimeout(()=>s.style.height="0px",50)),()=>{s.removeEventListener("transitionend",o),clearTimeout(i)}},[t]),{wrapperRef:e,contentRef:n}}const l0e=t=>{const[e,n]=T.useState(t.getVisiblePaths());return T.useEffect(()=>{n(t.getVisiblePaths());const r=t.useStore.subscribe(t.getVisiblePaths,n,{equalityFn:Um});return()=>r()},[t]),e};function u0e(t,e,n){return t.useStore(i=>{const s=ft(ft({},n),i.data);return s0e(s,e)},Um)}function G5(t=3){const e=T.useRef(null),n=T.useRef(null),[r,i]=T.useState(!1),s=T.useCallback(()=>i(!0),[]),o=T.useCallback(()=>i(!1),[]);return T.useLayoutEffect(()=>{if(r){const{bottom:a,top:l,left:u}=e.current.getBoundingClientRect(),{height:c}=n.current.getBoundingClientRect(),d=a+c>window.innerHeight-40?"up":"down";n.current.style.position="fixed",n.current.style.zIndex="10000",n.current.style.left=u+"px",d==="down"?n.current.style.top=a+t+"px":n.current.style.bottom=window.innerHeight-l+t+"px"}},[t,r]),{popinRef:e,wrapperRef:n,shown:r,show:s,hide:o}}vme([yme]);const c0e={rgb:"toRgb",hsl:"toHsl",hsv:"toHsv",hex:"toHex"};ci.extend({color:()=>t=>Kr(t).isValid()});const f0e=t=>ci().color().test(t);function $5(t,{format:e,hasAlpha:n,isString:r}){const i=c0e[e]+(r&&e!=="hex"?"String":""),s=t[i]();return typeof s=="object"&&!n?Ohe(s,["a"]):s}const V5=(t,e)=>{const n=Kr(t);if(!n.isValid())throw Error("Invalid color");return $5(n,e)},d0e=(t,e)=>$5(Kr(t),ft(ft({},e),{},{isString:!0,format:"hex"})),h0e=({value:t})=>{const e=gme(t),n=e==="name"?"hex":e,r=typeof t=="object"?"a"in t:e==="hex"&&t.length===8||/^(rgba)|(hsla)|(hsva)/.test(t),i={format:n,hasAlpha:r,isString:typeof t=="string"};return{value:V5(t,i),settings:i}};var p0e=Object.freeze({__proto__:null,schema:f0e,sanitize:V5,format:d0e,normalize:h0e});const m0e=ot("div",{position:"relative",boxSizing:"border-box",borderRadius:"$sm",overflow:"hidden",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",backgroundColor:"#fff",backgroundImage:`url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')`,$inputStyle:"",$hover:"",zIndex:1,variants:{active:{true:{$inputStyle:"$accent1"}}},"&::before":{content:'""',position:"absolute",top:0,bottom:0,right:0,left:0,backgroundColor:"currentColor",zIndex:1}}),g0e=ot("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto",columnGap:"$colGap",alignItems:"center"}),v0e=ot("div",{width:"$colorPickerWidth",height:"$colorPickerHeight",".react-colorful":{width:"100%",height:"100%",boxShadow:"$level2",cursor:"crosshair"},".react-colorful__saturation":{borderRadius:"$sm $sm 0 0"},".react-colorful__alpha, .react-colorful__hue":{height:10},".react-colorful__last-control":{borderRadius:"0 0 $sm $sm"},".react-colorful__pointer":{height:12,width:12}});function WD(t,e){return e!=="rgb"?Kr(t).toRgb():t}function y0e({value:t,displayValue:e,settings:n,onUpdate:r}){const{emitOnEditStart:i,emitOnEditEnd:s}=Ur(),{format:o,hasAlpha:a}=n,{popinRef:l,wrapperRef:u,shown:c,show:d,hide:p}=G5(),m=T.useRef(0),[v,y]=T.useState(()=>WD(t,o)),x=a?Ame:Cme,g=()=>{y(WD(t,o)),d(),i()},b=()=>{p(),s(),window.clearTimeout(m.current)},S=()=>{m.current=window.setTimeout(b,500)};return T.useEffect(()=>()=>window.clearTimeout(m.current),[]),D.createElement(D.Fragment,null,D.createElement(m0e,{ref:l,active:c,onClick:()=>g(),style:{color:e}}),c&&D.createElement(fC,null,D.createElement(f5,{onPointerUp:b}),D.createElement(v0e,{ref:u,onMouseEnter:()=>window.clearTimeout(m.current),onMouseLeave:M=>M.buttons===0&&S()},D.createElement(x,{color:v,onChange:r}))))}function x0e(){const{value:t,displayValue:e,label:n,onChange:r,onUpdate:i,settings:s}=Ur();return D.createElement(gs,{input:!0},D.createElement(Js,null,n),D.createElement(g0e,null,D.createElement(y0e,{value:t,displayValue:e,onChange:r,onUpdate:i,settings:s}),D.createElement(cC,{value:e,onChange:r,onUpdate:i})))}var _0e=ft({component:x0e},p0e);function S0e(){const{label:t,displayValue:e,onUpdate:n,settings:r}=Ur();return D.createElement(gs,{input:!0},D.createElement(Js,null,t),D.createElement(hC,{value:e,settings:r,onUpdate:n}))}var b0e=ft({component:S0e},x5(["x","y","z"]));const w0e=ot("div",{$flexCenter:"",position:"relative",backgroundColor:"$elevation3",borderRadius:"$sm",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",touchAction:"none",$draggable:"",$hover:"","&:active":{cursor:"none"},"&::after":{content:'""',backgroundColor:"$accent2",height:4,width:4,borderRadius:2}}),M0e=ot("div",{$flexCenter:"",width:"$joystickWidth",height:"$joystickHeight",borderRadius:"$sm",boxShadow:"$level2",position:"fixed",zIndex:1e4,overflow:"hidden",$draggable:"",transform:"translate(-50%, -50%)",variants:{isOutOfBounds:{true:{backgroundColor:"$elevation1"},false:{backgroundColor:"$elevation3"}}},"> div":{position:"absolute",$flexCenter:"",borderStyle:"solid",borderWidth:1,borderColor:"$highlight1",backgroundColor:"$elevation3",width:"80%",height:"80%","&::after,&::before":{content:'""',position:"absolute",zindex:10,backgroundColor:"$highlight1"},"&::before":{width:"100%",height:1},"&::after":{height:"100%",width:1}},"> span":{position:"relative",zindex:100,width:10,height:10,backgroundColor:"$accent2",borderRadius:"50%"}});function A0e({value:t,settings:e,onUpdate:n}){const r=T.useRef(),i=T.useRef(0),s=T.useRef(0),o=T.useRef(1),[a,l]=T.useState(!1),[u,c]=T.useState(!1),[d,p]=h5(),m=T.useRef(null),v=T.useRef(null);T.useLayoutEffect(()=>{if(a){const{top:H,left:U,width:V,height:j}=m.current.getBoundingClientRect();v.current.style.left=U+V/2+"px",v.current.style.top=H+j/2+"px"}},[a]);const{keys:[y,x],joystick:g}=e,b=g==="invertY"?1:-1,{[y]:{step:S},[x]:{step:M}}=e,C=Zo("sizes","joystickWidth"),E=Zo("sizes","joystickHeight"),R=parseFloat(C)*.8/2,I=parseFloat(E)*.8/2,P=T.useCallback(()=>{r.current||(c(!0),i.current&&p({x:i.current*R}),s.current&&p({y:s.current*-I}),r.current=window.setInterval(()=>{n(H=>{const U=S*i.current*o.current,V=b*M*s.current*o.current;return Array.isArray(H)?{[y]:H[0]+U,[x]:H[1]+V}:{[y]:H[y]+U,[x]:H[x]+V}})},16))},[R,I,n,p,S,M,y,x,b]),B=T.useCallback(()=>{window.clearTimeout(r.current),r.current=void 0,c(!1)},[]);T.useEffect(()=>{function H(U){o.current=Qz(U)}return window.addEventListener("keydown",H),window.addEventListener("keyup",H),()=>{window.clearTimeout(r.current),window.removeEventListener("keydown",H),window.removeEventListener("keyup",H)}},[]);const O=Hm(({first:H,active:U,delta:[V,j],movement:[Z,ne]})=>{H&&l(!0);const z=hl(Z,-R,R),J=hl(ne,-I,I);i.current=Math.abs(Z)>Math.abs(z)?Math.sign(Z-z):0,s.current=Math.abs(ne)>Math.abs(J)?Math.sign(J-ne):0;let K=t[y],ie=t[x];U?(i.current||(K+=V*S*o.current,p({x:z})),s.current||(ie-=b*j*M*o.current,p({y:J})),i.current||s.current?P():B(),n({[y]:K,[x]:ie})):(l(!1),i.current=0,s.current=0,p({x:0,y:0}),B())});return D.createElement(w0e,kn({ref:m},O()),a&&D.createElement(fC,null,D.createElement(M0e,{ref:v,isOutOfBounds:u},D.createElement("div",null),D.createElement("span",{ref:d}))))}const E0e=ot("div",{display:"grid",columnGap:"$colGap",variants:{withJoystick:{true:{gridTemplateColumns:"$sizes$rowHeight auto"},false:{gridTemplateColumns:"auto"}}}});function C0e(){const{label:t,displayValue:e,onUpdate:n,settings:r}=Ur();return D.createElement(gs,{input:!0},D.createElement(Js,null,t),D.createElement(E0e,{withJoystick:!!r.joystick},r.joystick&&D.createElement(A0e,{value:e,settings:r,onUpdate:n}),D.createElement(hC,{value:e,settings:r,onUpdate:n})))}const T0e=["joystick"],W5=x5(["x","y"]),P0e=t=>{let{joystick:e=!0}=t,n=tn(t,T0e);const{value:r,settings:i}=W5.normalize(n);return{value:r,settings:ft(ft({},i),{},{joystick:e})}};var R0e=ft(ft({component:C0e},W5),{},{normalize:P0e});const B0e=t=>{if(t!==void 0){if(t instanceof File)try{return URL.createObjectURL(t)}catch{return}if(typeof t=="string"&&t.indexOf("blob:")===0)return t;throw Error("Invalid image format [undefined | blob | File].")}},I0e=(t,e)=>typeof e=="object"&&"image"in e,D0e=({image:t})=>({value:t});var L0e=Object.freeze({__proto__:null,sanitize:B0e,schema:I0e,normalize:D0e});const O0e=ot("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto 20px",columnGap:"$colGap",alignItems:"center"}),F0e=ot("div",{$flexCenter:"",overflow:"hidden",height:"$rowHeight",background:"$elevation3",textAlign:"center",color:"inherit",borderRadius:"$sm",outline:"none",userSelect:"none",cursor:"pointer",$inputStyle:"",$hover:"",$focusWithin:"",$active:"$accent1 $elevation1",variants:{isDragAccept:{true:{$inputStyle:"$accent1",backgroundColor:"$elevation1"}}}}),k0e=ot("div",{boxSizing:"border-box",borderRadius:"$sm",height:"$rowHeight",width:"$rowHeight",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center",variants:{hasImage:{true:{cursor:"pointer",$hover:"",$active:""}}}}),N0e=ot("div",{$flexCenter:"",width:"$imagePreviewWidth",height:"$imagePreviewHeight",borderRadius:"$sm",boxShadow:"$level2",pointerEvents:"none",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center"}),U0e=ot("div",{fontSize:"0.8em",height:"100%",padding:"$rowGap $md"}),z0e=ot("div",{$flexCenter:"",top:"0",right:"0",marginRight:"$sm",height:"100%",cursor:"pointer",variants:{disabled:{true:{color:"$elevation3",cursor:"default"}}},"&::after,&::before":{content:'""',position:"absolute",height:2,width:10,borderRadius:1,backgroundColor:"currentColor"},"&::after":{transform:"rotate(45deg)"},"&::before":{transform:"rotate(-45deg)"}});function H0e(){const{label:t,value:e,onUpdate:n,disabled:r}=Ur(),{popinRef:i,wrapperRef:s,shown:o,show:a,hide:l}=G5(),u=T.useCallback(v=>{v.length&&n(v[0])},[n]),c=T.useCallback(v=>{v.stopPropagation(),n(void 0)},[n]),{getRootProps:d,getInputProps:p,isDragAccept:m}=N5({maxFiles:1,accept:"image/*",onDrop:u,disabled:r});return D.createElement(gs,{input:!0},D.createElement(Js,null,t),D.createElement(O0e,null,D.createElement(k0e,{ref:i,hasImage:!!e,onPointerDown:()=>!!e&&a(),onPointerUp:l,style:{backgroundImage:e?`url(${e})`:"none"}}),o&&!!e&&D.createElement(fC,null,D.createElement(f5,{onPointerUp:l,style:{cursor:"pointer"}}),D.createElement(N0e,{ref:s,style:{backgroundImage:`url(${e})`}})),D.createElement(F0e,d({isDragAccept:m}),D.createElement("input",p()),D.createElement(U0e,null,m?"drop image":"click or drop")),D.createElement(z0e,{onClick:c,disabled:!e})))}var G0e=ft({component:H0e},L0e);const jD=ci().number(),$0e=(t,e)=>ci().array().length(2).every.number().test(t)&&ci().schema({min:jD,max:jD}).test(e),By=t=>({min:t[0],max:t[1]}),j5=(t,{bounds:[e,n]},r)=>{const i=Array.isArray(t)?By(t):t,s={min:r[0],max:r[1]},{min:o,max:a}=ft(ft({},s),i);return[hl(Number(o),e,Math.max(e,a)),hl(Number(a),Math.min(n,o),n)]},V0e=({value:t,min:e,max:n})=>{const r={min:e,max:n},i=y5(By(t),{min:r,max:r}),s=[e,n],o=ft(ft({},i),{},{bounds:s});return{value:j5(By(t),o,t),settings:o}};var W0e=Object.freeze({__proto__:null,schema:$0e,format:By,sanitize:j5,normalize:V0e});const j0e=["value","bounds","onDrag"],J0e=["bounds"],K0e=ot("div",{display:"grid",columnGap:"$colGap",gridTemplateColumns:"auto calc($sizes$numberInputMinWidth * 2 + $space$rowGap)"});function X0e(t){let{value:e,bounds:[n,r],onDrag:i}=t,s=tn(t,j0e);const o=T.useRef(null),a=T.useRef(null),l=T.useRef(null),u=T.useRef(0),c=Zo("sizes","scrubberWidth"),d=Hm(({event:v,first:y,xy:[x],movement:[g],memo:b={}})=>{if(y){const{width:M,left:C}=o.current.getBoundingClientRect();u.current=M-parseFloat(c);const E=(v==null?void 0:v.target)===a.current||(v==null?void 0:v.target)===l.current;b.pos=Ey((x-C)/M,n,r);const R=Math.abs(b.pos-e.min)-Math.abs(b.pos-e.max);b.key=R<0||R===0&&b.pos<=e.min?"min":"max",E&&(b.pos=e[b.key])}const S=b.pos+Ey(g/u.current,0,r-n);return i({[b.key]:wpe(S,s[b.key])}),b}),p=`calc(${Ay(e.min,n,r)} * (100% - ${c} - 8px) + 4px)`,m=`calc(${1-Ay(e.max,n,r)} * (100% - ${c} - 8px) + 4px)`;return D.createElement(m5,kn({ref:o},d()),D.createElement(p5,null,D.createElement(g5,{style:{left:p,right:m}})),D.createElement(mM,{position:"left",ref:a,style:{left:p}}),D.createElement(mM,{position:"right",ref:l,style:{right:m}}))}function Y0e(){const{label:t,displayValue:e,onUpdate:n,settings:r}=Ur(),i=tn(r,J0e);return D.createElement(D.Fragment,null,D.createElement(gs,{input:!0},D.createElement(Js,null,t),D.createElement(K0e,null,D.createElement(X0e,kn({value:e},r,{onDrag:n})),D.createElement(hC,{value:e,settings:i,onUpdate:n,innerLabelTrim:0}))))}var Q0e=ft({component:Y0e},W0e);const Z0e=()=>{const t=new Map;return{on:(e,n)=>{let r=t.get(e);r===void 0&&(r=new Set,t.set(e,r)),r.add(n)},off:(e,n)=>{const r=t.get(e);r!==void 0&&(r.delete(n),r.size===0&&t.delete(e))},emit:(e,...n)=>{const r=t.get(e);if(r!==void 0)for(const i of r)i(...n)}}},q0e=["type","value"],eve=["onChange","transient","onEditStart","onEditEnd"],tve=function(){const e=bge(wge(()=>({data:{}}))),n=Z0e();this.storeId=Dhe(),this.useStore=e;const r={},i=new Set;this.getVisiblePaths=()=>{const o=this.getData(),a=Object.keys(o),l=[];Object.entries(r).forEach(([c,d])=>{d.render&&a.some(p=>p.indexOf(c)===0)&&!d.render(this.get)&&l.push(c+".")});const u=[];return i.forEach(c=>{c in o&&o[c].__refCount>0&&l.every(d=>c.indexOf(d)===-1)&&(!o[c].render||o[c].render(this.get))&&u.push(c)}),u},this.setOrderedPaths=o=>{o.forEach(a=>i.add(a))},this.orderPaths=o=>(this.setOrderedPaths(o),o),this.disposePaths=o=>{e.setState(a=>{const l=a.data;return o.forEach(u=>{if(u in l){const c=l[u];c.__refCount--,c.__refCount===0&&c.type in Us&&delete l[u]}}),{data:l}})},this.dispose=()=>{e.setState(()=>({data:{}}))},this.getFolderSettings=o=>r[o]||{},this.getData=()=>e.getState().data,this.addData=(o,a)=>{e.setState(l=>{const u=l.data;return Object.entries(o).forEach(([c,d])=>{let p=u[c];if(p){const{type:m,value:v}=d,y=tn(d,q0e);m!==p.type?Wo(wn.INPUT_TYPE_OVERRIDE,m):((p.__refCount===0||a)&&Object.assign(p,y),p.__refCount++)}else u[c]=ft(ft({},d),{},{__refCount:1})}),{data:u}})},this.setValueAtPath=(o,a,l)=>{e.setState(u=>{const c=u.data;return mD(c[o],a,o,this,l),{data:c}})},this.setSettingsAtPath=(o,a)=>{e.setState(l=>{const u=l.data;return u[o].settings=ft(ft({},u[o].settings),a),{data:u}})},this.disableInputAtPath=(o,a)=>{e.setState(l=>{const u=l.data;return u[o].disabled=a,{data:u}})},this.set=(o,a)=>{e.setState(l=>{const u=l.data;return Object.entries(o).forEach(([c,d])=>{try{mD(u[c],d,void 0,void 0,a)}catch{}}),{data:u}})},this.getInput=o=>{try{return this.getData()[o]}catch{Wo(wn.PATH_DOESNT_EXIST,o)}},this.get=o=>{var a;return(a=this.getInput(o))===null||a===void 0?void 0:a.value},this.emitOnEditStart=o=>{n.emit(`onEditStart:${o}`,this.get(o),o,ft(ft({},this.getInput(o)),{},{get:this.get}))},this.emitOnEditEnd=o=>{n.emit(`onEditEnd:${o}`,this.get(o),o,ft(ft({},this.getInput(o)),{},{get:this.get}))},this.subscribeToEditStart=(o,a)=>{const l=`onEditStart:${o}`;return n.on(l,a),()=>n.off(l,a)},this.subscribeToEditEnd=(o,a)=>{const l=`onEditEnd:${o}`;return n.on(l,a),()=>n.off(l,a)};const s=(o,a,l)=>{const u={};return Object.entries(o).forEach(([c,d])=>{if(c==="")return Wo(wn.EMPTY_KEY);let p=_C(a,c);if(d.type===Us.FOLDER){const m=s(d.schema,p,l);Object.assign(u,m),p in r||(r[p]=d.settings)}else if(c in l)Wo(wn.DUPLICATE_KEYS,c,p,l[c].path);else{const m=Hhe(d,c,p,u);if(m){const{type:v,options:y,input:x}=m,{onChange:g,transient:b,onEditStart:S,onEditEnd:M}=y,C=tn(y,eve);u[p]=ft(ft(ft({type:v},C),x),{},{fromPanel:!0}),l[c]={path:p,onChange:g,transient:b,onEditStart:S,onEditEnd:M}}else Wo(wn.UNKNOWN_INPUT,p,d)}}),u};this.getDataFromSchema=o=>{const a={};return[s(o,"",a),a]}},J5=new tve,nve={collapsed:!1};function rve(t,e){return{type:Us.FOLDER,schema:t,settings:ft(ft({},nve),e)}}const JD=t=>"__levaInput"in t,ive=(t,e)=>{const n={},r=e?e.toLowerCase():null;return t.forEach(i=>{const[s,o]=i0e(i);(!r||s.toLowerCase().indexOf(r)>-1)&&r0e(n,o,{[s]:{__levaInput:!0,path:i}})}),n},sve=["type","label","path","valueKey","value","settings","setValue","disabled"];function ove(t){let{type:e,label:n,path:r,valueKey:i,value:s,settings:o,setValue:a,disabled:l}=t,u=tn(t,sve);const{displayValue:c,onChange:d,onUpdate:p}=d5({type:e,value:s,settings:o,setValue:a}),m=Du[e].component;return m?D.createElement(n5.Provider,{value:ft({key:i,path:r,id:""+r,label:n,displayValue:c,value:s,onChange:d,onUpdate:p,settings:o,setValue:a,disabled:l},u)},D.createElement(ape,{disabled:l},D.createElement(m,null))):(Wo(wn.NO_COMPONENT_FOR_TYPE,e,r),null)}const ave=ot("button",{display:"block",$reset:"",fontWeight:"$button",height:"$rowHeight",borderStyle:"none",borderRadius:"$sm",backgroundColor:"$elevation1",color:"$highlight1","&:not(:disabled)":{color:"$highlight3",backgroundColor:"$accent2",cursor:"pointer",$hover:"$accent3",$active:"$accent3 $accent1",$focus:""}});function lve({onClick:t,settings:e,label:n}){const r=zm();return D.createElement(gs,null,D.createElement(ave,{disabled:e.disabled,onClick:()=>t(r.get)},n))}const uve=ot("div",{$flex:"",justifyContent:"flex-end",gap:"$colGap"}),cve=ot("button",{$reset:"",cursor:"pointer",borderRadius:"$xs","&:hover":{backgroundColor:"$elevation3"}}),fve=({label:t,opts:e})=>{let n=typeof t=="string"&&t.trim()===""?null:t,r=e;return typeof e.opts=="object"&&(r.label!==void 0&&(n=e.label),r=e.opts),{label:n,opts:r}};function dve(t){const{label:e,opts:n}=fve(t),r=zm();return D.createElement(gs,{input:!!e},e&&D.createElement(Js,null,e),D.createElement(uve,null,Object.entries(n).map(([i,s])=>D.createElement(cve,{key:i,onClick:()=>s(r.get)},i))))}const hve=ot("canvas",{height:"$monitorHeight",width:"100%",display:"block",borderRadius:"$sm"}),K5=100;function pve(t,e){t.push(e),t.length>K5&&t.shift()}const mve=T.forwardRef(function({initialValue:t},e){const n=Zo("colors","highlight3"),r=Zo("colors","elevation2"),i=Zo("colors","highlight1"),[s,o]=T.useMemo(()=>[Kr(i).alpha(.4).toRgbString(),Kr(i).alpha(.1).toRgbString()],[i]),a=T.useRef([t]),l=T.useRef(t),u=T.useRef(t),c=T.useRef(),d=T.useCallback((v,y)=>{if(!v)return;const{width:x,height:g}=v,b=new Path2D,S=x/K5,M=g*.05;for(let R=0;R<a.current.length;R++){const I=Ay(a.current[R],l.current,u.current),P=S*R,B=g-I*(g-M*2)-M;b.lineTo(P,B)}y.clearRect(0,0,x,g);const C=new Path2D(b);C.lineTo(S*(a.current.length+1),g),C.lineTo(0,g),C.lineTo(0,0);const E=y.createLinearGradient(0,0,0,g);E.addColorStop(0,s),E.addColorStop(1,o),y.fillStyle=E,y.fill(C),y.strokeStyle=r,y.lineJoin="round",y.lineWidth=14,y.stroke(b),y.strokeStyle=n,y.lineWidth=2,y.stroke(b)},[n,r,s,o]),[p,m]=gpe(d);return T.useImperativeHandle(e,()=>({frame:v=>{(l.current===void 0||v<l.current)&&(l.current=v),(u.current===void 0||v>u.current)&&(u.current=v),pve(a.current,v),c.current=requestAnimationFrame(()=>d(p.current,m.current))}}),[p,m,d]),T.useEffect(()=>()=>cancelAnimationFrame(c.current),[]),D.createElement(hve,{ref:p})}),KD=t=>Number.isFinite(t)?t.toPrecision(2):t.toString(),gve=T.forwardRef(function({initialValue:t},e){const[n,r]=T.useState(KD(t));return T.useImperativeHandle(e,()=>({frame:i=>r(KD(i))}),[]),D.createElement("div",null,n)});function XD(t){return typeof t=="function"?t():t.current}function vve({label:t,objectOrFn:e,settings:n}){const r=T.useRef(),i=T.useRef(XD(e));return T.useEffect(()=>{const s=window.setInterval(()=>{var o;document.hidden||(o=r.current)===null||o===void 0||o.frame(XD(e))},n.interval);return()=>window.clearInterval(s)},[e,n.interval]),D.createElement(gs,{input:!0},D.createElement(Js,{align:"top"},t),n.graph?D.createElement(mve,{ref:r,initialValue:i.current}):D.createElement(gve,{ref:r,initialValue:i.current}))}const yve=["type","label","key"],xve={[Us.BUTTON]:lve,[Us.BUTTON_GROUP]:dve,[Us.MONITOR]:vve},_ve=D.memo(({path:t})=>{const[e,{set:n,setSettings:r,disable:i,storeId:s,emitOnEditStart:o,emitOnEditEnd:a}]=ype(t);if(!e)return null;const{type:l,label:u,key:c}=e,d=tn(e,yve);if(l in Us){const p=xve[l];return D.createElement(p,kn({label:u,path:t},d))}return l in Du?D.createElement(ove,kn({key:s+t,type:l,label:u,storeId:s,path:t,valueKey:c,setValue:n,setSettings:r,disable:i,emitOnEditStart:o,emitOnEditEnd:a},d)):(Ahe(wn.UNSUPPORTED_INPUT,l,t),null)});function Sve({toggle:t,toggled:e,name:n}){return D.createElement(ipe,{onClick:()=>t()},D.createElement(dC,{toggled:e}),D.createElement("div",null,n))}const bve=({name:t,path:e,tree:n})=>{const r=zm(),i=_C(e,t),{collapsed:s,color:o}=r.getFolderSettings(i),[a,l]=T.useState(!s),u=T.useRef(null),c=Zo("colors","folderWidgetColor"),d=Zo("colors","folderTextColor");return T.useLayoutEffect(()=>{u.current.style.setProperty("--leva-colors-folderWidgetColor",o||c),u.current.style.setProperty("--leva-colors-folderTextColor",o||d)},[o,c,d]),D.createElement(Cy,{ref:u},D.createElement(Sve,{name:t,toggled:a,toggle:()=>l(p=>!p)}),D.createElement(X5,{parent:i,tree:n,toggled:a}))},X5=D.memo(({isRoot:t=!1,fill:e=!1,flat:n=!1,parent:r,tree:i,toggled:s})=>{const{wrapperRef:o,contentRef:a}=a0e(s),l=zm(),u=([d,p])=>{var m;return(JD(p)?(m=l.getInput(p.path))===null||m===void 0?void 0:m.order:l.getFolderSettings(_C(r,d)).order)||0},c=Object.entries(i).sort((d,p)=>u(d)-u(p));return D.createElement(hM,{ref:o,isRoot:t,fill:e,flat:n},D.createElement(l5,{ref:a,isRoot:t,toggled:s},c.map(([d,p])=>JD(p)?D.createElement(_ve,{key:p.path,valueKey:p.valueKey,path:p.path}):D.createElement(bve,{key:d,name:d,path:r,tree:p}))))}),wve=ot("div",{position:"relative",fontFamily:"$mono",fontSize:"$root",color:"$rootText",backgroundColor:"$elevation1",variants:{fill:{false:{position:"fixed",top:"10px",right:"10px",zIndex:1e3,width:"$rootWidth"},true:{position:"relative",width:"100%"}},flat:{false:{borderRadius:"$lg",boxShadow:"$level1"}},oneLineLabels:{true:{[`${c5}`]:{gridTemplateColumns:"auto",gridAutoColumns:"minmax(max-content, 1fr)",gridAutoRows:"minmax($sizes$rowHeight), auto)",rowGap:0,columnGap:0,marginTop:"$rowGap"}}},hideTitleBar:{true:{$$titleBarHeight:"0px"},false:{$$titleBarHeight:"$sizes$titleBarHeight"}}},"&,*,*:after,*:before":{boxSizing:"border-box"},"*::selection":{backgroundColor:"$accent2"}}),Y5=40,Iy=ot("i",{$flexCenter:"",width:Y5,userSelect:"none",cursor:"pointer","> svg":{fill:"$highlight1",transition:"transform 350ms ease, fill 250ms ease"},"&:hover > svg":{fill:"$highlight3"},variants:{active:{true:{"> svg":{fill:"$highlight2"}}}}}),Mve=ot("div",{display:"flex",alignItems:"stretch",justifyContent:"space-between",height:"$titleBarHeight",variants:{mode:{drag:{cursor:"grab"}}}}),Ave=ot("div",{$flex:"",position:"relative",width:"100%",overflow:"hidden",transition:"height 250ms ease",color:"$highlight3",paddingLeft:"$md",[`> ${Iy}`]:{height:30},variants:{toggled:{true:{height:30},false:{height:0}}}}),Eve=ot("input",{$reset:"",flex:1,position:"relative",height:30,width:"100%",backgroundColor:"transparent",fontSize:"10px",borderRadius:"$root","&:focus":{},"&::placeholder":{color:"$highlight2"}}),Cve=ot("div",{touchAction:"none",$flexCenter:"",flex:1,"> svg":{fill:"$highlight1"},color:"$highlight1",variants:{drag:{true:{$draggable:"","> svg":{transition:"fill 250ms ease"},"&:hover":{color:"$highlight3"},"&:hover > svg":{fill:"$highlight3"}}},filterEnabled:{false:{paddingRight:Y5}}}}),Tve=D.forwardRef(({setFilter:t,toggle:e},n)=>{const[r,i]=T.useState(""),s=T.useMemo(()=>Yz(t,250),[t]),o=()=>{t(""),i("")},a=l=>{const u=l.currentTarget.value;e(!0),i(u)};return T.useEffect(()=>{s(r)},[r,s]),D.createElement(D.Fragment,null,D.createElement(Eve,{ref:n,value:r,placeholder:"[Open filter with CMD+SHIFT+L]",onPointerDown:l=>l.stopPropagation(),onChange:a}),D.createElement(Iy,{onClick:()=>o(),style:{visibility:r?"visible":"hidden"}},D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"14",viewBox:"0 0 20 20",fill:"currentColor"},D.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"}))))});function Pve({setFilter:t,onDrag:e,onDragStart:n,onDragEnd:r,toggle:i,toggled:s,title:o,drag:a,filterEnabled:l,from:u}){const[c,d]=T.useState(!1),p=T.useRef(null);T.useEffect(()=>{var v,y;c?(v=p.current)===null||v===void 0||v.focus():(y=p.current)===null||y===void 0||y.blur()},[c]);const m=Hm(({offset:[v,y],first:x,last:g})=>{e({x:v,y}),x&&n({x:v,y}),g&&r({x:v,y})},{filterTaps:!0,from:({offset:[v,y]})=>[(u==null?void 0:u.x)||v,(u==null?void 0:u.y)||y]});return T.useEffect(()=>{const v=y=>{y.key==="L"&&y.shiftKey&&y.metaKey&&d(x=>!x)};return window.addEventListener("keydown",v),()=>window.removeEventListener("keydown",v)},[]),D.createElement(D.Fragment,null,D.createElement(Mve,{mode:a?"drag":void 0},D.createElement(Iy,{active:!s,onClick:()=>i()},D.createElement(dC,{toggled:s,width:12,height:8})),D.createElement(Cve,kn({},a?m():{},{drag:a,filterEnabled:l}),o===void 0&&a?D.createElement("svg",{width:"20",height:"10",viewBox:"0 0 28 14",xmlns:"http://www.w3.org/2000/svg"},D.createElement("circle",{cx:"2",cy:"2",r:"2"}),D.createElement("circle",{cx:"14",cy:"2",r:"2"}),D.createElement("circle",{cx:"26",cy:"2",r:"2"}),D.createElement("circle",{cx:"2",cy:"12",r:"2"}),D.createElement("circle",{cx:"14",cy:"12",r:"2"}),D.createElement("circle",{cx:"26",cy:"12",r:"2"})):o),l&&D.createElement(Iy,{active:c,onClick:()=>d(v=>!v)},D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20",viewBox:"0 0 20 20"},D.createElement("path",{d:"M9 9a2 2 0 114 0 2 2 0 01-4 0z"}),D.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a4 4 0 00-3.446 6.032l-2.261 2.26a1 1 0 101.414 1.415l2.261-2.261A4 4 0 1011 5z",clipRule:"evenodd"})))),D.createElement(Ave,{toggled:c},D.createElement(Tve,{ref:p,setFilter:t,toggle:i})))}const Rve=["store","hidden","theme","collapsed"];function Bve(t){let{store:e,hidden:n=!1,theme:r,collapsed:i=!1}=t,s=tn(t,Rve);const o=H5(()=>Zhe(r),[r]),[a,l]=T.useState(!i),u=typeof i=="object"?!i.collapsed:a,c=T.useMemo(()=>typeof i=="object"?d=>{typeof d=="function"?i.onChange(!d(!i.collapsed)):i.onChange(!d)}:l,[i]);return!e||n?null:D.createElement(uC.Provider,{value:o},D.createElement(Ive,kn({store:e},s,{toggled:u,setToggle:c,rootClass:o.className})))}const Ive=D.memo(({store:t,rootClass:e,fill:n=!1,flat:r=!1,neverHide:i=!1,oneLineLabels:s=!1,titleBar:o={title:void 0,drag:!0,filter:!0,position:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0},hideCopyButton:a=!1,toggled:l,setToggle:u})=>{var c,d;const p=l0e(t),[m,v]=T.useState(""),y=T.useMemo(()=>ive(p,m),[p,m]),[x,g]=h5(),b=i||p.length>0,S=typeof o=="object"&&o.title||void 0,M=typeof o=="object"&&(c=o.drag)!==null&&c!==void 0?c:!0,C=typeof o=="object"&&(d=o.filter)!==null&&d!==void 0?d:!0,E=typeof o=="object"&&o.position||void 0,R=typeof o=="object"&&o.onDrag||void 0,I=typeof o=="object"&&o.onDragStart||void 0,P=typeof o=="object"&&o.onDragEnd||void 0;return D.useEffect(()=>{g({x:E==null?void 0:E.x,y:E==null?void 0:E.y})},[E,g]),Qhe(),D.createElement(i5.Provider,{value:{hideCopyButton:a}},D.createElement(wve,{ref:x,className:e,fill:n,flat:r,oneLineLabels:s,hideTitleBar:!o,style:{display:b?"block":"none"}},o&&D.createElement(Pve,{onDrag:B=>{g(B),R==null||R(B)},onDragStart:B=>I==null?void 0:I(B),onDragEnd:B=>P==null?void 0:P(B),setFilter:v,toggle:B=>u(O=>B??!O),toggled:l,title:S,drag:M,filterEnabled:C,from:E}),b&&D.createElement(r5.Provider,{value:t},D.createElement(X5,{isRoot:!0,fill:n,flat:r,tree:y,toggled:l}))))}),Dve=["isRoot"];let Dy=!1,hu=null;function Q5(t){let{isRoot:e=!1}=t,n=tn(t,Dve);return T.useEffect(()=>(Dy=!0,!e&&hu&&(hu.remove(),hu=null),()=>{e||(Dy=!1)}),[e]),D.createElement(Bve,kn({store:J5},n))}function Lve(t){T.useEffect(()=>{t&&!Dy&&(hu||(hu=document.getElementById("leva__root")||Object.assign(document.createElement("div"),{id:"leva__root"}),document.body&&(document.body.appendChild(hu),$he(D.createElement(Q5,{isRoot:!0}),hu))),Dy=!0)},[t])}function Ove(t,e,n,r,i){let s,o,a,l,u;return typeof t=="string"?(o=t,s=e,Array.isArray(n)?u=n:n&&("store"in n?(l=n,u=r):(a=n,Array.isArray(r)?u=r:(l=r,u=i)))):(s=t,Array.isArray(e)?u=e:(l=e,u=n)),{schema:s,folderName:o,folderSettings:a,hookSettings:l,deps:u||[]}}function Fve(t,e,n,r,i){const{folderName:s,schema:o,folderSettings:a,hookSettings:l,deps:u}=Ove(t,e,n,r,i),c=typeof o=="function",d=T.useRef(!1),p=T.useRef(!0),m=H5(()=>{d.current=!0;const O=typeof o=="function"?o():o;return s?{[s]:rve(O,a)}:O},u),v=!(l!=null&&l.store);Lve(v);const[y]=T.useState(()=>(l==null?void 0:l.store)||J5),[x,g]=T.useMemo(()=>y.getDataFromSchema(m),[y,m]),[b,S,M,C,E]=T.useMemo(()=>{const O=[],H=[],U={},V={},j={};return Object.values(g).forEach(({path:Z,onChange:ne,onEditStart:z,onEditEnd:J,transient:K})=>{O.push(Z),ne?(U[Z]=ne,K||H.push(Z)):H.push(Z),z&&(V[Z]=z),J&&(j[Z]=J)}),[O,H,U,V,j]},[g]),R=T.useMemo(()=>y.orderPaths(b),[b,y]),I=u0e(y,S,x),P=T.useCallback(O=>{const H=Object.entries(O).reduce((U,[V,j])=>Object.assign(U,{[g[V].path]:j}),{});y.set(H,!1)},[y,g]),B=T.useCallback(O=>y.get(g[O].path),[y,g]);return T.useEffect(()=>{const O=!p.current&&d.current;return y.addData(x,O),p.current=!1,d.current=!1,()=>y.disposePaths(R)},[y,R,x]),T.useEffect(()=>{const O=[];return Object.entries(M).forEach(([H,U])=>{U(y.get(H),H,ft({initial:!0,get:y.get},y.getInput(H)));const V=y.useStore.subscribe(j=>{const Z=j.data[H];return[Z.disabled?void 0:Z.value,Z]},([j,Z])=>U(j,H,ft({initial:!1,get:y.get},Z)),{equalityFn:Um});O.push(V)}),()=>O.forEach(H=>H())},[y,M]),T.useEffect(()=>{const O=[];return Object.entries(C).forEach(([H,U])=>O.push(y.subscribeToEditStart(H,U))),Object.entries(E).forEach(([H,U])=>O.push(y.subscribeToEditEnd(H,U))),()=>O.forEach(H=>H())},[C,E,y]),c?[I,P,B]:I}pa(Gs.SELECT,Ope);pa(Gs.IMAGE,G0e);pa(Gs.NUMBER,Ape);pa(Gs.COLOR,_0e);pa(Gs.STRING,Vpe);pa(Gs.BOOLEAN,Qpe);pa(Gs.INTERVAL,Q0e);pa(Gs.VECTOR3D,b0e);pa(Gs.VECTOR2D,R0e);/**
 * postprocessing v6.30.2 build Fri Mar 31 2023
 * https://github.com/pmndrs/postprocessing
 * Copyright 2015-2023 Raoul van Rüschen
 * @license Zlib
 */var kve="varying vec2 vUv;void main(){vUv=position.xy*0.5+0.5;gl_Position=vec4(position.xy,1.0,1.0);}";function YD(t,e){let n="texel";if(t!==null){const r=Number.parseInt(cd);if(!(e&&r>=133&&r!==135&&t.format===_r&&t.type===er&&t.encoding===lt))switch(t.encoding){case lt:n="sRGBToLinear(texel)";break;case pi:n="texel";break;default:throw new Error(`Unsupported encoding: ${t.encoding}`)}}return n}function mv(t,e,n){return t*(e-n)-e}function gv(t,e,n){return Math.min(Math.max((t+e)/(e-n),0),1)}var Pt={SKIP:9,SET:30,ADD:0,ALPHA:1,AVERAGE:2,COLOR:3,COLOR_BURN:4,COLOR_DODGE:5,DARKEN:6,DIFFERENCE:7,DIVIDE:8,DST:9,EXCLUSION:10,HARD_LIGHT:11,HARD_MIX:12,HUE:13,INVERT:14,INVERT_RGB:15,LIGHTEN:16,LINEAR_BURN:17,LINEAR_DODGE:18,LINEAR_LIGHT:19,LUMINOSITY:20,MULTIPLY:21,NEGATION:22,NORMAL:23,OVERLAY:24,PIN_LIGHT:25,REFLECT:26,SATURATION:27,SCREEN:28,SOFT_LIGHT:29,SRC:30,SUBTRACT:31,VIVID_LIGHT:32},rl={NONE:0,DEPTH:1,CONVOLUTION:2},jt={FRAGMENT_HEAD:"FRAGMENT_HEAD",FRAGMENT_MAIN_UV:"FRAGMENT_MAIN_UV",FRAGMENT_MAIN_IMAGE:"FRAGMENT_MAIN_IMAGE",VERTEX_HEAD:"VERTEX_HEAD",VERTEX_MAIN_SUPPORT:"VERTEX_MAIN_SUPPORT"},SC={VERY_SMALL:0,SMALL:1,MEDIUM:2,LARGE:3,VERY_LARGE:4,HUGE:5},Nve=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec4 sum=texture2D(inputBuffer,vUv0);sum+=texture2D(inputBuffer,vUv1);sum+=texture2D(inputBuffer,vUv2);sum+=texture2D(inputBuffer,vUv3);gl_FragColor=sum*0.25;
#include <encodings_fragment>
}`,Uve="uniform vec4 texelSize;uniform float kernel;uniform float scale;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vec2 dUv=(texelSize.xy*vec2(kernel)+texelSize.zw)*scale;vUv0=vec2(uv.x-dUv.x,uv.y+dUv.y);vUv1=vec2(uv.x+dUv.x,uv.y+dUv.y);vUv2=vec2(uv.x+dUv.x,uv.y-dUv.y);vUv3=vec2(uv.x-dUv.x,uv.y-dUv.y);gl_Position=vec4(position.xy,1.0,1.0);}",zve=[new Float32Array([0,0]),new Float32Array([0,1,1]),new Float32Array([0,1,1,2]),new Float32Array([0,1,2,2,3]),new Float32Array([0,1,2,3,4,4,5]),new Float32Array([0,1,2,3,4,5,7,8,9,10])],Hve=class extends tr{constructor(t=new Nt){super({name:"KawaseBlurMaterial",uniforms:{inputBuffer:new rt(null),texelSize:new rt(new Nt),scale:new rt(1),kernel:new rt(0)},blending:Fr,depthWrite:!1,depthTest:!1,fragmentShader:Nve,vertexShader:Uve}),this.toneMapped=!1,this.setTexelSize(t.x,t.y),this.kernelSize=SC.MEDIUM}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setInputBuffer(t){this.inputBuffer=t}get kernelSequence(){return zve[this.kernelSize]}get scale(){return this.uniforms.scale.value}set scale(t){this.uniforms.scale.value=t}getScale(){return this.uniforms.scale.value}setScale(t){this.uniforms.scale.value=t}getKernel(){return null}get kernel(){return this.uniforms.kernel.value}set kernel(t){this.uniforms.kernel.value=t}setKernel(t){this.kernel=t}setTexelSize(t,e){this.uniforms.texelSize.value.set(t,e,t*.5,e*.5)}setSize(t,e){const n=1/t,r=1/e;this.uniforms.texelSize.value.set(n,r,n*.5,r*.5)}},Gve=`#include <common>
#include <dithering_pars_fragment>
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
uniform float opacity;varying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);gl_FragColor=opacity*texel;
#include <encodings_fragment>
#include <dithering_fragment>
}`,Z5=class extends tr{constructor(){super({name:"CopyMaterial",uniforms:{inputBuffer:new rt(null),opacity:new rt(1)},blending:Fr,depthWrite:!1,depthTest:!1,fragmentShader:Gve,vertexShader:kve}),this.toneMapped=!1}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setInputBuffer(t){this.uniforms.inputBuffer.value=t}getOpacity(t){return this.uniforms.opacity.value}setOpacity(t){this.uniforms.opacity.value=t}},$ve=`#include <packing>
#include <clipping_planes_pars_fragment>
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
uniform float cameraNear;uniform float cameraFar;varying float vViewZ;varying vec4 vProjTexCoord;void main(){
#include <clipping_planes_fragment>
vec2 projTexCoord=(vProjTexCoord.xy/vProjTexCoord.w)*0.5+0.5;projTexCoord=clamp(projTexCoord,0.002,0.998);
#if DEPTH_PACKING == 3201
float fragCoordZ=unpackRGBAToDepth(texture2D(depthBuffer,projTexCoord));
#else
float fragCoordZ=texture2D(depthBuffer,projTexCoord).r;
#endif
#ifdef PERSPECTIVE_CAMERA
float viewZ=perspectiveDepthToViewZ(fragCoordZ,cameraNear,cameraFar);
#else
float viewZ=orthographicDepthToViewZ(fragCoordZ,cameraNear,cameraFar);
#endif
float depthTest=(-vViewZ>-viewZ)?1.0:0.0;gl_FragColor.rg=vec2(0.0,depthTest);}`,Vve=`#include <common>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
varying float vViewZ;varying vec4 vProjTexCoord;void main(){
#include <skinbase_vertex>
#include <begin_vertex>
#include <morphtarget_vertex>
#include <skinning_vertex>
#include <project_vertex>
vViewZ=mvPosition.z;vProjTexCoord=gl_Position;
#include <clipping_planes_vertex>
}`,Wve=class extends tr{constructor(t=null,e){super({name:"DepthComparisonMaterial",defines:{DEPTH_PACKING:"0"},uniforms:{depthBuffer:new rt(null),cameraNear:new rt(.3),cameraFar:new rt(1e3)},blending:Fr,depthWrite:!1,depthTest:!1,fragmentShader:$ve,vertexShader:Vve}),this.toneMapped=!1,this.depthBuffer=t,this.depthPacking=Vp,this.copyCameraSettings(e)}set depthBuffer(t){this.uniforms.depthBuffer.value=t}set depthPacking(t){this.defines.DEPTH_PACKING=t.toFixed(0),this.needsUpdate=!0}setDepthBuffer(t,e=Vp){this.depthBuffer=t,this.depthPacking=e}adoptCameraSettings(t){this.copyCameraSettings(t)}copyCameraSettings(t){t&&(this.uniforms.cameraNear.value=t.near,this.uniforms.cameraFar.value=t.far,t instanceof Ln?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}},jve=`#include <packing>
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
#ifdef DOWNSAMPLE_NORMALS
uniform lowp sampler2D normalBuffer;
#endif
varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}int findBestDepth(const in float samples[4]){float c=(samples[0]+samples[1]+samples[2]+samples[3])*0.25;float distances[]=float[4](abs(c-samples[0]),abs(c-samples[1]),abs(c-samples[2]),abs(c-samples[3]));float maxDistance=max(max(distances[0],distances[1]),max(distances[2],distances[3]));int remaining[3];int rejected[3];int i,j,k;for(i=0,j=0,k=0;i<4;++i){if(distances[i]<maxDistance){remaining[j++]=i;}else{rejected[k++]=i;}}for(;j<3;++j){remaining[j]=rejected[--k];}vec3 s=vec3(samples[remaining[0]],samples[remaining[1]],samples[remaining[2]]);c=(s.x+s.y+s.z)/3.0;distances[0]=abs(c-s.x);distances[1]=abs(c-s.y);distances[2]=abs(c-s.z);float minDistance=min(distances[0],min(distances[1],distances[2]));for(i=0;i<3;++i){if(distances[i]==minDistance){break;}}return remaining[i];}void main(){float d[]=float[4](readDepth(vUv0),readDepth(vUv1),readDepth(vUv2),readDepth(vUv3));int index=findBestDepth(d);
#ifdef DOWNSAMPLE_NORMALS
vec3 n[]=vec3[4](texture2D(normalBuffer,vUv0).rgb,texture2D(normalBuffer,vUv1).rgb,texture2D(normalBuffer,vUv2).rgb,texture2D(normalBuffer,vUv3).rgb);
#else
vec3 n[]=vec3[4](vec3(0.0),vec3(0.0),vec3(0.0),vec3(0.0));
#endif
gl_FragColor=vec4(n[index],d[index]);}`,Jve="uniform vec2 texelSize;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vUv0=uv;vUv1=vec2(uv.x,uv.y+texelSize.y);vUv2=vec2(uv.x+texelSize.x,uv.y);vUv3=uv+texelSize;gl_Position=vec4(position.xy,1.0,1.0);}",Kve=class extends tr{constructor(){super({name:"DepthDownsamplingMaterial",defines:{DEPTH_PACKING:"0"},uniforms:{depthBuffer:new rt(null),normalBuffer:new rt(null),texelSize:new rt(new fe)},blending:Fr,depthWrite:!1,depthTest:!1,fragmentShader:jve,vertexShader:Jve}),this.toneMapped=!1}set depthBuffer(t){this.uniforms.depthBuffer.value=t}set depthPacking(t){this.defines.DEPTH_PACKING=t.toFixed(0),this.needsUpdate=!0}setDepthBuffer(t,e=_o){this.depthBuffer=t,this.depthPacking=e}set normalBuffer(t){this.uniforms.normalBuffer.value=t,t!==null?this.defines.DOWNSAMPLE_NORMALS="1":delete this.defines.DOWNSAMPLE_NORMALS,this.needsUpdate=!0}setNormalBuffer(t){this.normalBuffer=t}setTexelSize(t,e){this.uniforms.texelSize.value.set(t,e)}setSize(t,e){this.uniforms.texelSize.value.set(1/t,1/e)}},Xve=`#include <common>
#include <packing>
#include <dithering_pars_fragment>
#define packFloatToRGBA(v) packDepthToRGBA(v)
#define unpackRGBAToFloat(v) unpackRGBAToDepth(v)
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#if DEPTH_PACKING == 3201
uniform lowp sampler2D depthBuffer;
#elif defined(GL_FRAGMENT_PRECISION_HIGH)
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;
#if THREE_REVISION < 143
#define luminance(v) linearToRelativeLuminance(v)
#endif
#if THREE_REVISION >= 137
vec4 sRGBToLinear(const in vec4 value){return vec4(mix(pow(value.rgb*0.9478672986+vec3(0.0521327014),vec3(2.4)),value.rgb*0.0773993808,vec3(lessThanEqual(value.rgb,vec3(0.04045)))),value.a);}
#endif
float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}float getViewZ(const in float depth){
#ifdef PERSPECTIVE_CAMERA
return perspectiveDepthToViewZ(depth,cameraNear,cameraFar);
#else
return orthographicDepthToViewZ(depth,cameraNear,cameraFar);
#endif
}vec3 RGBToHCV(const in vec3 RGB){vec4 P=mix(vec4(RGB.bg,-1.0,2.0/3.0),vec4(RGB.gb,0.0,-1.0/3.0),step(RGB.b,RGB.g));vec4 Q=mix(vec4(P.xyw,RGB.r),vec4(RGB.r,P.yzx),step(P.x,RGB.r));float C=Q.x-min(Q.w,Q.y);float H=abs((Q.w-Q.y)/(6.0*C+EPSILON)+Q.z);return vec3(H,C,Q.x);}vec3 RGBToHSL(const in vec3 RGB){vec3 HCV=RGBToHCV(RGB);float L=HCV.z-HCV.y*0.5;float S=HCV.y/(1.0-abs(L*2.0-1.0)+EPSILON);return vec3(HCV.x,S,L);}vec3 HueToRGB(const in float H){float R=abs(H*6.0-3.0)-1.0;float G=2.0-abs(H*6.0-2.0);float B=2.0-abs(H*6.0-4.0);return clamp(vec3(R,G,B),0.0,1.0);}vec3 HSLToRGB(const in vec3 HSL){vec3 RGB=HueToRGB(HSL.x);float C=(1.0-abs(2.0*HSL.z-1.0))*HSL.y;return(RGB-0.5)*C+HSL.z;}FRAGMENT_HEAD void main(){FRAGMENT_MAIN_UV vec4 color0=texture2D(inputBuffer,UV);vec4 color1=vec4(0.0);FRAGMENT_MAIN_IMAGE gl_FragColor=color0;
#ifdef ENCODE_OUTPUT
#include <encodings_fragment>
#endif
#include <dithering_fragment>
}`,Yve="uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;VERTEX_HEAD void main(){vUv=position.xy*0.5+0.5;VERTEX_MAIN_SUPPORT gl_Position=vec4(position.xy,1.0,1.0);}",Qve=class extends tr{constructor(t,e,n,r,i=!1){super({name:"EffectMaterial",defines:{THREE_REVISION:cd.replace(/\D+/g,""),DEPTH_PACKING:"0",ENCODE_OUTPUT:"1"},uniforms:{inputBuffer:new rt(null),depthBuffer:new rt(null),resolution:new rt(new fe),texelSize:new rt(new fe),cameraNear:new rt(.3),cameraFar:new rt(1e3),aspect:new rt(1),time:new rt(0)},blending:Fr,depthWrite:!1,depthTest:!1,dithering:i}),this.toneMapped=!1,t&&this.setShaderParts(t),e&&this.setDefines(e),n&&this.setUniforms(n),this.copyCameraSettings(r)}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setInputBuffer(t){this.uniforms.inputBuffer.value=t}get depthBuffer(){return this.uniforms.depthBuffer.value}set depthBuffer(t){this.uniforms.depthBuffer.value=t}get depthPacking(){return Number(this.defines.DEPTH_PACKING)}set depthPacking(t){this.defines.DEPTH_PACKING=t.toFixed(0),this.needsUpdate=!0}setDepthBuffer(t,e=_o){this.depthBuffer=t,this.depthPacking=e}setShaderData(t){this.setShaderParts(t.shaderParts),this.setDefines(t.defines),this.setUniforms(t.uniforms),this.setExtensions(t.extensions)}setShaderParts(t){var e,n,r,i,s;return this.fragmentShader=Xve.replace(jt.FRAGMENT_HEAD,(e=t.get(jt.FRAGMENT_HEAD))!=null?e:"").replace(jt.FRAGMENT_MAIN_UV,(n=t.get(jt.FRAGMENT_MAIN_UV))!=null?n:"").replace(jt.FRAGMENT_MAIN_IMAGE,(r=t.get(jt.FRAGMENT_MAIN_IMAGE))!=null?r:""),this.vertexShader=Yve.replace(jt.VERTEX_HEAD,(i=t.get(jt.VERTEX_HEAD))!=null?i:"").replace(jt.VERTEX_MAIN_SUPPORT,(s=t.get(jt.VERTEX_MAIN_SUPPORT))!=null?s:""),this.needsUpdate=!0,this}setDefines(t){for(const e of t.entries())this.defines[e[0]]=e[1];return this.needsUpdate=!0,this}setUniforms(t){for(const e of t.entries())this.uniforms[e[0]]=e[1];return this}setExtensions(t){this.extensions={};for(const e of t)this.extensions[e]=!0;return this}get encodeOutput(){return this.defines.ENCODE_OUTPUT!==void 0}set encodeOutput(t){this.encodeOutput!==t&&(t?this.defines.ENCODE_OUTPUT="1":delete this.defines.ENCODE_OUTPUT,this.needsUpdate=!0)}isOutputEncodingEnabled(t){return this.encodeOutput}setOutputEncodingEnabled(t){this.encodeOutput=t}get time(){return this.uniforms.time.value}set time(t){this.uniforms.time.value=t}setDeltaTime(t){this.uniforms.time.value+=t}adoptCameraSettings(t){this.copyCameraSettings(t)}copyCameraSettings(t){t&&(this.uniforms.cameraNear.value=t.near,this.uniforms.cameraFar.value=t.far,t instanceof Ln?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}setSize(t,e){const n=this.uniforms;n.resolution.value.set(t,e),n.texelSize.value.set(1/t,1/e),n.aspect.value=t/e}static get Section(){return jt}},Zve="uniform lowp sampler2D inputBuffer;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 c0=texture2D(inputBuffer,vUv0).rg;vec2 c1=texture2D(inputBuffer,vUv1).rg;vec2 c2=texture2D(inputBuffer,vUv2).rg;vec2 c3=texture2D(inputBuffer,vUv3).rg;float d0=(c0.x-c1.x)*0.5;float d1=(c2.x-c3.x)*0.5;float d=length(vec2(d0,d1));float a0=min(c0.y,c1.y);float a1=min(c2.y,c3.y);float visibilityFactor=min(a0,a1);gl_FragColor.rg=(1.0-visibilityFactor>0.001)?vec2(d,0.0):vec2(0.0,d);}",qve="uniform vec2 texelSize;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vUv0=vec2(uv.x+texelSize.x,uv.y);vUv1=vec2(uv.x-texelSize.x,uv.y);vUv2=vec2(uv.x,uv.y+texelSize.y);vUv3=vec2(uv.x,uv.y-texelSize.y);gl_Position=vec4(position.xy,1.0,1.0);}",eye=class extends tr{constructor(t=new fe){super({name:"OutlineMaterial",uniforms:{inputBuffer:new rt(null),texelSize:new rt(new fe)},blending:Fr,depthWrite:!1,depthTest:!1,fragmentShader:Zve,vertexShader:qve}),this.toneMapped=!1,this.uniforms.texelSize.value.set(t.x,t.y),this.uniforms.maskTexture=this.uniforms.inputBuffer}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setInputBuffer(t){this.uniforms.inputBuffer.value=t}setTexelSize(t,e){this.uniforms.texelSize.value.set(t,e)}setSize(t,e){this.uniforms.texelSize.value.set(1/t,1/e)}},tye=`#include <common>
#include <packing>
#ifdef NORMAL_DEPTH
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D normalDepthBuffer;
#else
uniform mediump sampler2D normalDepthBuffer;
#endif
float readDepth(const in vec2 uv){return texture2D(normalDepthBuffer,uv).a;}
#else
uniform lowp sampler2D normalBuffer;
#if DEPTH_PACKING == 3201
uniform lowp sampler2D depthBuffer;
#elif defined(GL_FRAGMENT_PRECISION_HIGH)
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}
#endif
uniform lowp sampler2D noiseTexture;uniform mat4 inverseProjectionMatrix;uniform mat4 projectionMatrix;uniform vec2 texelSize;uniform vec2 cameraNearFar;uniform float intensity;uniform float minRadiusScale;uniform float fade;uniform float bias;uniform vec2 distanceCutoff;uniform vec2 proximityCutoff;varying vec2 vUv;varying vec2 vUv2;float getViewZ(const in float depth){
#ifdef PERSPECTIVE_CAMERA
return perspectiveDepthToViewZ(depth,cameraNearFar.x,cameraNearFar.y);
#else
return orthographicDepthToViewZ(depth,cameraNearFar.x,cameraNearFar.y);
#endif
}vec3 getViewPosition(const in vec2 screenPosition,const in float depth,const in float viewZ){vec4 clipPosition=vec4(vec3(screenPosition,depth)*2.0-1.0,1.0);float clipW=projectionMatrix[2][3]*viewZ+projectionMatrix[3][3];clipPosition*=clipW;return(inverseProjectionMatrix*clipPosition).xyz;}float getAmbientOcclusion(const in vec3 p,const in vec3 n,const in float depth,const in vec2 uv){float radiusScale=1.0-smoothstep(0.0,distanceCutoff.y,depth);radiusScale=radiusScale*(1.0-minRadiusScale)+minRadiusScale;float radius=RADIUS*radiusScale;float noise=texture2D(noiseTexture,vUv2).r;float baseAngle=noise*PI2;float rings=SPIRAL_TURNS*PI2;float occlusion=0.0;int taps=0;for(int i=0;i<SAMPLES_INT;++i){float alpha=(float(i)+0.5)*INV_SAMPLES_FLOAT;float angle=alpha*rings+baseAngle;vec2 rotation=vec2(cos(angle),sin(angle));vec2 coords=alpha*radius*rotation*texelSize+uv;if(coords.s<0.0||coords.s>1.0||coords.t<0.0||coords.t>1.0){continue;}float sampleDepth=readDepth(coords);float viewZ=getViewZ(sampleDepth);
#ifdef PERSPECTIVE_CAMERA
float linearSampleDepth=viewZToOrthographicDepth(viewZ,cameraNearFar.x,cameraNearFar.y);
#else
float linearSampleDepth=sampleDepth;
#endif
float proximity=abs(depth-linearSampleDepth);if(proximity<proximityCutoff.y){float falloff=1.0-smoothstep(proximityCutoff.x,proximityCutoff.y,proximity);vec3 Q=getViewPosition(coords,sampleDepth,viewZ);vec3 v=Q-p;float vv=dot(v,v);float vn=dot(v,n)-bias;float f=max(RADIUS_SQ-vv,0.0)/RADIUS_SQ;occlusion+=(f*f*f*max(vn/(fade+vv),0.0))*falloff;}++taps;}return occlusion/(4.0*max(float(taps),1.0));}void main(){
#ifdef NORMAL_DEPTH
vec4 normalDepth=texture2D(normalDepthBuffer,vUv);
#else
vec4 normalDepth=vec4(texture2D(normalBuffer,vUv).xyz,readDepth(vUv));
#endif
float ao=0.0;float depth=normalDepth.a;float viewZ=getViewZ(depth);
#ifdef PERSPECTIVE_CAMERA
float linearDepth=viewZToOrthographicDepth(viewZ,cameraNearFar.x,cameraNearFar.y);
#else
float linearDepth=depth;
#endif
if(linearDepth<distanceCutoff.y){vec3 viewPosition=getViewPosition(vUv,depth,viewZ);vec3 viewNormal=unpackRGBToNormal(normalDepth.rgb);ao+=getAmbientOcclusion(viewPosition,viewNormal,linearDepth,vUv);float d=smoothstep(distanceCutoff.x,distanceCutoff.y,linearDepth);ao=mix(ao,0.0,d);
#ifdef LEGACY_INTENSITY
ao=clamp(1.0-pow(1.0-ao,abs(intensity)),0.0,1.0);
#endif
}gl_FragColor.r=ao;}`,nye="uniform vec2 noiseScale;varying vec2 vUv;varying vec2 vUv2;void main(){vUv=position.xy*0.5+0.5;vUv2=vUv*noiseScale;gl_Position=vec4(position.xy,1.0,1.0);}",rye=class extends tr{constructor(t){super({name:"SSAOMaterial",defines:{SAMPLES_INT:"0",INV_SAMPLES_FLOAT:"0.0",SPIRAL_TURNS:"0.0",RADIUS:"1.0",RADIUS_SQ:"1.0",DISTANCE_SCALING:"1",DEPTH_PACKING:"0"},uniforms:{depthBuffer:new rt(null),normalBuffer:new rt(null),normalDepthBuffer:new rt(null),noiseTexture:new rt(null),inverseProjectionMatrix:new rt(new ut),projectionMatrix:new rt(new ut),texelSize:new rt(new fe),cameraNearFar:new rt(new fe),distanceCutoff:new rt(new fe),proximityCutoff:new rt(new fe),noiseScale:new rt(new fe),minRadiusScale:new rt(.33),intensity:new rt(1),fade:new rt(.01),bias:new rt(0)},blending:Fr,depthWrite:!1,depthTest:!1,fragmentShader:tye,vertexShader:nye}),this.toneMapped=!1,this.copyCameraSettings(t),this.resolution=new fe,this.r=1}get near(){return this.uniforms.cameraNearFar.value.x}get far(){return this.uniforms.cameraNearFar.value.y}set normalDepthBuffer(t){this.uniforms.normalDepthBuffer.value=t,t!==null?this.defines.NORMAL_DEPTH="1":delete this.defines.NORMAL_DEPTH,this.needsUpdate=!0}setNormalDepthBuffer(t){this.normalDepthBuffer=t}set normalBuffer(t){this.uniforms.normalBuffer.value=t}setNormalBuffer(t){this.uniforms.normalBuffer.value=t}set depthBuffer(t){this.uniforms.depthBuffer.value=t}set depthPacking(t){this.defines.DEPTH_PACKING=t.toFixed(0),this.needsUpdate=!0}setDepthBuffer(t,e=_o){this.depthBuffer=t,this.depthPacking=e}set noiseTexture(t){this.uniforms.noiseTexture.value=t}setNoiseTexture(t){this.uniforms.noiseTexture.value=t}get samples(){return Number(this.defines.SAMPLES_INT)}set samples(t){this.defines.SAMPLES_INT=t.toFixed(0),this.defines.INV_SAMPLES_FLOAT=(1/t).toFixed(9),this.needsUpdate=!0}getSamples(){return this.samples}setSamples(t){this.samples=t}get rings(){return Number(this.defines.SPIRAL_TURNS)}set rings(t){this.defines.SPIRAL_TURNS=t.toFixed(1),this.needsUpdate=!0}getRings(){return this.rings}setRings(t){this.rings=t}get intensity(){return this.uniforms.intensity.value}set intensity(t){this.uniforms.intensity.value=t,this.defines.LEGACY_INTENSITY===void 0&&(this.defines.LEGACY_INTENSITY="1",this.needsUpdate=!0)}getIntensity(){return this.uniforms.intensity.value}setIntensity(t){this.uniforms.intensity.value=t}get fade(){return this.uniforms.fade.value}set fade(t){this.uniforms.fade.value=t}getFade(){return this.uniforms.fade.value}setFade(t){this.uniforms.fade.value=t}get bias(){return this.uniforms.bias.value}set bias(t){this.uniforms.bias.value=t}getBias(){return this.uniforms.bias.value}setBias(t){this.uniforms.bias.value=t}get minRadiusScale(){return this.uniforms.minRadiusScale.value}set minRadiusScale(t){this.uniforms.minRadiusScale.value=t}getMinRadiusScale(){return this.uniforms.minRadiusScale.value}setMinRadiusScale(t){this.uniforms.minRadiusScale.value=t}updateRadius(){const t=this.r*this.resolution.height;this.defines.RADIUS=t.toFixed(11),this.defines.RADIUS_SQ=(t*t).toFixed(11),this.needsUpdate=!0}get radius(){return this.r}set radius(t){this.r=Math.min(Math.max(t,1e-6),1),this.updateRadius()}getRadius(){return this.radius}setRadius(t){this.radius=t}get distanceScaling(){return!0}set distanceScaling(t){}isDistanceScalingEnabled(){return this.distanceScaling}setDistanceScalingEnabled(t){this.distanceScaling=t}get distanceThreshold(){return this.uniforms.distanceCutoff.value.x}set distanceThreshold(t){this.uniforms.distanceCutoff.value.set(Math.min(Math.max(t,0),1),Math.min(Math.max(t+this.distanceFalloff,0),1))}get worldDistanceThreshold(){return-mv(this.distanceThreshold,this.near,this.far)}set worldDistanceThreshold(t){this.distanceThreshold=gv(-t,this.near,this.far)}get distanceFalloff(){return this.uniforms.distanceCutoff.value.y-this.distanceThreshold}set distanceFalloff(t){this.uniforms.distanceCutoff.value.y=Math.min(Math.max(this.distanceThreshold+t,0),1)}get worldDistanceFalloff(){return-mv(this.distanceFalloff,this.near,this.far)}set worldDistanceFalloff(t){this.distanceFalloff=gv(-t,this.near,this.far)}setDistanceCutoff(t,e){this.uniforms.distanceCutoff.value.set(Math.min(Math.max(t,0),1),Math.min(Math.max(t+e,0),1))}get proximityThreshold(){return this.uniforms.proximityCutoff.value.x}set proximityThreshold(t){this.uniforms.proximityCutoff.value.set(Math.min(Math.max(t,0),1),Math.min(Math.max(t+this.proximityFalloff,0),1))}get worldProximityThreshold(){return-mv(this.proximityThreshold,this.near,this.far)}set worldProximityThreshold(t){this.proximityThreshold=gv(-t,this.near,this.far)}get proximityFalloff(){return this.uniforms.proximityCutoff.value.y-this.proximityThreshold}set proximityFalloff(t){this.uniforms.proximityCutoff.value.y=Math.min(Math.max(this.proximityThreshold+t,0),1)}get worldProximityFalloff(){return-mv(this.proximityFalloff,this.near,this.far)}set worldProximityFalloff(t){this.proximityFalloff=gv(-t,this.near,this.far)}setProximityCutoff(t,e){this.uniforms.proximityCutoff.value.set(Math.min(Math.max(t,0),1),Math.min(Math.max(t+e,0),1))}setTexelSize(t,e){this.uniforms.texelSize.value.set(t,e)}adoptCameraSettings(t){this.copyCameraSettings(t)}copyCameraSettings(t){t&&(this.uniforms.cameraNearFar.value.set(t.near,t.far),this.uniforms.projectionMatrix.value.copy(t.projectionMatrix),this.uniforms.inverseProjectionMatrix.value.copy(t.projectionMatrix).invert(),t instanceof Ln?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}setSize(t,e){const n=this.uniforms,r=n.noiseTexture.value;r!==null&&n.noiseScale.value.set(t/r.image.width,e/r.image.height),n.texelSize.value.set(1/t,1/e),this.resolution.set(t,e),this.updateRadius()}},iye=new dd,Da=null;function sye(){if(Da===null){const t=new Float32Array([-1,-1,0,3,-1,0,-1,3,0]),e=new Float32Array([0,0,2,0,0,2]);Da=new gt,Da.setAttribute!==void 0?(Da.setAttribute("position",new Ut(t,3)),Da.setAttribute("uv",new Ut(e,2))):(Da.addAttribute("position",new Ut(t,3)),Da.addAttribute("uv",new Ut(e,2)))}return Da}var $i=class{constructor(t="Pass",e=new Ru,n=iye){this.name=t,this.renderer=null,this.scene=e,this.camera=n,this.screen=null,this.rtt=!0,this.needsSwap=!0,this.needsDepthTexture=!1,this.enabled=!0}get renderToScreen(){return!this.rtt}set renderToScreen(t){if(this.rtt===t){const e=this.fullscreenMaterial;e!==null&&(e.needsUpdate=!0),this.rtt=!t}}set mainScene(t){}set mainCamera(t){}setRenderer(t){this.renderer=t}isEnabled(){return this.enabled}setEnabled(t){this.enabled=t}get fullscreenMaterial(){return this.screen!==null?this.screen.material:null}set fullscreenMaterial(t){let e=this.screen;e!==null?e.material=t:(e=new Hn(sye(),t),e.frustumCulled=!1,this.scene===null&&(this.scene=new Ru),this.scene.add(e),this.screen=e)}getFullscreenMaterial(){return this.fullscreenMaterial}setFullscreenMaterial(t){this.fullscreenMaterial=t}getDepthTexture(){return null}setDepthTexture(t,e=_o){}render(t,e,n,r,i){throw new Error("Render method not implemented!")}setSize(t,e){}initialize(t,e,n){}dispose(){for(const t of Object.keys(this)){const e=this[t];(e instanceof Fn||e instanceof On||e instanceof ln||e instanceof $i)&&this[t].dispose()}}},oye=class extends $i{constructor(t,e=!0){super("CopyPass"),this.fullscreenMaterial=new Z5,this.needsSwap=!1,this.renderTarget=t,t===void 0&&(this.renderTarget=new Fn(1,1,{minFilter:Xt,magFilter:Xt,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="CopyPass.Target"),this.autoResize=e}get resize(){return this.autoResize}set resize(t){this.autoResize=t}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}setAutoResizeEnabled(t){this.autoResize=t}render(t,e,n,r,i){this.fullscreenMaterial.inputBuffer=e.texture,t.setRenderTarget(this.renderToScreen?null:this.renderTarget),t.render(this.scene,this.camera)}setSize(t,e){this.autoResize&&this.renderTarget.setSize(t,e)}initialize(t,e,n){n!==void 0&&(this.renderTarget.texture.type=n,n!==er?this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1":t.outputEncoding===lt&&(this.renderTarget.texture.encoding=lt))}},aye=class extends $i{constructor(){super("ClearMaskPass",null,null),this.needsSwap=!1}render(t,e,n,r,i){const s=t.state.buffers.stencil;s.setLocked(!1),s.setTest(!1)}},QD=new Ce,bC=class extends $i{constructor(t=!0,e=!0,n=!1){super("ClearPass",null,null),this.needsSwap=!1,this.color=t,this.depth=e,this.stencil=n,this.overrideClearColor=null,this.overrideClearAlpha=-1}setClearFlags(t,e,n){this.color=t,this.depth=e,this.stencil=n}getOverrideClearColor(){return this.overrideClearColor}setOverrideClearColor(t){this.overrideClearColor=t}getOverrideClearAlpha(){return this.overrideClearAlpha}setOverrideClearAlpha(t){this.overrideClearAlpha=t}render(t,e,n,r,i){const s=this.overrideClearColor,o=this.overrideClearAlpha,a=t.getClearAlpha(),l=s!==null,u=o>=0;l?(t.getClearColor(QD),t.setClearColor(s,u?o:a)):u&&t.setClearAlpha(o),t.setRenderTarget(this.renderToScreen?null:e),t.clear(this.color,this.depth,this.stencil),l?t.setClearColor(QD,a):u&&t.setClearAlpha(a)}},La=-1,dr=class extends ps{constructor(t,e=La,n=La,r=1){super(),this.resizable=t,this.baseSize=new fe(1,1),this.preferredSize=new fe(e,n),this.target=this.preferredSize,this.s=r,this.effectiveSize=new fe,this.addEventListener("change",()=>this.updateEffectiveSize()),this.updateEffectiveSize()}updateEffectiveSize(){const t=this.baseSize,e=this.preferredSize,n=this.effectiveSize,r=this.scale;e.width!==La?n.width=e.width:e.height!==La?n.width=Math.round(e.height*(t.width/Math.max(t.height,1))):n.width=Math.round(t.width*r),e.height!==La?n.height=e.height:e.width!==La?n.height=Math.round(e.width/Math.max(t.width/Math.max(t.height,1),1)):n.height=Math.round(t.height*r)}get width(){return this.effectiveSize.width}set width(t){this.preferredWidth=t}get height(){return this.effectiveSize.height}set height(t){this.preferredHeight=t}getWidth(){return this.width}getHeight(){return this.height}get scale(){return this.s}set scale(t){this.s!==t&&(this.s=t,this.preferredSize.setScalar(La),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getScale(){return this.scale}setScale(t){this.scale=t}get baseWidth(){return this.baseSize.width}set baseWidth(t){this.baseSize.width!==t&&(this.baseSize.width=t,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getBaseWidth(){return this.baseWidth}setBaseWidth(t){this.baseWidth=t}get baseHeight(){return this.baseSize.height}set baseHeight(t){this.baseSize.height!==t&&(this.baseSize.height=t,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getBaseHeight(){return this.baseHeight}setBaseHeight(t){this.baseHeight=t}setBaseSize(t,e){(this.baseSize.width!==t||this.baseSize.height!==e)&&(this.baseSize.set(t,e),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}get preferredWidth(){return this.preferredSize.width}set preferredWidth(t){this.preferredSize.width!==t&&(this.preferredSize.width=t,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getPreferredWidth(){return this.preferredWidth}setPreferredWidth(t){this.preferredWidth=t}get preferredHeight(){return this.preferredSize.height}set preferredHeight(t){this.preferredSize.height!==t&&(this.preferredSize.height=t,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getPreferredHeight(){return this.preferredHeight}setPreferredHeight(t){this.preferredHeight=t}setPreferredSize(t,e){(this.preferredSize.width!==t||this.preferredSize.height!==e)&&(this.preferredSize.set(t,e),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}copy(t){this.s=t.scale,this.baseSize.set(t.baseWidth,t.baseHeight),this.preferredSize.set(t.preferredWidth,t.preferredHeight),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height)}static get AUTO_SIZE(){return La}},GS=!1,ZD=class{constructor(t=null){this.originalMaterials=new Map,this.material=null,this.materials=null,this.materialsBackSide=null,this.materialsDoubleSide=null,this.materialsFlatShaded=null,this.materialsFlatShadedBackSide=null,this.materialsFlatShadedDoubleSide=null,this.setMaterial(t),this.meshCount=0,this.replaceMaterial=e=>{if(e.isMesh){let n;if(e.material.flatShading)switch(e.material.side){case Dr:n=this.materialsFlatShadedDoubleSide;break;case Zn:n=this.materialsFlatShadedBackSide;break;default:n=this.materialsFlatShaded;break}else switch(e.material.side){case Dr:n=this.materialsDoubleSide;break;case Zn:n=this.materialsBackSide;break;default:n=this.materials;break}this.originalMaterials.set(e,e.material),e.isSkinnedMesh?e.material=n[2]:e.isInstancedMesh?e.material=n[1]:e.material=n[0],++this.meshCount}}}cloneMaterial(t){if(!(t instanceof tr))return t.clone();const e=t.uniforms,n=new Map;for(const i in e){const s=e[i].value;s.isRenderTargetTexture&&(e[i].value=null,n.set(i,s))}const r=t.clone();for(const i of n)e[i[0]].value=i[1],r.uniforms[i[0]].value=i[1];return r}setMaterial(t){if(this.disposeMaterials(),this.material=t,t!==null){const e=this.materials=[this.cloneMaterial(t),this.cloneMaterial(t),this.cloneMaterial(t)];for(const n of e)n.uniforms=Object.assign({},t.uniforms),n.side=Hs;e[2].skinning=!0,this.materialsBackSide=e.map(n=>{const r=this.cloneMaterial(n);return r.uniforms=Object.assign({},t.uniforms),r.side=Zn,r}),this.materialsDoubleSide=e.map(n=>{const r=this.cloneMaterial(n);return r.uniforms=Object.assign({},t.uniforms),r.side=Dr,r}),this.materialsFlatShaded=e.map(n=>{const r=this.cloneMaterial(n);return r.uniforms=Object.assign({},t.uniforms),r.flatShading=!0,r}),this.materialsFlatShadedBackSide=e.map(n=>{const r=this.cloneMaterial(n);return r.uniforms=Object.assign({},t.uniforms),r.flatShading=!0,r.side=Zn,r}),this.materialsFlatShadedDoubleSide=e.map(n=>{const r=this.cloneMaterial(n);return r.uniforms=Object.assign({},t.uniforms),r.flatShading=!0,r.side=Dr,r})}}render(t,e,n){const r=t.shadowMap.enabled;if(t.shadowMap.enabled=!1,GS){const i=this.originalMaterials;this.meshCount=0,e.traverse(this.replaceMaterial),t.render(e,n);for(const s of i)s[0].material=s[1];this.meshCount!==i.size&&i.clear()}else{const i=e.overrideMaterial;e.overrideMaterial=this.material,t.render(e,n),e.overrideMaterial=i}t.shadowMap.enabled=r}disposeMaterials(){if(this.material!==null){const t=this.materials.concat(this.materialsBackSide).concat(this.materialsDoubleSide).concat(this.materialsFlatShaded).concat(this.materialsFlatShadedBackSide).concat(this.materialsFlatShadedDoubleSide);for(const e of t)e.dispose()}}dispose(){this.originalMaterials.clear(),this.disposeMaterials()}static get workaroundEnabled(){return GS}static set workaroundEnabled(t){GS=t}},Gx=class extends $i{constructor(t,e,n=null){super("RenderPass",t,e),this.needsSwap=!1,this.clearPass=new bC,this.overrideMaterialManager=n===null?null:new ZD(n),this.ignoreBackground=!1,this.skipShadowMapUpdate=!1,this.selection=null}set mainScene(t){this.scene=t}set mainCamera(t){this.camera=t}get renderToScreen(){return super.renderToScreen}set renderToScreen(t){super.renderToScreen=t,this.clearPass.renderToScreen=t}get overrideMaterial(){const t=this.overrideMaterialManager;return t!==null?t.material:null}set overrideMaterial(t){const e=this.overrideMaterialManager;t!==null?e!==null?e.setMaterial(t):this.overrideMaterialManager=new ZD(t):e!==null&&(e.dispose(),this.overrideMaterialManager=null)}getOverrideMaterial(){return this.overrideMaterial}setOverrideMaterial(t){this.overrideMaterial=t}get clear(){return this.clearPass.enabled}set clear(t){this.clearPass.enabled=t}getSelection(){return this.selection}setSelection(t){this.selection=t}isBackgroundDisabled(){return this.ignoreBackground}setBackgroundDisabled(t){this.ignoreBackground=t}isShadowMapDisabled(){return this.skipShadowMapUpdate}setShadowMapDisabled(t){this.skipShadowMapUpdate=t}getClearPass(){return this.clearPass}render(t,e,n,r,i){const s=this.scene,o=this.camera,a=this.selection,l=o.layers.mask,u=s.background,c=t.shadowMap.autoUpdate,d=this.renderToScreen?null:e;a!==null&&o.layers.set(a.getLayer()),this.skipShadowMapUpdate&&(t.shadowMap.autoUpdate=!1),(this.ignoreBackground||this.clearPass.overrideClearColor!==null)&&(s.background=null),this.clearPass.enabled&&this.clearPass.render(t,e),t.setRenderTarget(d),this.overrideMaterialManager!==null?this.overrideMaterialManager.render(t,s,o):t.render(s,o),o.layers.mask=l,s.background=u,t.shadowMap.autoUpdate=c}},lye=class extends $i{constructor(t,e,{renderTarget:n,resolutionScale:r=1,width:i=dr.AUTO_SIZE,height:s=dr.AUTO_SIZE,resolutionX:o=i,resolutionY:a=s}={}){super("DepthPass"),this.needsSwap=!1,this.renderPass=new Gx(t,e,new _x({depthPacking:Vp}));const l=this.renderPass;l.skipShadowMapUpdate=!0,l.ignoreBackground=!0;const u=l.getClearPass();u.overrideClearColor=new Ce(16777215),u.overrideClearAlpha=1,this.renderTarget=n,this.renderTarget===void 0&&(this.renderTarget=new Fn(1,1,{minFilter:en,magFilter:en}),this.renderTarget.texture.name="DepthPass.Target");const c=this.resolution=new dr(this,o,a,r);c.addEventListener("change",d=>this.setSize(c.baseWidth,c.baseHeight))}set mainScene(t){this.renderPass.mainScene=t}set mainCamera(t){this.renderPass.mainCamera=t}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}getResolutionScale(){return this.resolution.scale}setResolutionScale(t){this.resolution.scale=t}render(t,e,n,r,i){const s=this.renderToScreen?null:this.renderTarget;this.renderPass.render(t,s)}setSize(t,e){const n=this.resolution;n.setBaseSize(t,e),this.renderTarget.setSize(n.width,n.height)}},q5=class extends $i{constructor({normalBuffer:t=null,resolutionScale:e=.5,width:n=dr.AUTO_SIZE,height:r=dr.AUTO_SIZE,resolutionX:i=n,resolutionY:s=r}={}){super("DepthDownsamplingPass");const o=new Kve;o.normalBuffer=t,this.fullscreenMaterial=o,this.needsDepthTexture=!0,this.needsSwap=!1,this.renderTarget=new Fn(1,1,{minFilter:en,magFilter:en,depthBuffer:!1,type:Pi}),this.renderTarget.texture.name="DepthDownsamplingPass.Target",this.renderTarget.texture.generateMipmaps=!1;const a=this.resolution=new dr(this,i,s,e);a.addEventListener("change",l=>this.setSize(a.baseWidth,a.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}setDepthTexture(t,e=_o){this.fullscreenMaterial.depthBuffer=t,this.fullscreenMaterial.depthPacking=e}render(t,e,n,r,i){t.setRenderTarget(this.renderToScreen?null:this.renderTarget),t.render(this.scene,this.camera)}setSize(t,e){const n=this.resolution;n.setBaseSize(t,e),this.renderTarget.setSize(n.width,n.height),this.fullscreenMaterial.setSize(t,e)}initialize(t,e,n){const r=t.getContext();if(!(r.getExtension("EXT_color_buffer_float")||r.getExtension("EXT_color_buffer_half_float")))throw new Error("Rendering to float texture is not supported.")}};function qD(t,e,n){for(const r of e){const i="$1"+t+r.charAt(0).toUpperCase()+r.slice(1),s=new RegExp("([^\\.])(\\b"+r+"\\b)","g");for(const o of n.entries())o[1]!==null&&n.set(o[0],o[1].replace(s,i))}}function uye(t,e,n){var r,i,s,o,a;let l=e.getFragmentShader(),u=e.getVertexShader();const c=l!==void 0&&/mainImage/.test(l),d=l!==void 0&&/mainUv/.test(l);if(n.attributes|=e.getAttributes(),l===void 0)throw new Error(`Missing fragment shader (${e.name})`);if(d&&n.attributes&rl.CONVOLUTION)throw new Error(`Effects that transform UVs are incompatible with convolution effects (${e.name})`);if(!c&&!d)throw new Error(`Could not find mainImage or mainUv function (${e.name})`);{const p=/\w+\s+(\w+)\([\w\s,]*\)\s*{/g,m=n.shaderParts;let v=(r=m.get(jt.FRAGMENT_HEAD))!=null?r:"",y=(i=m.get(jt.FRAGMENT_MAIN_UV))!=null?i:"",x=(s=m.get(jt.FRAGMENT_MAIN_IMAGE))!=null?s:"",g=(o=m.get(jt.VERTEX_HEAD))!=null?o:"",b=(a=m.get(jt.VERTEX_MAIN_SUPPORT))!=null?a:"";const S=new Set,M=new Set;if(d&&(y+=`	${t}MainUv(UV);
`,n.uvTransformation=!0),u!==null&&/mainSupport/.test(u)){const R=/mainSupport *\([\w\s]*?uv\s*?\)/.test(u);b+=`	${t}MainSupport(`,b+=R?`vUv);
`:`);
`;for(const I of u.matchAll(/(?:varying\s+\w+\s+([\S\s]*?);)/g))for(const P of I[1].split(/\s*,\s*/))n.varyings.add(P),S.add(P),M.add(P);for(const I of u.matchAll(p))M.add(I[1])}for(const R of l.matchAll(p))M.add(R[1]);for(const R of e.defines.keys())M.add(R.replace(/\([\w\s,]*\)/g,""));for(const R of e.uniforms.keys())M.add(R);M.delete("while"),M.delete("for"),M.delete("if"),e.uniforms.forEach((R,I)=>n.uniforms.set(t+I.charAt(0).toUpperCase()+I.slice(1),R)),e.defines.forEach((R,I)=>n.defines.set(t+I.charAt(0).toUpperCase()+I.slice(1),R));const C=new Map([["fragment",l],["vertex",u]]);qD(t,M,n.defines),qD(t,M,C),l=C.get("fragment"),u=C.get("vertex");const E=e.blendMode;if(n.blendModes.set(E.blendFunction,E),c){e.inputColorSpace!==null&&e.inputColorSpace!==n.colorSpace&&(x+=e.inputColorSpace===lt?`color0 = LinearTosRGB(color0);
	`:`color0 = sRGBToLinear(color0);
	`),e.outputColorSpace!==null?n.colorSpace=e.outputColorSpace:e.inputColorSpace!==null&&(n.colorSpace=e.inputColorSpace);const R=/MainImage *\([\w\s,]*?depth[\w\s,]*?\)/;x+=`${t}MainImage(color0, UV, `,n.attributes&rl.DEPTH&&R.test(l)&&(x+="depth, ",n.readDepth=!0),x+=`color1);
	`;const I=t+"BlendOpacity";n.uniforms.set(I,E.opacity),x+=`color0 = blend${E.blendFunction}(color0, color1, ${I});

	`,v+=`uniform float ${I};

`}if(v+=l+`
`,u!==null&&(g+=u+`
`),m.set(jt.FRAGMENT_HEAD,v),m.set(jt.FRAGMENT_MAIN_UV,y),m.set(jt.FRAGMENT_MAIN_IMAGE,x),m.set(jt.VERTEX_HEAD,g),m.set(jt.VERTEX_MAIN_SUPPORT,b),e.extensions!==null)for(const R of e.extensions)n.extensions.add(R)}}var cye=class extends $i{constructor(t,...e){super("EffectPass"),this.fullscreenMaterial=new Qve(null,null,null,t),this.listener=n=>this.handleEvent(n),this.effects=[],this.setEffects(e),this.skipRendering=!1,this.minTime=1,this.maxTime=Number.POSITIVE_INFINITY,this.timeScale=1}set mainScene(t){for(const e of this.effects)e.mainScene=t}set mainCamera(t){this.fullscreenMaterial.copyCameraSettings(t);for(const e of this.effects)e.mainCamera=t}get encodeOutput(){return this.fullscreenMaterial.encodeOutput}set encodeOutput(t){this.fullscreenMaterial.encodeOutput=t}get dithering(){return this.fullscreenMaterial.dithering}set dithering(t){const e=this.fullscreenMaterial;e.dithering=t,e.needsUpdate=!0}setEffects(t){for(const e of this.effects)e.removeEventListener("change",this.listener);this.effects=t.sort((e,n)=>n.attributes-e.attributes);for(const e of this.effects)e.addEventListener("change",this.listener)}updateMaterial(){const t=new vye;let e=0;for(const o of this.effects)if(o.blendMode.blendFunction===Pt.DST)t.attributes|=o.getAttributes()&rl.DEPTH;else{if(t.attributes&o.getAttributes()&rl.CONVOLUTION)throw new Error(`Convolution effects cannot be merged (${o.name})`);uye("e"+e++,o,t)}let n=t.shaderParts.get(jt.FRAGMENT_HEAD),r=t.shaderParts.get(jt.FRAGMENT_MAIN_IMAGE),i=t.shaderParts.get(jt.FRAGMENT_MAIN_UV);const s=/\bblend\b/g;for(const o of t.blendModes.values())n+=o.getShaderCode().replace(s,`blend${o.blendFunction}`)+`
`;t.attributes&rl.DEPTH?(t.readDepth&&(r=`float depth = readDepth(UV);

	`+r),this.needsDepthTexture=this.getDepthTexture()===null):this.needsDepthTexture=!1,t.colorSpace===lt&&(r+=`color0 = sRGBToLinear(color0);
	`),t.uvTransformation?(i=`vec2 transformedUv = vUv;
`+i,t.defines.set("UV","transformedUv")):t.defines.set("UV","vUv"),t.shaderParts.set(jt.FRAGMENT_HEAD,n),t.shaderParts.set(jt.FRAGMENT_MAIN_IMAGE,r),t.shaderParts.set(jt.FRAGMENT_MAIN_UV,i),t.shaderParts.forEach((o,a,l)=>l.set(a,o==null?void 0:o.trim().replace(/^#/,`
#`))),this.skipRendering=e===0,this.needsSwap=!this.skipRendering,this.fullscreenMaterial.setShaderData(t)}recompile(){this.updateMaterial()}getDepthTexture(){return this.fullscreenMaterial.depthBuffer}setDepthTexture(t,e=_o){this.fullscreenMaterial.depthBuffer=t,this.fullscreenMaterial.depthPacking=e;for(const n of this.effects)n.setDepthTexture(t,e)}render(t,e,n,r,i){for(const s of this.effects)s.update(t,e,r);if(!this.skipRendering||this.renderToScreen){const s=this.fullscreenMaterial;s.inputBuffer=e.texture,s.time+=r*this.timeScale,t.setRenderTarget(this.renderToScreen?null:n),t.render(this.scene,this.camera)}}setSize(t,e){this.fullscreenMaterial.setSize(t,e);for(const n of this.effects)n.setSize(t,e)}initialize(t,e,n){this.renderer=t;for(const r of this.effects)r.initialize(t,e,n);this.updateMaterial(),n!==void 0&&n!==er&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}dispose(){super.dispose();for(const t of this.effects)t.removeEventListener("change",this.listener),t.dispose()}handleEvent(t){switch(t.type){case"change":this.recompile();break}}},fye=class extends $i{constructor({kernelSize:t=SC.MEDIUM,resolutionScale:e=.5,width:n=dr.AUTO_SIZE,height:r=dr.AUTO_SIZE,resolutionX:i=n,resolutionY:s=r}={}){super("KawaseBlurPass"),this.renderTargetA=new Fn(1,1,{depthBuffer:!1}),this.renderTargetA.texture.name="Blur.Target.A",this.renderTargetB=this.renderTargetA.clone(),this.renderTargetB.texture.name="Blur.Target.B";const o=this.resolution=new dr(this,i,s,e);o.addEventListener("change",a=>this.setSize(o.baseWidth,o.baseHeight)),this._blurMaterial=new Hve,this._blurMaterial.kernelSize=t,this.copyMaterial=new Z5}getResolution(){return this.resolution}get blurMaterial(){return this._blurMaterial}set blurMaterial(t){this._blurMaterial=t}get dithering(){return this.copyMaterial.dithering}set dithering(t){this.copyMaterial.dithering=t}get kernelSize(){return this.blurMaterial.kernelSize}set kernelSize(t){this.blurMaterial.kernelSize=t}get width(){return this.resolution.width}set width(t){this.resolution.preferredWidth=t}get height(){return this.resolution.height}set height(t){this.resolution.preferredHeight=t}get scale(){return this.blurMaterial.scale}set scale(t){this.blurMaterial.scale=t}getScale(){return this.blurMaterial.scale}setScale(t){this.blurMaterial.scale=t}getKernelSize(){return this.kernelSize}setKernelSize(t){this.kernelSize=t}getResolutionScale(){return this.resolution.scale}setResolutionScale(t){this.resolution.scale=t}render(t,e,n,r,i){const s=this.scene,o=this.camera,a=this.renderTargetA,l=this.renderTargetB,u=this.blurMaterial,c=u.kernelSequence;let d=e;this.fullscreenMaterial=u;for(let p=0,m=c.length;p<m;++p){const v=p&1?l:a;u.kernel=c[p],u.inputBuffer=d.texture,t.setRenderTarget(v),t.render(s,o),d=v}this.fullscreenMaterial=this.copyMaterial,this.copyMaterial.inputBuffer=d.texture,t.setRenderTarget(this.renderToScreen?null:n),t.render(s,o)}setSize(t,e){const n=this.resolution;n.setBaseSize(t,e);const r=n.width,i=n.height;this.renderTargetA.setSize(r,i),this.renderTargetB.setSize(r,i),this.blurMaterial.setSize(t,e)}initialize(t,e,n){n!==void 0&&(this.renderTargetA.texture.type=n,this.renderTargetB.texture.type=n,n!==er?(this.blurMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1",this.copyMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1"):t.outputEncoding===lt&&(this.renderTargetA.texture.encoding=lt,this.renderTargetB.texture.encoding=lt))}static get AUTO_SIZE(){return dr.AUTO_SIZE}},dye=class extends $i{constructor(t,e){super("MaskPass",t,e),this.needsSwap=!1,this.clearPass=new bC(!1,!1,!0),this.inverse=!1}set mainScene(t){this.scene=t}set mainCamera(t){this.camera=t}get inverted(){return this.inverse}set inverted(t){this.inverse=t}get clear(){return this.clearPass.enabled}set clear(t){this.clearPass.enabled=t}getClearPass(){return this.clearPass}isInverted(){return this.inverted}setInverted(t){this.inverted=t}render(t,e,n,r,i){const s=t.getContext(),o=t.state.buffers,a=this.scene,l=this.camera,u=this.clearPass,c=this.inverted?0:1,d=1-c;o.color.setMask(!1),o.depth.setMask(!1),o.color.setLocked(!0),o.depth.setLocked(!0),o.stencil.setTest(!0),o.stencil.setOp(s.REPLACE,s.REPLACE,s.REPLACE),o.stencil.setFunc(s.ALWAYS,c,4294967295),o.stencil.setClear(d),o.stencil.setLocked(!0),this.clearPass.enabled&&(this.renderToScreen?u.render(t,null):(u.render(t,e),u.render(t,n))),this.renderToScreen?(t.setRenderTarget(null),t.render(a,l)):(t.setRenderTarget(e),t.render(a,l),t.setRenderTarget(n),t.render(a,l)),o.color.setLocked(!1),o.depth.setLocked(!1),o.stencil.setLocked(!1),o.stencil.setFunc(s.EQUAL,1,4294967295),o.stencil.setOp(s.KEEP,s.KEEP,s.KEEP),o.stencil.setLocked(!0)}},hye=class extends $i{constructor(t,e,{renderTarget:n,resolutionScale:r=1,width:i=dr.AUTO_SIZE,height:s=dr.AUTO_SIZE,resolutionX:o=i,resolutionY:a=s}={}){super("NormalPass"),this.needsSwap=!1,this.renderPass=new Gx(t,e,new bE);const l=this.renderPass;l.ignoreBackground=!0,l.skipShadowMapUpdate=!0;const u=l.getClearPass();u.overrideClearColor=new Ce(7829503),u.overrideClearAlpha=1,this.renderTarget=n,this.renderTarget===void 0&&(this.renderTarget=new Fn(1,1,{minFilter:en,magFilter:en}),this.renderTarget.texture.name="NormalPass.Target");const c=this.resolution=new dr(this,o,a,r);c.addEventListener("change",d=>this.setSize(c.baseWidth,c.baseHeight))}set mainScene(t){this.renderPass.mainScene=t}set mainCamera(t){this.renderPass.mainCamera=t}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}getResolutionScale(){return this.resolution.scale}setResolutionScale(t){this.resolution.scale=t}render(t,e,n,r,i){const s=this.renderToScreen?null:this.renderTarget;this.renderPass.render(t,s,s)}setSize(t,e){const n=this.resolution;n.setBaseSize(t,e),this.renderTarget.setSize(n.width,n.height)}},eH=class extends $i{constructor(t,e="inputBuffer"){super("ShaderPass"),this.fullscreenMaterial=t,this.input=e}setInput(t){this.input=t}render(t,e,n,r,i){const s=this.fullscreenMaterial.uniforms;e!==null&&s!==void 0&&s[this.input]!==void 0&&(s[this.input].value=e.texture),t.setRenderTarget(this.renderToScreen?null:n),t.render(this.scene,this.camera)}initialize(t,e,n){n!==void 0&&n!==er&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}},$S=1/1e3,pye=1e3,mye=class{constructor(){this.startTime=performance.now(),this.previousTime=0,this.currentTime=0,this._delta=0,this._elapsed=0,this._fixedDelta=1e3/60,this.timescale=1,this.useFixedDelta=!1,this._autoReset=!1}get autoReset(){return this._autoReset}set autoReset(t){typeof document<"u"&&document.hidden!==void 0&&(t?document.addEventListener("visibilitychange",this):document.removeEventListener("visibilitychange",this),this._autoReset=t)}get delta(){return this._delta*$S}get fixedDelta(){return this._fixedDelta*$S}set fixedDelta(t){this._fixedDelta=t*pye}get elapsed(){return this._elapsed*$S}update(t){this.useFixedDelta?this._delta=this.fixedDelta:(this.previousTime=this.currentTime,this.currentTime=(t!==void 0?t:performance.now())-this.startTime,this._delta=this.currentTime-this.previousTime),this._delta*=this.timescale,this._elapsed+=this._delta}reset(){this._delta=0,this._elapsed=0,this.currentTime=performance.now()-this.startTime}handleEvent(t){document.hidden||(this.currentTime=performance.now()-this.startTime)}dispose(){this.autoReset=!1}},gye=class{constructor(e=null,{depthBuffer:n=!0,stencilBuffer:r=!1,multisampling:i=0,frameBufferType:s}={}){this.renderer=null,this.inputBuffer=this.createBuffer(n,r,s,i),this.outputBuffer=this.inputBuffer.clone(),this.copyPass=new oye,this.depthTexture=null,this.passes=[],this.timer=new mye,this.autoRenderToScreen=!0,this.setRenderer(e)}get multisampling(){return this.inputBuffer.samples||0}set multisampling(e){const n=this.inputBuffer,r=this.multisampling;r>0&&e>0?(this.inputBuffer.samples=e,this.outputBuffer.samples=e,this.inputBuffer.dispose(),this.outputBuffer.dispose()):r!==e&&(this.inputBuffer.dispose(),this.outputBuffer.dispose(),this.inputBuffer=this.createBuffer(n.depthBuffer,n.stencilBuffer,n.texture.type,e),this.inputBuffer.depthTexture=this.depthTexture,this.outputBuffer=this.inputBuffer.clone())}getTimer(){return this.timer}getRenderer(){return this.renderer}setRenderer(e){if(this.renderer=e,e!==null){const n=e.getSize(new fe),r=e.getContext().getContextAttributes().alpha,i=this.inputBuffer.texture.type;i===er&&e.outputEncoding===lt&&(this.inputBuffer.texture.encoding=lt,this.outputBuffer.texture.encoding=lt,this.inputBuffer.dispose(),this.outputBuffer.dispose()),e.autoClear=!1,this.setSize(n.width,n.height);for(const s of this.passes)s.initialize(e,r,i)}}replaceRenderer(e,n=!0){const r=this.renderer,i=r.domElement.parentNode;return this.setRenderer(e),n&&i!==null&&(i.removeChild(r.domElement),i.appendChild(e.domElement)),r}createDepthTexture(){const e=this.depthTexture=new uE;return this.inputBuffer.depthTexture=e,this.inputBuffer.dispose(),this.inputBuffer.stencilBuffer?(e.format=cl,e.type=tl):e.type=Ko,e}deleteDepthTexture(){if(this.depthTexture!==null){this.depthTexture.dispose(),this.depthTexture=null,this.inputBuffer.depthTexture=null,this.inputBuffer.dispose();for(const e of this.passes)e.setDepthTexture(null)}}createBuffer(e,n,r,i){const s=this.renderer,o=s===null?new fe:s.getDrawingBufferSize(new fe),a={minFilter:Xt,magFilter:Xt,stencilBuffer:n,depthBuffer:e,type:r},l=new Fn(o.width,o.height,a);return i>0&&(l.ignoreDepthForMultisampleCopy=!1,l.samples=i),r===er&&s!==null&&s.outputEncoding===lt&&(l.texture.encoding=lt),l.texture.name="EffectComposer.Buffer",l.texture.generateMipmaps=!1,l}setMainScene(e){for(const n of this.passes)n.mainScene=e}setMainCamera(e){for(const n of this.passes)n.mainCamera=e}addPass(e,n){const r=this.passes,i=this.renderer,s=i.getDrawingBufferSize(new fe),o=i.getContext().getContextAttributes().alpha,a=this.inputBuffer.texture.type;if(e.setRenderer(i),e.setSize(s.width,s.height),e.initialize(i,o,a),this.autoRenderToScreen&&(r.length>0&&(r[r.length-1].renderToScreen=!1),e.renderToScreen&&(this.autoRenderToScreen=!1)),n!==void 0?r.splice(n,0,e):r.push(e),this.autoRenderToScreen&&(r[r.length-1].renderToScreen=!0),e.needsDepthTexture||this.depthTexture!==null)if(this.depthTexture===null){const l=this.createDepthTexture();for(e of r)e.setDepthTexture(l)}else e.setDepthTexture(this.depthTexture)}removePass(e){const n=this.passes,r=n.indexOf(e);if(r!==-1&&n.splice(r,1).length>0){if(this.depthTexture!==null){const o=(l,u)=>l||u.needsDepthTexture;n.reduce(o,!1)||(e.getDepthTexture()===this.depthTexture&&e.setDepthTexture(null),this.deleteDepthTexture())}this.autoRenderToScreen&&r===n.length&&(e.renderToScreen=!1,n.length>0&&(n[n.length-1].renderToScreen=!0))}}removeAllPasses(){const e=this.passes;this.deleteDepthTexture(),e.length>0&&(this.autoRenderToScreen&&(e[e.length-1].renderToScreen=!1),this.passes=[])}render(e){const n=this.renderer,r=this.copyPass;let i=this.inputBuffer,s=this.outputBuffer,o=!1,a,l,u;e===void 0&&(this.timer.update(),e=this.timer.delta);for(const c of this.passes)c.enabled&&(c.render(n,i,s,e,o),c.needsSwap&&(o&&(r.renderToScreen=c.renderToScreen,a=n.getContext(),l=n.state.buffers.stencil,l.setFunc(a.NOTEQUAL,1,4294967295),r.render(n,i,s,e,o),l.setFunc(a.EQUAL,1,4294967295)),u=i,i=s,s=u),c instanceof dye?o=!0:c instanceof aye&&(o=!1))}setSize(e,n,r){const i=this.renderer,s=i.getSize(new fe);(e===void 0||n===void 0)&&(e=s.width,n=s.height),(s.width!==e||s.height!==n)&&i.setSize(e,n,r);const o=i.getDrawingBufferSize(new fe);this.inputBuffer.setSize(o.width,o.height),this.outputBuffer.setSize(o.width,o.height);for(const a of this.passes)a.setSize(o.width,o.height)}reset(){const e=this.timer.autoReset;this.dispose(),this.autoRenderToScreen=!0,this.timer.autoReset=e}dispose(){for(const e of this.passes)e.dispose();this.passes=[],this.inputBuffer!==null&&this.inputBuffer.dispose(),this.outputBuffer!==null&&this.outputBuffer.dispose(),this.deleteDepthTexture(),this.copyPass.dispose(),this.timer.dispose()}},vye=class{constructor(){this.shaderParts=new Map([[jt.FRAGMENT_HEAD,null],[jt.FRAGMENT_MAIN_UV,null],[jt.FRAGMENT_MAIN_IMAGE,null],[jt.VERTEX_HEAD,null],[jt.VERTEX_MAIN_SUPPORT,null]]),this.defines=new Map,this.uniforms=new Map,this.blendModes=new Map,this.extensions=new Set,this.attributes=rl.NONE,this.varyings=new Set,this.uvTransformation=!1,this.readDepth=!1,this.colorSpace=pi}},yye=class extends Set{constructor(e,n=10){super(),this.l=n,this.exclusive=!1,e!==void 0&&this.set(e)}get layer(){return this.l}set layer(e){const n=this.l;for(const r of this)r.layers.disable(n),r.layers.enable(e);this.l=e}getLayer(){return this.layer}setLayer(e){this.layer=e}isExclusive(){return this.exclusive}setExclusive(e){this.exclusive=e}clear(){const e=this.layer;for(const n of this)n.layers.disable(e);return super.clear()}set(e){this.clear();for(const n of e)this.add(n);return this}indexOf(e){return this.has(e)?0:-1}add(e){return this.exclusive?e.layers.set(this.layer):e.layers.enable(this.layer),super.add(e)}delete(e){return this.has(e)&&e.layers.disable(this.layer),super.delete(e)}toggle(e){let n;return this.has(e)?(this.delete(e),n=!1):(this.add(e),n=!0),n}setVisible(e){for(const n of this)e?n.layers.enable(0):n.layers.disable(0);return this}},xye="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x+y,opacity);}",_ye="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y,min(y.a,opacity));}",Sye="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,(x+y)*0.5,opacity);}",bye="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(yHSL.rg,xHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}",wye="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(step(0.0,y)*(1.0-min(vec4(1.0),(1.0-x)/y)),vec4(1.0),step(1.0,x));return mix(x,z,opacity);}",Mye="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=step(0.0,x)*mix(min(vec4(1.0),x/max(1.0-y,1e-9)),vec4(1.0),step(1.0,y));return mix(x,z,opacity);}",Aye="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,min(x,y),opacity);}",Eye="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,abs(x-y),opacity);}",Cye="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x/max(y,1e-12),opacity);}",Tye="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,(x+y-2.0*x*y),opacity);}",Pye="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 a=min(x,1.0),b=min(y,1.0);vec4 z=mix(2.0*a*b,1.0-2.0*(1.0-a)*(1.0-b),step(0.5,y));return mix(x,z,opacity);}",Rye="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,step(1.0,x+y),opacity);}",Bye="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(yHSL.r,xHSL.gb));return vec4(mix(x.rgb,z,opacity),y.a);}",Iye="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,1.0-y,opacity);}",Dye="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y*(1.0-x),opacity);}",Lye="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,max(x,y),opacity);}",Oye="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,clamp(y+x-1.0,0.0,1.0),opacity);}",Fye="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,min(x+y,1.0),opacity);}",kye="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,clamp(2.0*y+x-1.0,0.0,1.0),opacity);}",Nye="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(xHSL.rg,yHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}",Uye="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x*y,opacity);}",zye="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,1.0-abs(1.0-x-y),opacity);}",Hye="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y,opacity);}",Gye="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(2.0*y*x,1.0-2.0*(1.0-y)*(1.0-x),step(0.5,x));return mix(x,z,opacity);}",$ye="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 y2=2.0*y;vec4 z=mix(mix(y2,x,step(0.5*x,y)),max(vec4(0.0),y2-1.0),step(x,(y2-1.0)));return mix(x,z,opacity);}",Vye="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(min(x*x/max(1.0-y,1e-12),1.0),y,step(1.0,y));return mix(x,z,opacity);}",Wye="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(xHSL.r,yHSL.g,xHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}",jye="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x+y-min(x*y,1.0),opacity);}",Jye="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 y2=2.0*y;vec4 w=step(0.5,y);vec4 z=mix(x-(1.0-y2)*x*(1.0-x),mix(x+(y2-1.0)*(sqrt(x)-x),x+(y2-1.0)*x*((16.0*x-12.0)*x+3.0),w*(1.0-step(0.25,x))),w);return mix(x,z,opacity);}",Kye="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return y;}",Xye="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,max(x+y-1.0,0.0),opacity);}",Yye="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(max(1.0-min((1.0-x)/(2.0*y),1.0),0.0),min(x/(2.0*(1.0-y)),1.0),step(0.5,y));return mix(x,z,opacity);}",Qye=new Map([[Pt.ADD,xye],[Pt.ALPHA,_ye],[Pt.AVERAGE,Sye],[Pt.COLOR,bye],[Pt.COLOR_BURN,wye],[Pt.COLOR_DODGE,Mye],[Pt.DARKEN,Aye],[Pt.DIFFERENCE,Eye],[Pt.DIVIDE,Cye],[Pt.DST,null],[Pt.EXCLUSION,Tye],[Pt.HARD_LIGHT,Pye],[Pt.HARD_MIX,Rye],[Pt.HUE,Bye],[Pt.INVERT,Iye],[Pt.INVERT_RGB,Dye],[Pt.LIGHTEN,Lye],[Pt.LINEAR_BURN,Oye],[Pt.LINEAR_DODGE,Fye],[Pt.LINEAR_LIGHT,kye],[Pt.LUMINOSITY,Nye],[Pt.MULTIPLY,Uye],[Pt.NEGATION,zye],[Pt.NORMAL,Hye],[Pt.OVERLAY,Gye],[Pt.PIN_LIGHT,$ye],[Pt.REFLECT,Vye],[Pt.SATURATION,Wye],[Pt.SCREEN,jye],[Pt.SOFT_LIGHT,Jye],[Pt.SRC,Kye],[Pt.SUBTRACT,Xye],[Pt.VIVID_LIGHT,Yye]]),Zye=class extends ps{constructor(t,e=1){super(),this._blendFunction=t,this.opacity=new rt(e)}getOpacity(){return this.opacity.value}setOpacity(t){this.opacity.value=t}get blendFunction(){return this._blendFunction}set blendFunction(t){this._blendFunction=t,this.dispatchEvent({type:"change"})}getBlendFunction(){return this.blendFunction}setBlendFunction(t){this.blendFunction=t}getShaderCode(){return Qye.get(this.blendFunction)}},tH=class extends ps{constructor(t,e,{attributes:n=rl.NONE,blendFunction:r=Pt.NORMAL,defines:i=new Map,uniforms:s=new Map,extensions:o=null,vertexShader:a=null}={}){super(),this.name=t,this.renderer=null,this.attributes=n,this.fragmentShader=e,this.vertexShader=a,this.defines=i,this.uniforms=s,this.extensions=o,this.blendMode=new Zye(r),this.blendMode.addEventListener("change",l=>this.setChanged()),this._inputColorSpace=pi,this._outputColorSpace=null}get inputColorSpace(){return this._inputColorSpace}set inputColorSpace(t){this._inputColorSpace=t,this.setChanged()}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(t){this._outputColorSpace=t,this.setChanged()}set mainScene(t){}set mainCamera(t){}getName(){return this.name}setRenderer(t){this.renderer=t}getDefines(){return this.defines}getUniforms(){return this.uniforms}getExtensions(){return this.extensions}getBlendMode(){return this.blendMode}getAttributes(){return this.attributes}setAttributes(t){this.attributes=t,this.setChanged()}getFragmentShader(){return this.fragmentShader}setFragmentShader(t){this.fragmentShader=t,this.setChanged()}getVertexShader(){return this.vertexShader}setVertexShader(t){this.vertexShader=t,this.setChanged()}setChanged(){this.dispatchEvent({type:"change"})}setDepthTexture(t,e=_o){}update(t,e,n){}setSize(t,e){}initialize(t,e,n){}dispose(){for(const t of Object.keys(this)){const e=this[t];(e instanceof Fn||e instanceof On||e instanceof ln||e instanceof $i)&&this[t].dispose()}}};function qye(t,e,n){const r=new Map([[mx,1],[YA,1],[QA,2],[_r,4]]);let i;if(r.has(e)||console.error("Invalid noise texture format"),n===er){i=new Uint8Array(t*r.get(e));for(let s=0,o=i.length;s<o;++s)i[s]=Math.random()*255+.5}else{i=new Float32Array(t*r.get(e));for(let s=0,o=i.length;s<o;++s)i[s]=Math.random()}return i}var exe=class extends _u{constructor(t,e,n=mx,r=er){super(qye(t*e,n,r),t,e,n,r),this.needsUpdate=!0}};new N;new ut;new Ce;var txe=`uniform lowp sampler2D edgeTexture;uniform lowp sampler2D maskTexture;uniform vec3 visibleEdgeColor;uniform vec3 hiddenEdgeColor;uniform float pulse;uniform float edgeStrength;
#ifdef USE_PATTERN
uniform lowp sampler2D patternTexture;varying vec2 vUvPattern;
#endif
void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec2 edge=texture2D(edgeTexture,uv).rg;vec2 mask=texture2D(maskTexture,uv).rg;
#ifndef X_RAY
edge.y=0.0;
#endif
edge*=(edgeStrength*mask.x*pulse);vec3 color=edge.x*visibleEdgeColor+edge.y*hiddenEdgeColor;float visibilityFactor=0.0;
#ifdef USE_PATTERN
vec4 patternColor=texelToLinear(texture2D(patternTexture,vUvPattern));
#ifdef X_RAY
float hiddenFactor=0.5;
#else
float hiddenFactor=0.0;
#endif
visibilityFactor=(1.0-mask.y>0.0)?1.0:hiddenFactor;visibilityFactor*=(1.0-mask.x)*patternColor.a;color+=visibilityFactor*patternColor.rgb;
#endif
float alpha=max(max(edge.x,edge.y),visibilityFactor);
#ifdef ALPHA
outputColor=vec4(color,alpha);
#else
outputColor=vec4(color,max(alpha,inputColor.a));
#endif
}`,nxe="uniform float patternScale;varying vec2 vUvPattern;void mainSupport(const in vec2 uv){vUvPattern=uv*vec2(aspect,1.0)*patternScale;}",rxe=class extends tH{constructor(t,e,{blendFunction:n=Pt.SCREEN,patternTexture:r=null,patternScale:i=1,edgeStrength:s=1,pulseSpeed:o=0,visibleEdgeColor:a=16777215,hiddenEdgeColor:l=2230538,kernelSize:u=SC.VERY_SMALL,blur:c=!1,xRay:d=!0,multisampling:p=0,resolutionScale:m=.5,width:v=dr.AUTO_SIZE,height:y=dr.AUTO_SIZE,resolutionX:x=v,resolutionY:g=y}={}){super("OutlineEffect",txe,{uniforms:new Map([["maskTexture",new rt(null)],["edgeTexture",new rt(null)],["edgeStrength",new rt(s)],["visibleEdgeColor",new rt(new Ce(a))],["hiddenEdgeColor",new rt(new Ce(l))],["pulse",new rt(1)],["patternScale",new rt(i)],["patternTexture",new rt(null)]])}),this.blendMode.addEventListener("change",C=>{this.blendMode.blendFunction===Pt.ALPHA?this.defines.set("ALPHA","1"):this.defines.delete("ALPHA"),this.setChanged()}),this.blendMode.blendFunction=n,this.patternTexture=r,this.xRay=d,this.scene=t,this.camera=e,this.renderTargetMask=new Fn(1,1),this.renderTargetMask.samples=p,this.renderTargetMask.texture.name="Outline.Mask",this.uniforms.get("maskTexture").value=this.renderTargetMask.texture,this.renderTargetOutline=new Fn(1,1,{depthBuffer:!1}),this.renderTargetOutline.texture.name="Outline.Edges",this.uniforms.get("edgeTexture").value=this.renderTargetOutline.texture,this.clearPass=new bC,this.clearPass.overrideClearColor=new Ce(0),this.clearPass.overrideClearAlpha=1,this.depthPass=new lye(t,e),this.maskPass=new Gx(t,e,new Wve(this.depthPass.texture,e));const b=this.maskPass.clearPass;b.overrideClearColor=new Ce(16777215),b.overrideClearAlpha=1,this.blurPass=new fye({resolutionScale:m,resolutionX:x,resolutionY:g,kernelSize:u}),this.blurPass.enabled=c;const S=this.blurPass.resolution;S.addEventListener("change",C=>this.setSize(S.baseWidth,S.baseHeight)),this.outlinePass=new eH(new eye);const M=this.outlinePass.fullscreenMaterial;M.inputBuffer=this.renderTargetMask.texture,this.time=0,this.active=!1,this.selection=new yye,this.selection.layer=10,this.pulseSpeed=o}set mainScene(t){this.scene=t,this.depthPass.mainScene=t,this.maskPass.mainScene=t}set mainCamera(t){this.camera=t,this.depthPass.mainCamera=t,this.maskPass.mainCamera=t,this.maskPass.overrideMaterial.copyCameraSettings(t)}get resolution(){return this.blurPass.resolution}getResolution(){return this.blurPass.getResolution()}get multisampling(){return this.renderTargetMask.samples}set multisampling(t){this.renderTargetMask.samples=t,this.renderTargetMask.dispose()}get patternScale(){return this.uniforms.get("patternScale").value}set patternScale(t){this.uniforms.get("patternScale").value=t}get edgeStrength(){return this.uniforms.get("edgeStrength").value}set edgeStrength(t){this.uniforms.get("edgeStrength").value=t}get visibleEdgeColor(){return this.uniforms.get("visibleEdgeColor").value}set visibleEdgeColor(t){this.uniforms.get("visibleEdgeColor").value=t}get hiddenEdgeColor(){return this.uniforms.get("hiddenEdgeColor").value}set hiddenEdgeColor(t){this.uniforms.get("hiddenEdgeColor").value=t}getBlurPass(){return this.blurPass}getSelection(){return this.selection}getPulseSpeed(){return this.pulseSpeed}setPulseSpeed(t){this.pulseSpeed=t}get width(){return this.resolution.width}set width(t){this.resolution.preferredWidth=t}get height(){return this.resolution.height}set height(t){this.resolution.preferredHeight=t}get selectionLayer(){return this.selection.layer}set selectionLayer(t){this.selection.layer=t}get dithering(){return this.blurPass.dithering}set dithering(t){this.blurPass.dithering=t}get kernelSize(){return this.blurPass.kernelSize}set kernelSize(t){this.blurPass.kernelSize=t}get blur(){return this.blurPass.enabled}set blur(t){this.blurPass.enabled=t}get xRay(){return this.defines.has("X_RAY")}set xRay(t){this.xRay!==t&&(t?this.defines.set("X_RAY","1"):this.defines.delete("X_RAY"),this.setChanged())}isXRayEnabled(){return this.xRay}setXRayEnabled(t){this.xRay=t}get patternTexture(){return this.uniforms.get("patternTexture").value}set patternTexture(t){if(t!==null?(t.wrapS=t.wrapT=go,this.defines.set("USE_PATTERN","1"),this.setVertexShader(nxe)):(this.defines.delete("USE_PATTERN"),this.setVertexShader(null)),this.renderer!==null){const e=YD(t,this.renderer.capabilities.isWebGL2);this.defines.set("texelToLinear(texel)",e)}this.uniforms.get("patternTexture").value=t,this.setChanged()}setPatternTexture(t){this.patternTexture=t}getResolutionScale(){return this.resolution.scale}setResolutionScale(t){this.resolution.scale=t}setSelection(t){return this.selection.set(t),this}clearSelection(){return this.selection.clear(),this}selectObject(t){return this.selection.add(t),this}deselectObject(t){return this.selection.delete(t),this}update(t,e,n){const r=this.scene,i=this.camera,s=this.selection,a=this.uniforms.get("pulse"),l=r.background,u=i.layers.mask;s.size>0?(r.background=null,a.value=1,this.pulseSpeed>0&&(a.value=Math.cos(this.time*this.pulseSpeed*10)*.375+.625),this.active=!0,this.time+=n,s.setVisible(!1),this.depthPass.render(t),s.setVisible(!0),i.layers.set(s.layer),this.maskPass.render(t,this.renderTargetMask),i.layers.mask=u,r.background=l,this.outlinePass.render(t,null,this.renderTargetOutline),this.blurPass.enabled&&this.blurPass.render(t,this.renderTargetOutline,this.renderTargetOutline)):this.active&&(this.clearPass.render(t,this.renderTargetOutline),this.active=!1)}setSize(t,e){this.blurPass.setSize(t,e),this.renderTargetMask.setSize(t,e);const n=this.resolution;n.setBaseSize(t,e);const r=n.width,i=n.height;this.depthPass.setSize(r,i),this.renderTargetOutline.setSize(r,i),this.outlinePass.fullscreenMaterial.setSize(r,i)}initialize(t,e,n){const r=this.patternTexture,i=YD(r,t.capabilities.isWebGL2);this.defines.set("texelToLinear(texel)",i),this.blurPass.initialize(t,e,er),n!==void 0&&(this.depthPass.initialize(t,e,n),this.maskPass.initialize(t,e,n),this.outlinePass.initialize(t,e,n))}};new N;new N;var ixe=`uniform lowp sampler2D aoBuffer;uniform float luminanceInfluence;uniform float intensity;
#if THREE_REVISION < 143
#define luminance(v) linearToRelativeLuminance(v)
#endif
#if defined(DEPTH_AWARE_UPSAMPLING) && defined(NORMAL_DEPTH)
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D normalDepthBuffer;
#else
uniform mediump sampler2D normalDepthBuffer;
#endif
#endif
#ifdef COLORIZE
uniform vec3 color;
#endif
void mainImage(const in vec4 inputColor,const in vec2 uv,const in float depth,out vec4 outputColor){float aoLinear=texture2D(aoBuffer,uv).r;
#if defined(DEPTH_AWARE_UPSAMPLING) && defined(NORMAL_DEPTH) && __VERSION__ == 300
vec4 normalDepth[4];normalDepth[0]=textureOffset(normalDepthBuffer,uv,ivec2(0,0));normalDepth[1]=textureOffset(normalDepthBuffer,uv,ivec2(0,1));normalDepth[2]=textureOffset(normalDepthBuffer,uv,ivec2(1,0));normalDepth[3]=textureOffset(normalDepthBuffer,uv,ivec2(1,1));float dot01=dot(normalDepth[0].rgb,normalDepth[1].rgb);float dot02=dot(normalDepth[0].rgb,normalDepth[2].rgb);float dot03=dot(normalDepth[0].rgb,normalDepth[3].rgb);float minDot=min(dot01,min(dot02,dot03));float s=step(THRESHOLD,minDot);float smallestDistance=1.0;int index;for(int i=0;i<4;++i){float distance=abs(depth-normalDepth[i].a);if(distance<smallestDistance){smallestDistance=distance;index=i;}}ivec2 offsets[4];offsets[0]=ivec2(0,0);offsets[1]=ivec2(0,1);offsets[2]=ivec2(1,0);offsets[3]=ivec2(1,1);ivec2 coord=ivec2(uv*vec2(textureSize(aoBuffer,0)))+offsets[index];float aoNearest=texelFetch(aoBuffer,coord,0).r;float ao=mix(aoNearest,aoLinear,s);
#else
float ao=aoLinear;
#endif
float l=luminance(inputColor.rgb);ao=mix(ao,0.0,l*luminanceInfluence);ao=clamp(ao*intensity,0.0,1.0);
#ifdef COLORIZE
outputColor=vec4(1.0-ao*(1.0-color),inputColor.a);
#else
outputColor=vec4(vec3(1.0-ao),inputColor.a);
#endif
}`,eL=64,sxe=class extends tH{constructor(t,e,{blendFunction:n=Pt.MULTIPLY,samples:r=9,rings:i=7,normalDepthBuffer:s=null,depthAwareUpsampling:o=!0,worldDistanceThreshold:a,worldDistanceFalloff:l,worldProximityThreshold:u,worldProximityFalloff:c,distanceThreshold:d=.97,distanceFalloff:p=.03,rangeThreshold:m=5e-4,rangeFalloff:v=.001,minRadiusScale:y=.1,luminanceInfluence:x=.7,radius:g=.1825,intensity:b=1,bias:S=.025,fade:M=.01,color:C=null,resolutionScale:E=1,width:R=dr.AUTO_SIZE,height:I=dr.AUTO_SIZE,resolutionX:P=R,resolutionY:B=I}={}){super("SSAOEffect",ixe,{blendFunction:n,attributes:rl.DEPTH,defines:new Map([["THRESHOLD","0.997"]]),uniforms:new Map([["aoBuffer",new rt(null)],["normalDepthBuffer",new rt(s)],["luminanceInfluence",new rt(x)],["color",new rt(null)],["intensity",new rt(b)],["scale",new rt(0)]])}),this.renderTarget=new Fn(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="AO.Target",this.uniforms.get("aoBuffer").value=this.renderTarget.texture;const O=this.resolution=new dr(this,P,B,E);O.addEventListener("change",V=>this.setSize(O.baseWidth,O.baseHeight)),this.camera=t,this.depthDownsamplingPass=new q5({normalBuffer:e,resolutionScale:E}),this.depthDownsamplingPass.enabled=s===null,this.ssaoPass=new eH(new rye(t));const H=new exe(eL,eL,_r);H.wrapS=H.wrapT=go;const U=this.ssaoMaterial;U.normalBuffer=e,U.noiseTexture=H,U.minRadiusScale=y,U.samples=r,U.radius=g,U.rings=i,U.fade=M,U.bias=S,U.distanceThreshold=d,U.distanceFalloff=p,U.proximityThreshold=m,U.proximityFalloff=v,a!==void 0&&(U.worldDistanceThreshold=a),l!==void 0&&(U.worldDistanceFalloff=l),u!==void 0&&(U.worldProximityThreshold=u),c!==void 0&&(U.worldProximityFalloff=c),s!==null&&(this.ssaoMaterial.normalDepthBuffer=s,this.defines.set("NORMAL_DEPTH","1")),this.depthAwareUpsampling=o,this.color=C}set mainCamera(t){this.camera=t,this.ssaoMaterial.copyCameraSettings(t)}get normalBuffer(){return this.ssaoMaterial.normalBuffer}set normalBuffer(t){this.ssaoMaterial.normalBuffer=t,this.depthDownsamplingPass.fullscreenMaterial.normalBuffer=t}getResolution(){return this.resolution}get ssaoMaterial(){return this.ssaoPass.fullscreenMaterial}getSSAOMaterial(){return this.ssaoMaterial}get samples(){return this.ssaoMaterial.samples}set samples(t){this.ssaoMaterial.samples=t}get rings(){return this.ssaoMaterial.rings}set rings(t){this.ssaoMaterial.rings=t}get radius(){return this.ssaoMaterial.radius}set radius(t){this.ssaoMaterial.radius=t}get depthAwareUpsampling(){return this.defines.has("DEPTH_AWARE_UPSAMPLING")}set depthAwareUpsampling(t){this.depthAwareUpsampling!==t&&(t?this.defines.set("DEPTH_AWARE_UPSAMPLING","1"):this.defines.delete("DEPTH_AWARE_UPSAMPLING"),this.setChanged())}isDepthAwareUpsamplingEnabled(){return this.depthAwareUpsampling}setDepthAwareUpsamplingEnabled(t){this.depthAwareUpsampling=t}get distanceScaling(){return!0}set distanceScaling(t){}get color(){return this.uniforms.get("color").value}set color(t){const e=this.uniforms,n=this.defines;t!==null?n.has("COLORIZE")?e.get("color").value.set(t):(n.set("COLORIZE","1"),e.get("color").value=new Ce(t),this.setChanged()):n.has("COLORIZE")&&(n.delete("COLORIZE"),e.get("color").value=null,this.setChanged())}get luminanceInfluence(){return this.uniforms.get("luminanceInfluence").value}set luminanceInfluence(t){this.uniforms.get("luminanceInfluence").value=t}get intensity(){return this.uniforms.get("intensity").value}set intensity(t){this.uniforms.get("intensity").value=t}getColor(){return this.color}setColor(t){this.color=t}setDistanceCutoff(t,e){this.ssaoMaterial.distanceThreshold=t,this.ssaoMaterial.distanceFalloff=e}setProximityCutoff(t,e){this.ssaoMaterial.proximityThreshold=t,this.ssaoMaterial.proximityFalloff=e}setDepthTexture(t,e=_o){this.depthDownsamplingPass.setDepthTexture(t,e),this.ssaoMaterial.depthBuffer=t,this.ssaoMaterial.depthPacking=e}update(t,e,n){const r=this.renderTarget;this.depthDownsamplingPass.enabled&&this.depthDownsamplingPass.render(t),this.ssaoPass.render(t,null,r)}setSize(t,e){const n=this.resolution;n.setBaseSize(t,e);const r=n.width,i=n.height;this.ssaoMaterial.copyCameraSettings(this.camera),this.ssaoMaterial.setSize(r,i),this.renderTarget.setSize(r,i),this.depthDownsamplingPass.resolution.scale=n.scale,this.depthDownsamplingPass.setSize(t,e)}initialize(t,e,n){try{let r=this.uniforms.get("normalDepthBuffer").value;r===null&&(this.depthDownsamplingPass.initialize(t,e,n),r=this.depthDownsamplingPass.texture,this.uniforms.get("normalDepthBuffer").value=r,this.ssaoMaterial.normalDepthBuffer=r,this.defines.set("NORMAL_DEPTH","1"))}catch{this.depthDownsamplingPass.enabled=!1}}};const oxe=t=>!!t.current,tL=t=>oxe(t)?t.current:t,wC=T.createContext(null),axe=D.memo(T.forwardRef((t,e)=>{let{children:n,camera:r,scene:i,resolutionScale:s,enabled:o=!0,renderPriority:a=1,autoClear:l=!0,depthBuffer:u,disableNormalPass:c,stencilBuffer:d,multisampling:p=8,frameBufferType:m=ls}=t;const{gl:v,scene:y,camera:x,size:g}=yo();i=i||y,r=r||x;const[b,S,M]=T.useMemo(()=>{const R=EZ(),I=new gye(v,{depthBuffer:u,stencilBuffer:d,multisampling:p>0&&R?p:0,frameBufferType:m});I.addPass(new Gx(i,r));let P=null,B=null;return c||(B=new hye(i,r),B.enabled=!1,I.addPass(B),s!==void 0&&R&&(P=new q5({normalBuffer:B.texture,resolutionScale:s}),P.enabled=!1,I.addPass(P))),[I,B,P]},[r,v,u,d,p,m,i,c,s]);T.useEffect(()=>b==null?void 0:b.setSize(g.width,g.height),[b,g]),Gu((R,I)=>{o&&(v.autoClear=l,b.render(I))},o?a:0);const C=T.useRef(null);T.useLayoutEffect(()=>{let R;return C.current&&C.current.__r3f&&b&&(R=new cye(r,...C.current.__r3f.objects),R.renderToScreen=!0,b.addPass(R),S&&(S.enabled=!0),M&&(M.enabled=!0)),()=>{R&&(b==null||b.removePass(R)),S&&(S.enabled=!1),M&&(M.enabled=!1)}},[b,n,r,S,M]);const E=T.useMemo(()=>({composer:b,normalPass:S,downSamplingPass:M,resolutionScale:s,camera:r,scene:i}),[b,S,M,s,r,i]);return T.useImperativeHandle(e,()=>b,[b]),D.createElement(wC.Provider,{value:E},D.createElement("group",{ref:C},n))})),MC=T.createContext(null);function lxe(t){let{children:e,enabled:n=!0}=t;const[r,i]=T.useState([]),s=T.useMemo(()=>({selected:r,select:i,enabled:n}),[r,i,n]);return D.createElement(MC.Provider,{value:s},e)}function pt(t){let{enabled:e=!1,children:n,...r}=t;const i=T.useRef(null),s=T.useContext(MC);return T.useEffect(()=>{if(s&&e){let o=!1;const a=[];if(i.current.traverse(l=>{l.type==="Mesh"&&a.push(l),s.selected.indexOf(l)===-1&&(o=!0)}),o)return s.select(l=>[...l,...a]),()=>{s.select(l=>l.filter(u=>!a.includes(u)))}}},[e,n]),D.createElement("group",un({ref:i},r),n)}const uxe=T.forwardRef(function(e,n){let{selection:r=[],selectionLayer:i=10,blendFunction:s,patternTexture:o,edgeStrength:a,pulseSpeed:l,visibleEdgeColor:u,hiddenEdgeColor:c,width:d,height:p,kernelSize:m,blur:v,xRay:y,...x}=e;const g=yo(E=>E.invalidate),{scene:b,camera:S}=T.useContext(wC),M=T.useMemo(()=>new rxe(b,S,{blendFunction:s,patternTexture:o,edgeStrength:a,pulseSpeed:l,visibleEdgeColor:u,hiddenEdgeColor:c,width:d,height:p,kernelSize:m,blur:v,xRay:y,...x}),[s,v,S,a,p,c,m,o,l,b,u,d,y]),C=T.useContext(MC);return T.useEffect(()=>{if(!C&&r)return M.selection.set(Array.isArray(r)?r.map(tL):[tL(r)]),g(),()=>{M.selection.clear(),g()}},[M,r,C]),T.useEffect(()=>{M.selectionLayer=i,g()},[M,i]),T.useRef(),T.useEffect(()=>{if(C&&C.enabled){var E;if((E=C.selected)!=null&&E.length)return M.selection.set(C.selected),g(),()=>{M.selection.clear(),g()}}},[C]),D.createElement("primitive",{ref:n,object:M})}),cxe=T.forwardRef(function(e,n){const{camera:r,normalPass:i,downSamplingPass:s,resolutionScale:o}=T.useContext(wC),a=T.useMemo(()=>i===null&&s===null?(console.error("Please enable the NormalPass in the EffectComposer in order to use SSAO."),null):new sxe(r,i&&!s?i.texture:null,{blendFunction:Pt.MULTIPLY,samples:30,rings:4,distanceThreshold:1,distanceFalloff:0,rangeThreshold:.5,rangeFalloff:.1,luminanceInfluence:.9,radius:20,scale:.5,bias:.5,intensity:1,color:null,normalDepthBuffer:s?s.texture:null,resolutionScale:o??1,depthAwareUpsampling:!0,...e}),[r,i,e]);return D.createElement("primitive",{ref:n,object:a,dispose:null})});function fxe(t){var p,m,v,y,x,g,b,S,M,C,E,R,I,P,B,O,H,U,V,j,Z,ne,z,J,K,ie,re,se,le,Me,be,ee,Ve,We,we,Be,ye,ue,xe,Le,Re,qe,et,Ke,at,St;const e=Nm(Ci),n=km(`/${e.selectedDecal}.png`),{nodes:r,materials:i}=Ml("/CafeRacer.glb");Gu((k,F)=>{e.parts[0].value===!0&&du.dampC(i["Purple Glossy"].color,e.parts[0].color,.25,F),e.parts[1].value===!0&&du.dampC(i["Leather 01"].color,e.parts[1].color,.25,F),e.parts[2].value===!0&&du.dampC(i["Car Paint - Black Solid"].color,e.parts[2].color,.25,F),e.parts[3].value===!0&&du.dampC(i.Chrome.color,e.parts[3].color,.25,F)});const{decalPositionX:s,decalPositionY:o,decalPositionZ:a,decalRotationX:l,decalRotationY:u,decalRotationZ:c,decalScale:d}=Fve({decalPositionX:{value:.0054,min:-4,max:4,step:1e-4},decalPositionY:{value:.057,min:-4,max:4,step:1e-4},decalPositionZ:{value:-.016,min:-4,max:4,step:1e-4},decalRotationX:{value:-2.871,min:-4,max:4,step:.001},decalRotationY:{value:1.7929000000000002,min:-4,max:4,step:1e-4},decalRotationZ:{value:-.2721,min:-4,max:4,step:1e-4},decalScale:{value:-.0142,min:-4,max:4,step:1e-4}});return Rt("group",{...t,dispose:null,rotation:[0,Math.PI*-.5,0],position:[0,0,-3],scale:5,children:[W(Q5,{hidden:!0}),Rt("group",{children:[W(pt,{name:"tail",enabled:((p=e.parts.find(k=>k.label==="Body"))==null?void 0:p.value)??!1,children:W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["tanksCombined-Purple_Glossy"].geometry,material:i["Purple Glossy"],children:W(Wv,{position:[0,0,.35],rotation:[0,0,0],scale:d,opacity:1.7,map:n,"map-anisotropy":16})})}),W(pt,{name:"tank",enabled:((m=e.parts.find(k=>k.label==="Body"))==null?void 0:m.value)??!1,children:W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r["tanksCombined-Purple_Glossy_1"].geometry,material:i["Purple Glossy"],children:W(Wv,{position:[s,o,a],rotation:[l,u,c],scale:d,opacity:1.7,map:n,"map-anisotropy":16})})})]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder177_Cylinder264_remesh.geometry,material:i["Rubber - Black"],position:[0,0,0]}),"//Wheel Spokes",W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder062_Cylinder222_remesh.geometry,material:i.Chrome,position:[0,0,0]}),"//Wheel Spokes",W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder153_Cylinder221_remesh.geometry,material:i.Chrome,position:[0,0,0]}),W(pt,{name:"chrome",enabled:((v=e.parts.find(k=>k.label==="Chrome"))==null?void 0:v.value)??!1,children:W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cube028_Cube034_remesh.geometry,material:i.Chrome,position:[0,0,0]})}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cube001_remesh.geometry,material:i.Chrome,position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cube031_Cube033_remesh.geometry,material:i.Chrome,position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder053_Cylinder026_remesh.geometry,material:i.Chrome,position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cube029_Cube031_remesh.geometry,material:i.Chrome,position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cube005_Cube011_remesh.geometry,material:i["Rubber - Black"],position:[0,0,0]}),Rt(pt,{name:"chrome",enabled:((y=e.parts.find(k=>k.label==="Chrome"))==null?void 0:y.value)??!1,children:["//Foot Brakes",W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Plane012_Plane002_remesh.geometry,material:i.Chrome,position:[0,0,0]})]}),W(pt,{name:"carPaint",enabled:((x=e.parts.find(k=>k.label==="Frame and Engine"))==null?void 0:x.value)??!1,children:W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Plane001_Plane_remesh.geometry,material:i["Car Paint - Black Solid"],position:[0,0,0]})}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cube003_remesh.geometry,material:i["Rubber - Black"],position:[0,0,0]}),W(pt,{name:"carPaint",enabled:((g=e.parts.find(k=>k.label==="Frame and Engine"))==null?void 0:g.value)??!1,children:W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.frame_Mesh008_remesh.geometry,material:i["Car Paint - Black Solid"],position:[0,0,0]})}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.BezierCurve041_Mesh028_remesh.geometry,material:i["Rubber - Black"],position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.BezierCurve057_Mesh020_remesh.geometry,material:i["Rubber - Black"],position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.BezierCurve042_Mesh021_remesh.geometry,material:i["Rubber - Black"],position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.BezierCurve045_Mesh030_remesh.geometry,material:i["Rubber - Black"],position:[0,0,0]}),W(pt,{name:"carPaint",enabled:((b=e.parts.find(k=>k.label==="Frame and Engine"))==null?void 0:b.value)??!1,children:W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.BezierCurve043_Mesh022_remesh.geometry,material:i["Car Paint - Black Solid"],position:[0,0,0]})}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.BezierCurve040_Mesh027_remesh.geometry,material:i["Rubber - Black"],position:[0,0,0]}),"//Carburator Parts",Rt(pt,{name:"chrome",enabled:((S=e.parts.find(k=>k.label==="Chrome"))==null?void 0:S.value)??!1,children:[W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder180_Cylinder267_remesh.geometry,material:i.Chrome,position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder039_Cylinder055_remesh.geometry,material:i.Chrome,position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder038_remesh.geometry,material:i.Chrome,position:[0,0,0]})]}),Rt(pt,{name:"carPaint",enabled:((M=e.parts.find(k=>k.label==="Frame and Engine"))==null?void 0:M.value)??!1,children:[W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cube036_Cube016_remesh.geometry,material:i["Car Paint - Black Solid"],position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cube012_Cube009_remesh.geometry,material:i["Car Paint - Black Solid"],position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder275_Cylinder431_remesh.geometry,material:i["Car Paint - Black Solid"],position:[0,0,0]})]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder272_Cylinder427_remesh.geometry,material:i["Rubber - Black"],position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder212_Cylinder338_remesh.geometry,material:i["Rubber - Black"],position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder270_Cylinder425_remesh.geometry,material:i["Rubber - Black"],position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder251_Cylinder384_remesh.geometry,material:i["Rubber - Black"],position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder280_Cylinder436_remesh.geometry,material:i["Rubber - Black"],position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder271_Cylinder426_remesh.geometry,material:i["Rubber - Black"],position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.BezierCurve055_Mesh039_remesh.geometry,material:i["Rubber - Black"],position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder255_Cylinder390_remesh.geometry,material:i["Rubber - Black"],position:[0,0,0]}),Rt(pt,{name:"carPaint",enabled:((C=e.parts.find(k=>k.label==="Frame and Engine"))==null?void 0:C.value)??!1,children:[W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.BezierCurve053_Mesh005_remesh.geometry,material:i["Car Paint - Black Solid"],position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder234_Cylinder361_remesh.geometry,material:i["Car Paint - Black Solid"],position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder002_Cylinder001_remesh.geometry,material:i["Car Paint - Black Solid"],position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder105_Cylinder136_remesh.geometry,material:i["Car Paint - Black Solid"],position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder024_Cylinder003_remesh.geometry,material:i["Car Paint - Black Solid"],position:[0,0,0]})]}),Rt(pt,{name:"chrome",enabled:((E=e.parts.find(k=>k.label==="Chrome"))==null?void 0:E.value)??!1,children:["//Exhaust and Shocks",W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder012_Cylinder141_remesh.geometry,material:i.Chrome,position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder027_Cylinder008_remesh.geometry,material:i.Chrome,position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder011_Cylinder014_remesh.geometry,material:i.Chrome,position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.BezierCurve001_Mesh002_remesh.geometry,material:i.Chrome,position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.BezierCurve026_Mesh016_remesh.geometry,material:i.Chrome,position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.BezierCurve015_Mesh007_remesh.geometry,material:i.Chrome,position:[0,0,0]})]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder043_Cylinder046_remesh.geometry,material:i["Rubber - Black"],position:[0,0,0]}),W(pt,{name:"chrome",enabled:((R=e.parts.find(k=>k.label==="Chrome"))==null?void 0:R.value)??!1,children:W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder004_Cylinder005_remesh.geometry,material:i.Chrome,position:[0,0,0]})}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder179_Cylinder266_remesh.geometry,material:i["Rubber - Black"],position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder178_Cylinder265_remesh.geometry,material:i["Rubber - Black"],position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder173_Cylinder259_remesh.geometry,material:i["Rubber - Black"],position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder033_Cylinder041_remesh.geometry,material:r.Cylinder033_Cylinder041_remesh.material,position:[0,0,0]}),W(pt,{name:"chrome",enabled:((I=e.parts.find(k=>k.label==="Chrome"))==null?void 0:I.value)??!1,children:W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.BezierCurve019_Mesh013_remesh.geometry,material:i.Chrome,position:[0,0,0]})}),Rt(pt,{name:"carPaint",enabled:((P=e.parts.find(k=>k.label==="Frame and Engine"))==null?void 0:P.value)??!1,children:[W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cube006_Cube005_remesh.geometry,material:i["Car Paint - Black Solid"],position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.BezierCurve052_Mesh038_remesh.geometry,material:i["Rubber - Black"],position:[0,0,0]})]}),W(pt,{name:"chrome",enabled:((B=e.parts.find(k=>k.label==="Chrome"))==null?void 0:B.value)??!1,children:W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cube011_Cube002_remesh.geometry,material:i.Chrome,position:[0,0,0]})}),Rt(pt,{name:"carPaint",enabled:((O=e.parts.find(k=>k.label==="Frame and Engine"))==null?void 0:O.value)??!1,children:[W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.BezierCurve051_Mesh037_remesh.geometry,material:i["Car Paint - Black Solid"],position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.BezierCurve047_Mesh033_remesh.geometry,material:i["Car Paint - Black Solid"],position:[0,0,0]})]}),Rt(pt,{name:"chrome",enabled:((H=e.parts.find(k=>k.label==="Chrome"))==null?void 0:H.value)??!1,children:[W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cube002_Cube007_remesh.geometry,material:i.Chrome,position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cube_remesh.geometry,material:i.Chrome,position:[0,0,0]})]}),W(pt,{name:"carPaint",enabled:((U=e.parts.find(k=>k.label==="Frame and Engine"))==null?void 0:U.value)??!1,children:W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.BezierCurve049_Mesh034_remesh.geometry,material:i["Car Paint - Black Solid"],position:[0,0,0]})}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.BezierCurve038_Mesh029_remesh.geometry,material:i["Rubber - Black"],position:[0,0,0]}),W(pt,{name:"carPaint",enabled:((V=e.parts.find(k=>k.label==="Frame and Engine"))==null?void 0:V.value)??!1,children:W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.BezierCurve033_Mesh025_remesh.geometry,material:i["Car Paint - Black Solid"],position:[0,0,0]})}),Rt(pt,{name:"chrome",enabled:((j=e.parts.find(k=>k.label==="Chrome"))==null?void 0:j.value)??!1,children:[W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cube030_Cube036_remesh.geometry,material:i.Chrome,position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder109_Cylinder063_remesh.geometry,material:i.Chrome,position:[0,0,0]})]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cube035_Cube014_remesh.geometry,material:r.Cube035_Cube014_remesh.material,position:[0,0,0]}),W(pt,{name:"seat",enabled:((Z=e.parts.find(k=>k.label==="Seat"))==null?void 0:Z.value)??!1,children:W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cube008_Cube019_remesh.geometry,material:i["Leather 01"],position:[0,0,0]})}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cube019_Cube047_remesh.geometry,material:i["Rubber - Black"],position:[0,0,0]}),W(pt,{name:"seat",enabled:((ne=e.parts.find(k=>k.label==="Seat"))==null?void 0:ne.value)??!1,children:W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cube007_Cube018_remesh.geometry,material:i["Leather 01"],position:[0,0,0]})}),Rt(pt,{name:"carPaint",enabled:((z=e.parts.find(k=>k.label==="Frame and Engine"))==null?void 0:z.value)??!1,children:[W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder015_Cylinder020_remesh.geometry,material:i["Car Paint - Black Solid"],position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder051_Cylinder025_remesh.geometry,material:i["Car Paint - Black Solid"],position:[0,0,0]})]}),W(pt,{name:"sidePanel",enabled:((J=e.parts.find(k=>k.label==="Body"))==null?void 0:J.value)??!1,children:W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cube023_Cube004_remesh.geometry,material:i["Purple Glossy"],position:[0,0,0],children:W(Wv,{position:[0,0,0],rotation:[0,0,0],scale:.05,opacity:.9,map:n,"map-anisotropy":16})})}),W(pt,{name:"carPaint",enabled:((K=e.parts.find(k=>k.label==="Frame and Engine"))==null?void 0:K.value)??!1,children:W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cube032_Cube038_remesh.geometry,material:i["Car Paint - Black Solid"],position:[0,0,0]})}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder250_Cylinder383_remesh.geometry,material:i["Rubber - Black"],position:[0,0,0]}),W(pt,{name:"carPaint",enabled:((ie=e.parts.find(k=>k.label==="Frame and Engine"))==null?void 0:ie.value)??!1,children:W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder244_Cylinder376_remesh.geometry,material:i["Car Paint - Black Solid"],position:[0,0,0]})}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Plane018_Plane017_remesh.geometry,material:i["Rubber - Black"],position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder253_Cylinder388_remesh.geometry,material:i["Rubber - Black"],position:[0,0,0]}),W(pt,{name:"carPaint",enabled:((re=e.parts.find(k=>k.label==="Frame and Engine"))==null?void 0:re.value)??!1,children:W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder247_Cylinder380_remesh.geometry,material:i["Car Paint - Black Solid"],position:[0,0,0]})}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder277_Cylinder433_remesh.geometry,material:i.Glass,position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder276_Cylinder432_remesh.geometry,material:i.Glass,position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder278_Cylinder434_remesh.geometry,material:i.Glass,position:[0,0,0]}),W(pt,{name:"chrome",enabled:((se=e.parts.find(k=>k.label==="Chrome"))==null?void 0:se.value)??!1,children:W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder156_Cylinder232_remesh.geometry,material:i.Chrome,position:[0,0,0]})}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Plane003_Plane005_remesh.geometry,material:i.Glass,position:[0,0,0]}),Rt(pt,{name:"chrome",enabled:((le=e.parts.find(k=>k.label==="Chrome"))==null?void 0:le.value)??!1,children:[W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder156_Cylinder232_remesh_1.geometry,material:i.Chrome,position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder155_Cylinder231_remesh.geometry,material:i.Chrome,position:[0,0,0]})]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Plane016_Plane020_remesh.geometry,material:i.Glass,position:[0,0,0]}),W(pt,{name:"carPaint",enabled:((Me=e.parts.find(k=>k.label==="Frame and Engine"))==null?void 0:Me.value)??!1,children:W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder143_Cylinder208_remesh.geometry,material:i["Car Paint - Black Solid"],position:[0,0,0]})}),Rt(pt,{name:"chrome",enabled:((be=e.parts.find(k=>k.label==="Chrome"))==null?void 0:be.value)??!1,children:[W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder283_Cylinder439_remesh.geometry,material:i.Chrome,position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder124_Cylinder184_remesh.geometry,material:i.Chrome,position:[0,0,0]})]}),Rt(pt,{name:"carPaint",enabled:((ee=e.parts.find(k=>k.label==="Frame and Engine"))==null?void 0:ee.value)??!1,children:[W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder_remesh.geometry,material:i["Car Paint - Black Solid"],position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Plane011_Plane012_remesh.geometry,material:i["Car Paint - Black Solid"],position:[0,0,0]})]}),W(pt,{name:"chrome",enabled:((Ve=e.parts.find(k=>k.label==="Chrome"))==null?void 0:Ve.value)??!1,children:W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder006_Cylinder012_remesh.geometry,material:i.Chrome,position:[0,0,0]})}),Rt(pt,{name:"carPaint",enabled:((We=e.parts.find(k=>k.label==="Frame and Engine"))==null?void 0:We.value)??!1,children:[W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Plane_Plane016_remesh.geometry,material:i["Car Paint - Black Solid"],position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cube022_Cube013_remesh.geometry,material:i["Car Paint - Black Solid"],position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cube010_remesh.geometry,material:i["Car Paint - Black Solid"],position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.frame002_Mesh010_remesh.geometry,material:i["Car Paint - Black Solid"],position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.frame001_Mesh009_remesh.geometry,material:i["Car Paint - Black Solid"],position:[0,0,0]})]}),Rt(pt,{name:"chrome",enabled:((we=e.parts.find(k=>k.label==="Chrome"))==null?void 0:we.value)??!1,children:[W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder026_Cylinder029_remesh.geometry,material:i.Chrome,position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder021_Cylinder011_remesh.geometry,material:i.Chrome,position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.frame004_Mesh017_remesh.geometry,material:i.Chrome,position:[0,0,0]})]}),W(pt,{name:"carPaint",enabled:((Be=e.parts.find(k=>k.label==="Frame and Engine"))==null?void 0:Be.value)??!1,children:W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cube009_Cube026_remesh.geometry,material:i["Car Paint - Black Solid"],position:[0,0,0]})}),W(pt,{name:"chrome",enabled:((ye=e.parts.find(k=>k.label==="Chrome"))==null?void 0:ye.value)??!1,children:W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder175_Cylinder262_remesh.geometry,material:i.Chrome,position:[0,0,0]})}),W(pt,{name:"carPaint",enabled:((ue=e.parts.find(k=>k.label==="Frame and Engine"))==null?void 0:ue.value)??!1,children:W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.frame003_Mesh011_remesh.geometry,material:i["Car Paint - Black Solid"],position:[0,0,0]})}),W(pt,{name:"chrome",enabled:((xe=e.parts.find(k=>k.label==="Chrome"))==null?void 0:xe.value)??!1,children:W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder005_Cylinder028_remesh.geometry,material:i.Chrome,position:[0,0,0]})}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder072_Cylinder091_remesh.geometry,material:i["Rubber - Black"],position:[0,0,0]}),Rt(pt,{name:"chrome",enabled:((Le=e.parts.find(k=>k.label==="Chrome"))==null?void 0:Le.value)??!1,children:[W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder059_Cylinder043_remesh.geometry,material:i.Chrome,position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder137_Cylinder201_remesh.geometry,material:i.Chrome,position:[0,0,0]})]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder013_Cylinder022_remesh.geometry,material:i["Rubber - Black"],position:[0,-4e-4,-7e-4]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder216_Cylinder342_remesh.geometry,material:i["Rubber - Black"],position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.BezierCurve036_Mesh024_remesh.geometry,material:i["Rubber - Black"],position:[0,0,0]}),W(pt,{name:"chrome",enabled:((Re=e.parts.find(k=>k.label==="Chrome"))==null?void 0:Re.value)??!1,children:W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder206_Cylinder321_remesh.geometry,material:i.Chrome,position:[0,0,0]})}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder220_Cylinder346_remesh.geometry,material:i["Rubber - Black"],position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder017_Cylinder031_remesh.geometry,material:i["Rubber - Black"],position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder214_Cylinder340_remesh.geometry,material:i["Rubber - Black"],position:[0,0,0]}),W(pt,{name:"chrome",enabled:((qe=e.parts.find(k=>k.label==="Chrome"))==null?void 0:qe.value)??!1,children:W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder008_Cylinder021_remesh.geometry,material:i.Chrome,position:[0,0,0]})}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder264_Cylinder418_remesh.geometry,material:i["Rubber - Black"],position:[0,0,0]}),Rt(pt,{name:"chrome",enabled:((et=e.parts.find(k=>k.label==="Chrome"))==null?void 0:et.value)??!1,children:[W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder224_Cylinder350_remesh.geometry,material:i.Chrome,position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder203_Cylinder317_remesh.geometry,material:i.Chrome,position:[0,0,0]})]}),W(pt,{name:"carPaint",enabled:((Ke=e.parts.find(k=>k.label==="Frame and Engine"))==null?void 0:Ke.value)??!1,children:W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.BezierCurve024_Mesh003_remesh.geometry,material:i["Car Paint - Black Solid"],position:[0,0,0]})}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder221_Cylinder347_remesh.geometry,material:i["Rubber - Black"],position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.BezierCurve034_Mesh023_remesh.geometry,material:i["Rubber - Black"],position:[0,0,0]}),Rt(pt,{name:"chrome",enabled:((at=e.parts.find(k=>k.label==="Chrome"))==null?void 0:at.value)??!1,children:[W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder227_Cylinder353_remesh.geometry,material:i.Chrome,position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder213_Cylinder339_remesh.geometry,material:i.Chrome,position:[0,0,0]})]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder025_Cylinder006_remesh.geometry,material:i["Rubber - Black"],position:[0,-28e-5,-1e-4]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder025_Cylinder006_remesh_1.geometry,material:i["Rubber - Black"],position:[0,3e-4,-.102]}),Rt(pt,{name:"chrome",enabled:((St=e.parts.find(k=>k.label==="Chrome"))==null?void 0:St.value)??!1,children:[W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder295_Cylinder458_remesh.geometry,material:i.Chrome,position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder164_Cylinder239_remesh.geometry,material:i.Chrome,position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder169_Cylinder253_remesh.geometry,material:i.Chrome,position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder009_Cylinder013_remesh.geometry,material:i.Chrome,position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder001_Cylinder009_remesh.geometry,material:i.Chrome,position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder192_Cylinder280_remesh.geometry,material:i.Chrome,position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder108_Cylinder037_remesh.geometry,material:i.Chrome,position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder107_Cylinder004_remesh.geometry,material:i.Chrome,position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder142_Cylinder207_remesh.geometry,material:i.Chrome,position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Sphere000_remesh.geometry,material:i.Chrome,position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder018_remesh.geometry,material:i.Chrome,position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder031_Cylinder010_remesh.geometry,material:i.Chrome,position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder029_Cylinder052_remesh.geometry,material:i.Chrome,position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Sphere001_Sphere002_remesh.geometry,material:i.Chrome,position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder170_Cylinder255_remesh.geometry,material:i.Chrome,position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder281_Cylinder437_remesh.geometry,material:i.Chrome,position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder285_Cylinder441_remesh.geometry,material:i.Chrome,position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder267_Cylinder421_remesh.geometry,material:i.Chrome,position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder030_Cylinder023_remesh.geometry,material:i.Chrome,position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder042_Cylinder030_remesh.geometry,material:i.Chrome,position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder172_Cylinder258_remesh.geometry,material:i.Chrome,position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder014_Cylinder047_remesh.geometry,material:i.Chrome,position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder010_Cylinder017_remesh.geometry,material:i.Chrome,position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder174_Cylinder261_remesh.geometry,material:i.Chrome,position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder022_Cylinder049_remesh.geometry,material:i.Chrome,position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder035_Cylinder019_remesh.geometry,material:i.Chrome,position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Sphere002_Sphere001_remesh.geometry,material:i.Chrome,position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder003_Cylinder002_remesh.geometry,material:i.Chrome,position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder007_remesh.geometry,material:i.Chrome,position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder020_Cylinder024_remesh.geometry,material:i.Chrome,position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder049_Cylinder050_remesh.geometry,material:i.Chrome,position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder183_Cylinder271_remesh.geometry,material:i.Chrome,position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder058_Cylinder103_remesh.geometry,material:i.Chrome,position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder198_Cylinder312_remesh.geometry,material:i.Chrome,position:[0,0,0]}),W("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Cylinder028_Cylinder015_remesh.geometry,material:i.Chrome,position:[0,0,0]})]})]})}Ml.preload("/CafeRacer.glb");["decals/004.png","decals/011.png","decals/021.png","decals/030.png","decals/031.png","decals/033.png","decals/044.png"].forEach(km.preload);function dxe({children:t}){const e=T.useRef(),n=Nm(Ci);return Gu((r,i)=>{du.damp3(r.camera.position,n.intro?[0,r.viewport.width*.023,2.5]:[0,-r.viewport.width/12,1.8],.9,i),du.dampE(r.camera.rotation,n.intro?[.1,0,Math.PI*-.5]:[.18,0,0],.9,i),du.dampE(e.current.rotation,[-r.pointer.y/4,r.pointer.x/5,0],.25,i)}),W("group",{ref:e,children:t})}function hxe({index:t,z:e,speed:n,scale:r}){const i=T.useRef(),{nodes:s,materials:o}=Ml("/cloud1.glb"),{viewport:a,camera:l,mouse:u}=yo(),{width:c,height:d}=a.getCurrentViewport(l,[0,0,e]),[p]=T.useState({x:lo.randFloatSpread(2),y:lo.randFloatSpread(d+10),rX:Math.random()*Math.PI,rY:Math.random()*Math.PI,rZ:Math.random()*Math.PI});return Gu(m=>{i.current.rotation.set(0,p.rY+=.003,0),i.current.position.set(p.x-=.019*n,p.y,e),p.x<-c-.8&&(p.x=c/.46,p.y=p.y*Math.floor(Math.random()*1.3)+1)}),W("mesh",{ref:i,position:[0,0,0],children:W("group",{dispose:null,children:W("mesh",{castShadow:!0,receiveShadow:!0,geometry:s.stylized_static_cloud_004_mesh.geometry,material:o.stylized_static_cloud,position:[.97,0,-.51]})})})}Ml.preload("/cloud1.glb");function pxe({index:t,z:e,speed:n,scale:r}){const i=T.useRef(),{nodes:s,materials:o}=Ml("/cloud1.glb"),{viewport:a,camera:l,mouse:u}=yo(),{width:c,height:d}=a.getCurrentViewport(l,[0,0,e]),[p]=T.useState({x:lo.randFloatSpread(2),y:lo.randFloatSpread(d+10),rX:Math.random()*Math.PI,rY:Math.random()*Math.PI,rZ:Math.random()*Math.PI});return Gu(m=>{i.current.rotation.set(0,p.rY+=.0033,0),i.current.position.set(p.x-=.019*n,p.y,e),p.x<-c-.8&&(p.x=c/.46,p.y=p.y*Math.floor(Math.random()*1.3)+1)}),W("mesh",{ref:i,position:[0,0,0],children:W("group",{dispose:null,children:W("mesh",{castShadow:!0,receiveShadow:!0,geometry:s.stylized_static_cloud_004_mesh.geometry,material:o.stylized_static_cloud,position:[.97,0,-.51]})})})}Ml.preload("/cloud1.glb");const mxe=()=>{const t=km("decals/059.png");return Rt("mesh",{castShadow:!1,receiveShadow:!0,position:[0,0,-3.4],rotation:[0,0,-Math.PI*.5],children:[W("planeGeometry",{args:[6,6]}),W("meshStandardMaterial",{color:"#FFFFF0",roughness:1,metalness:1}),W(Wv,{position:[-.2,-.4,-.35],rotation:[0,0,0],scale:1,opacity:1.7,map:t,"map-anisotropy":16})]})},gxe=({position:t=[0,0,1.6],fov:e=25,cloudCount:n=2,depth:r=3})=>{const i=Nm(Ci),[s,o]=T.useState(0),[a,l]=T.useState(1);return T.useEffect(()=>{i.intro?l(1):l(0)},[Ci.intro]),Rt(hQ,{shadows:!0,gl:{preserveDrawingBuffer:!0},eventSource:document.getElementById("root"),eventPrefix:"client",camera:{position:t,fov:e},children:[W("ambientLight",{intensity:.4}),W(vfe,{preset:"sunset"}),W(dxe,{children:W(lfe,{children:Rt(lxe,{children:[Rt(axe,{autoClear:!1,children:[W(cxe,{radius:s,intensity:4,luminanceInfluence:.5,color:"black"}),W(uxe,{visibleEdgeColor:"orange",hiddenEdgeColor:"orange",blur:!0,edgeStrength:80})]}),Rt(ffe,{fit:!0,clip:!0,margin:1.2,damping:0,onFit:u=>o(u.distance/4e3),children:[W(fxe,{recieveShadow:!0}),W(mxe,{}),W("directionalLight",{position:[0,1,5],intensity:.7,castShadow:!0,"shadow-mapSize":[1024,1024],"shadow-camera-near":1,"shadow-camera-far":10,"shadow-camera-top":5,"shadow-camera-right":5,"shadow-camera-bottom":-5,"shadow-camera-left":-5,penumbra:.5})]})]})})}),Array.from({length:n},(u,c)=>W(hxe,{z:-(c/n)*r,speed:a,scale:Math.floor(Math.random()*3+.02),receiveShadow:!1},c)),Array.from({length:n},(u,c)=>W(pxe,{z:-(c/n)*r,speed:a,scale:Math.floor(Math.random()*3+.02),receiveShadow:!1},c))]})};var nH={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},nL=D.createContext&&D.createContext(nH),il=globalThis&&globalThis.__assign||function(){return il=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},il.apply(this,arguments)},vxe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function rH(t){return t&&t.map(function(e,n){return D.createElement(e.tag,il({key:n},e.attr),rH(e.child))})}function AC(t){return function(e){return D.createElement(yxe,il({attr:il({},t.attr)},e),rH(t.child))}}function yxe(t){var e=function(n){var r=t.attr,i=t.size,s=t.title,o=vxe(t,["attr","size","title"]),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),D.createElement("svg",il({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:il(il({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&D.createElement("title",null,s),t.children)};return nL!==void 0?D.createElement(nL.Consumer,null,function(n){return e(n)}):e(nH)}function xxe(t){return AC({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M864 260H728l-32.4-90.8a32.07 32.07 0 0 0-30.2-21.2H358.6c-13.5 0-25.6 8.5-30.1 21.2L296 260H160c-44.2 0-80 35.8-80 80v456c0 44.2 35.8 80 80 80h704c44.2 0 80-35.8 80-80V340c0-44.2-35.8-80-80-80zM512 716c-88.4 0-160-71.6-160-160s71.6-160 160-160 160 71.6 160 160-71.6 160-160 160zm-96-160a96 96 0 1 0 192 0 96 96 0 1 0-192 0z"}}]})(t)}function _xe(t){return AC({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 0 0 0 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]})(t)}function Sxe(t){return AC({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M957.6 507.4L603.2 158.2a7.9 7.9 0 0 0-11.2 0L353.3 393.4a8.03 8.03 0 0 0-.1 11.3l.1.1 40 39.4-117.2 115.3a8.03 8.03 0 0 0-.1 11.3l.1.1 39.5 38.9-189.1 187H72.1c-4.4 0-8.1 3.6-8.1 8V860c0 4.4 3.6 8 8 8h344.9c2.1 0 4.1-.8 5.6-2.3l76.1-75.6 40.4 39.8a7.9 7.9 0 0 0 11.2 0l117.1-115.6 40.1 39.5a7.9 7.9 0 0 0 11.2 0l238.7-235.2c3.4-3 3.4-8 .3-11.2zM389.8 796.2H229.6l134.4-133 80.1 78.9-54.3 54.1zm154.8-62.1L373.2 565.2l68.6-67.6 171.4 168.9-68.6 67.6zM713.1 658L450.3 399.1 597.6 254l262.8 259-147.3 145z"}}]})(t)}const iH=T.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),$x=T.createContext({}),Vx=T.createContext(null),Wx=typeof document<"u",Ly=Wx?T.useLayoutEffect:T.useEffect,sH=T.createContext({strict:!1});function bxe(t,e,n,r){const{visualElement:i}=T.useContext($x),s=T.useContext(sH),o=T.useContext(Vx),a=T.useContext(iH).reducedMotion,l=T.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const u=l.current;return T.useInsertionEffect(()=>{u&&u.update(n,o)}),Ly(()=>{u&&u.render()}),T.useEffect(()=>{u&&u.updateFeatures()}),(window.HandoffAppearAnimations?Ly:T.useEffect)(()=>{u&&u.animationState&&u.animationState.animateChanges()}),u}function Af(t){return typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function wxe(t,e,n){return T.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Af(n)&&(n.current=r))},[e])}function rm(t){return typeof t=="string"||Array.isArray(t)}function jx(t){return typeof t=="object"&&typeof t.start=="function"}const EC=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],CC=["initial",...EC];function Jx(t){return jx(t.animate)||CC.some(e=>rm(t[e]))}function oH(t){return!!(Jx(t)||t.variants)}function Mxe(t,e){if(Jx(t)){const{initial:n,animate:r}=t;return{initial:n===!1||rm(n)?n:void 0,animate:rm(r)?r:void 0}}return t.inherit!==!1?e:{}}function Axe(t){const{initial:e,animate:n}=Mxe(t,T.useContext($x));return T.useMemo(()=>({initial:e,animate:n}),[rL(e),rL(n)])}function rL(t){return Array.isArray(t)?t.join(" "):t}const iL={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},im={};for(const t in iL)im[t]={isEnabled:e=>iL[t].some(n=>!!e[n])};function Exe(t){for(const e in t)im[e]={...im[e],...t[e]}}function TC(t){const e=T.useRef(null);return e.current===null&&(e.current=t()),e.current}const gp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let Cxe=1;function Txe(){return TC(()=>{if(gp.hasEverUpdated)return Cxe++})}const PC=T.createContext({}),aH=T.createContext({}),Pxe=Symbol.for("motionComponentSymbol");function Rxe({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&Exe(t);function s(a,l){let u;const c={...T.useContext(iH),...a,layoutId:Bxe(a)},{isStatic:d}=c,p=Axe(a),m=d?void 0:Txe(),v=r(a,d);if(!d&&Wx){p.visualElement=bxe(i,v,c,e);const y=T.useContext(aH),x=T.useContext(sH).strict;p.visualElement&&(u=p.visualElement.loadFeatures(c,x,t,m,y))}return T.createElement($x.Provider,{value:p},u&&p.visualElement?T.createElement(u,{visualElement:p.visualElement,...c}):null,n(i,a,m,wxe(v,p.visualElement,l),v,d,p.visualElement))}const o=T.forwardRef(s);return o[Pxe]=i,o}function Bxe({layoutId:t}){const e=T.useContext(PC).id;return e&&t!==void 0?e+"-"+t:t}function Ixe(t){function e(r,i={}){return Rxe(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const Dxe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function RC(t){return typeof t!="string"||t.includes("-")?!1:!!(Dxe.indexOf(t)>-1||/[A-Z]/.test(t))}const Oy={};function Lxe(t){Object.assign(Oy,t)}const Kx=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Wu=new Set(Kx);function lH(t,{layout:e,layoutId:n}){return Wu.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Oy[t]||t==="opacity")}const mi=t=>!!(t&&t.getVelocity),Oxe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Fxe=Kx.length;function kxe(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let s="";for(let o=0;o<Fxe;o++){const a=Kx[o];if(t[a]!==void 0){const l=Oxe[a]||a;s+=`${l}(${t[a]}) `}}return e&&!t.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(t,r?"":s):n&&r&&(s="none"),s}const uH=t=>e=>typeof e=="string"&&e.startsWith(t),cH=uH("--"),TM=uH("var(--"),Nxe=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Lu=(t,e,n)=>Math.min(Math.max(n,t),e),ju={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},vp={...ju,transform:t=>Lu(0,1,t)},vv={...ju,default:1},yp=t=>Math.round(t*1e5)/1e5,sm=/(-)?([\d]*\.?[\d])+/g,PM=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Uxe=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Vm(t){return typeof t=="string"}const Wm=t=>({test:e=>Vm(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Fa=Wm("deg"),po=Wm("%"),ct=Wm("px"),zxe=Wm("vh"),Hxe=Wm("vw"),sL={...po,parse:t=>po.parse(t)/100,transform:t=>po.transform(t*100)},oL={...ju,transform:Math.round},fH={borderWidth:ct,borderTopWidth:ct,borderRightWidth:ct,borderBottomWidth:ct,borderLeftWidth:ct,borderRadius:ct,radius:ct,borderTopLeftRadius:ct,borderTopRightRadius:ct,borderBottomRightRadius:ct,borderBottomLeftRadius:ct,width:ct,maxWidth:ct,height:ct,maxHeight:ct,size:ct,top:ct,right:ct,bottom:ct,left:ct,padding:ct,paddingTop:ct,paddingRight:ct,paddingBottom:ct,paddingLeft:ct,margin:ct,marginTop:ct,marginRight:ct,marginBottom:ct,marginLeft:ct,rotate:Fa,rotateX:Fa,rotateY:Fa,rotateZ:Fa,scale:vv,scaleX:vv,scaleY:vv,scaleZ:vv,skew:Fa,skewX:Fa,skewY:Fa,distance:ct,translateX:ct,translateY:ct,translateZ:ct,x:ct,y:ct,z:ct,perspective:ct,transformPerspective:ct,opacity:vp,originX:sL,originY:sL,originZ:ct,zIndex:oL,fillOpacity:vp,strokeOpacity:vp,numOctaves:oL};function BC(t,e,n,r){const{style:i,vars:s,transform:o,transformOrigin:a}=t;let l=!1,u=!1,c=!0;for(const d in e){const p=e[d];if(cH(d)){s[d]=p;continue}const m=fH[d],v=Nxe(p,m);if(Wu.has(d)){if(l=!0,o[d]=v,!c)continue;p!==(m.default||0)&&(c=!1)}else d.startsWith("origin")?(u=!0,a[d]=v):i[d]=v}if(e.transform||(l||r?i.transform=kxe(t.transform,n,c,r):i.transform&&(i.transform="none")),u){const{originX:d="50%",originY:p="50%",originZ:m=0}=a;i.transformOrigin=`${d} ${p} ${m}`}}const IC=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function dH(t,e,n){for(const r in e)!mi(e[r])&&!lH(r,n)&&(t[r]=e[r])}function Gxe({transformTemplate:t},e,n){return T.useMemo(()=>{const r=IC();return BC(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function $xe(t,e,n){const r=t.style||{},i={};return dH(i,r,t),Object.assign(i,Gxe(t,e,n)),t.transformValues?t.transformValues(i):i}function Vxe(t,e,n){const r={},i=$xe(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const Wxe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function Fy(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||Wxe.has(t)}let hH=t=>!Fy(t);function jxe(t){t&&(hH=e=>e.startsWith("on")?!Fy(e):t(e))}try{jxe(require("@emotion/is-prop-valid").default)}catch{}function Jxe(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(hH(i)||n===!0&&Fy(i)||!e&&!Fy(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function aL(t,e,n){return typeof t=="string"?t:ct.transform(e+n*t)}function Kxe(t,e,n){const r=aL(e,t.x,t.width),i=aL(n,t.y,t.height);return`${r} ${i}`}const Xxe={offset:"stroke-dashoffset",array:"stroke-dasharray"},Yxe={offset:"strokeDashoffset",array:"strokeDasharray"};function Qxe(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?Xxe:Yxe;t[s.offset]=ct.transform(-r);const o=ct.transform(e),a=ct.transform(n);t[s.array]=`${o} ${a}`}function DC(t,{attrX:e,attrY:n,originX:r,originY:i,pathLength:s,pathSpacing:o=1,pathOffset:a=0,...l},u,c,d){if(BC(t,l,u,d),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:m,dimensions:v}=t;p.transform&&(v&&(m.transform=p.transform),delete p.transform),v&&(r!==void 0||i!==void 0||m.transform)&&(m.transformOrigin=Kxe(v,r!==void 0?r:.5,i!==void 0?i:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),s!==void 0&&Qxe(p,s,o,a,!1)}const pH=()=>({...IC(),attrs:{}}),LC=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Zxe(t,e,n,r){const i=T.useMemo(()=>{const s=pH();return DC(s,e,{enableHardwareAcceleration:!1},LC(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};dH(s,t.style,t),i.style={...s,...i.style}}return i}function qxe(t=!1){return(n,r,i,s,{latestValues:o},a)=>{const u=(RC(n)?Zxe:Vxe)(r,o,a,n),d={...Jxe(r,typeof n=="string",t),...u,ref:s},{children:p}=r,m=T.useMemo(()=>mi(p)?p.get():p,[p]);return i&&(d["data-projection-id"]=i),T.createElement(n,{...d,children:m})}}const OC=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function mH(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const gH=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function vH(t,e,n,r){mH(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(gH.has(i)?i:OC(i),e.attrs[i])}function FC(t,e){const{style:n}=t,r={};for(const i in n)(mi(n[i])||e.style&&mi(e.style[i])||lH(i,t))&&(r[i]=n[i]);return r}function yH(t,e){const n=FC(t,e);for(const r in t)if(mi(t[r])||mi(e[r])){const i=r==="x"||r==="y"?"attr"+r.toUpperCase():r;n[i]=t[r]}return n}function kC(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}const ky=t=>Array.isArray(t),e1e=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),t1e=t=>ky(t)?t[t.length-1]||0:t;function jv(t){const e=mi(t)?t.get():t;return e1e(e)?e.toValue():e}function n1e({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const o={latestValues:r1e(r,i,s,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const xH=t=>(e,n)=>{const r=T.useContext($x),i=T.useContext(Vx),s=()=>n1e(t,e,r,i);return n?s():TC(s)};function r1e(t,e,n,r){const i={},s=r(t,{});for(const p in s)i[p]=jv(s[p]);let{initial:o,animate:a}=t;const l=Jx(t),u=oH(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let c=n?n.initial===!1:!1;c=c||o===!1;const d=c?a:o;return d&&typeof d!="boolean"&&!jx(d)&&(Array.isArray(d)?d:[d]).forEach(m=>{const v=kC(t,m);if(!v)return;const{transitionEnd:y,transition:x,...g}=v;for(const b in g){let S=g[b];if(Array.isArray(S)){const M=c?S.length-1:0;S=S[M]}S!==null&&(i[b]=S)}for(const b in y)i[b]=y[b]}),i}const i1e={useVisualState:xH({scrapeMotionValuesFromProps:yH,createRenderState:pH,onMount:(t,e,{renderState:n,latestValues:r})=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}DC(n,r,{enableHardwareAcceleration:!1},LC(e.tagName),t.transformTemplate),vH(e,n)}})},s1e={useVisualState:xH({scrapeMotionValuesFromProps:FC,createRenderState:IC})};function o1e(t,{forwardMotionProps:e=!1},n,r){return{...RC(t)?i1e:s1e,preloadedFeatures:n,useRender:qxe(e),createVisualElement:r,Component:t}}function Yo(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const _H=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Xx(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const a1e=t=>e=>_H(e)&&t(e,Xx(e));function qo(t,e,n,r){return Yo(t,e,a1e(n),r)}const l1e=(t,e)=>n=>e(t(n)),sl=(...t)=>t.reduce(l1e);function SH(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const lL=SH("dragHorizontal"),uL=SH("dragVertical");function bH(t){let e=!1;if(t==="y")e=uL();else if(t==="x")e=lL();else{const n=lL(),r=uL();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function wH(){const t=bH(!0);return t?(t(),!1):!0}class Al{constructor(e){this.isMounted=!1,this.node=e}update(){}}function u1e(t){let e=[],n=[],r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,u=!1,c=!1)=>{const d=c&&i,p=d?e:n;return u&&o.add(l),p.indexOf(l)===-1&&(p.push(l),d&&i&&(r=e.length)),l},cancel:l=>{const u=n.indexOf(l);u!==-1&&n.splice(u,1),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,n]=[n,e],n.length=0,r=e.length,r)for(let u=0;u<r;u++){const c=e[u];c(l),o.has(c)&&(a.schedule(c),t())}i=!1,s&&(s=!1,a.process(l))}};return a}const Lr={delta:0,timestamp:0,isProcessing:!1},c1e=40;let RM=!0,om=!1;const jm=["read","update","preRender","render","postRender"],Yx=jm.reduce((t,e)=>(t[e]=u1e(()=>om=!0),t),{}),_n=jm.reduce((t,e)=>{const n=Yx[e];return t[e]=(r,i=!1,s=!1)=>(om||d1e(),n.schedule(r,i,s)),t},{}),pl=jm.reduce((t,e)=>(t[e]=Yx[e].cancel,t),{}),VS=jm.reduce((t,e)=>(t[e]=()=>Yx[e].process(Lr),t),{}),f1e=t=>Yx[t].process(Lr),MH=t=>{om=!1,Lr.delta=RM?1e3/60:Math.max(Math.min(t-Lr.timestamp,c1e),1),Lr.timestamp=t,Lr.isProcessing=!0,jm.forEach(f1e),Lr.isProcessing=!1,om&&(RM=!1,requestAnimationFrame(MH))},d1e=()=>{om=!0,RM=!0,Lr.isProcessing||requestAnimationFrame(MH)};function cL(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(s,o)=>{if(s.type==="touch"||wH())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&_n.update(()=>a[r](s,o))};return qo(t.current,n,i,{passive:!t.getProps()[r]})}class h1e extends Al{mount(){this.unmount=sl(cL(this.node,!0),cL(this.node,!1))}unmount(){}}class p1e extends Al{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=sl(Yo(this.node.current,"focus",()=>this.onFocus()),Yo(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const AH=(t,e)=>e?t===e?!0:AH(t,e.parentElement):!1,fr=t=>t;function WS(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Xx(n))}class m1e extends Al{constructor(){super(...arguments),this.removeStartListeners=fr,this.removeEndListeners=fr,this.removeAccessibleListeners=fr,this.startPointerPress=(e,n)=>{if(this.removeEndListeners(),this.isPressing)return;const r=this.node.getProps(),s=qo(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:c}=this.node.getProps();_n.update(()=>{AH(this.node.current,a.target)?u&&u(a,l):c&&c(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=qo(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=sl(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||WS("up",(l,u)=>{const{onTap:c}=this.node.getProps();c&&_n.update(()=>c(l,u))})};this.removeEndListeners(),this.removeEndListeners=Yo(this.node.current,"keyup",o),WS("down",(a,l)=>{this.startPress(a,l)})},n=Yo(this.node.current,"keydown",e),r=()=>{this.isPressing&&WS("cancel",(s,o)=>this.cancelPress(s,o))},i=Yo(this.node.current,"blur",r);this.removeAccessibleListeners=sl(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&_n.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!wH()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&_n.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=qo(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Yo(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=sl(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const BM=new WeakMap,jS=new WeakMap,g1e=t=>{const e=BM.get(t.target);e&&e(t)},v1e=t=>{t.forEach(g1e)};function y1e({root:t,...e}){const n=t||document;jS.has(n)||jS.set(n,{});const r=jS.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(v1e,{root:t,...e})),r[i]}function x1e(t,e,n){const r=y1e(e);return BM.set(t,n),r.observe(t),()=>{BM.delete(t),r.unobserve(t)}}const _1e={some:0,all:1};class S1e extends Al{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:_1e[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:d}=this.node.getProps(),p=u?c:d;p&&p(l)};return x1e(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(b1e(e,n))&&this.startObserver()}unmount(){}}function b1e({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const w1e={inView:{Feature:S1e},tap:{Feature:m1e},focus:{Feature:p1e},hover:{Feature:h1e}};function EH(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function M1e(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function A1e(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function Qx(t,e,n){const r=t.getProps();return kC(r,e,n!==void 0?n:r.custom,M1e(t),A1e(t))}const E1e="framerAppearId",C1e="data-"+OC(E1e);let T1e=fr,NC=fr;const ol=t=>t*1e3,ea=t=>t/1e3,P1e={current:!1},CH=t=>Array.isArray(t)&&typeof t[0]=="number";function TH(t){return!!(!t||typeof t=="string"&&PH[t]||CH(t)||Array.isArray(t)&&t.every(TH))}const Kh=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,PH={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Kh([0,.65,.55,1]),circOut:Kh([.55,0,1,.45]),backIn:Kh([.31,.01,.66,-.59]),backOut:Kh([.33,1.53,.69,.99])};function RH(t){if(t)return CH(t)?Kh(t):Array.isArray(t)?t.map(RH):PH[t]}function R1e(t,e,n,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const u={[e]:n};l&&(u.offset=l);const c=RH(a);return Array.isArray(c)&&(u.easing=c),t.animate(u,{delay:r,duration:i,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const fL={waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate")},JS={},BH={};for(const t in fL)BH[t]=()=>(JS[t]===void 0&&(JS[t]=fL[t]()),JS[t]);function B1e(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const IH=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,I1e=1e-7,D1e=12;function L1e(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=IH(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>I1e&&++a<D1e);return o}function Jm(t,e,n,r){if(t===e&&n===r)return fr;const i=s=>L1e(s,0,1,t,n);return s=>s===0||s===1?s:IH(i(s),e,r)}const O1e=Jm(.42,0,1,1),F1e=Jm(0,0,.58,1),DH=Jm(.42,0,.58,1),k1e=t=>Array.isArray(t)&&typeof t[0]!="number",LH=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,OH=t=>e=>1-t(1-e),FH=t=>1-Math.sin(Math.acos(t)),UC=OH(FH),N1e=LH(UC),kH=Jm(.33,1.53,.69,.99),zC=OH(kH),U1e=LH(zC),z1e=t=>(t*=2)<1?.5*zC(t):.5*(2-Math.pow(2,-10*(t-1))),H1e={linear:fr,easeIn:O1e,easeInOut:DH,easeOut:F1e,circIn:FH,circInOut:N1e,circOut:UC,backIn:zC,backInOut:U1e,backOut:kH,anticipate:z1e},dL=t=>{if(Array.isArray(t)){NC(t.length===4);const[e,n,r,i]=t;return Jm(e,n,r,i)}else if(typeof t=="string")return H1e[t];return t},HC=(t,e)=>n=>!!(Vm(n)&&Uxe.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),NH=(t,e,n)=>r=>{if(!Vm(r))return r;const[i,s,o,a]=r.match(sm);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},G1e=t=>Lu(0,255,t),KS={...ju,transform:t=>Math.round(G1e(t))},pu={test:HC("rgb","red"),parse:NH("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+KS.transform(t)+", "+KS.transform(e)+", "+KS.transform(n)+", "+yp(vp.transform(r))+")"};function $1e(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const IM={test:HC("#"),parse:$1e,transform:pu.transform},Ef={test:HC("hsl","hue"),parse:NH("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+po.transform(yp(e))+", "+po.transform(yp(n))+", "+yp(vp.transform(r))+")"},jr={test:t=>pu.test(t)||IM.test(t)||Ef.test(t),parse:t=>pu.test(t)?pu.parse(t):Ef.test(t)?Ef.parse(t):IM.parse(t),transform:t=>Vm(t)?t:t.hasOwnProperty("red")?pu.transform(t):Ef.transform(t)},En=(t,e,n)=>-n*t+n*e+t;function XS(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function V1e({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=XS(l,a,t+1/3),s=XS(l,a,t),o=XS(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const YS=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},W1e=[IM,pu,Ef],j1e=t=>W1e.find(e=>e.test(t));function hL(t){const e=j1e(t);let n=e.parse(t);return e===Ef&&(n=V1e(n)),n}const UH=(t,e)=>{const n=hL(t),r=hL(e),i={...n};return s=>(i.red=YS(n.red,r.red,s),i.green=YS(n.green,r.green,s),i.blue=YS(n.blue,r.blue,s),i.alpha=En(n.alpha,r.alpha,s),pu.transform(i))},zH="${c}",HH="${n}";function J1e(t){var e,n;return isNaN(t)&&Vm(t)&&(((e=t.match(sm))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(PM))===null||n===void 0?void 0:n.length)||0)>0}function Ny(t){typeof t=="number"&&(t=`${t}`);const e=[];let n=0,r=0;const i=t.match(PM);i&&(n=i.length,t=t.replace(PM,zH),e.push(...i.map(jr.parse)));const s=t.match(sm);return s&&(r=s.length,t=t.replace(sm,HH),e.push(...s.map(ju.parse))),{values:e,numColors:n,numNumbers:r,tokenised:t}}function GH(t){return Ny(t).values}function $H(t){const{values:e,numColors:n,tokenised:r}=Ny(t),i=e.length;return s=>{let o=r;for(let a=0;a<i;a++)o=o.replace(a<n?zH:HH,a<n?jr.transform(s[a]):yp(s[a]));return o}}const K1e=t=>typeof t=="number"?0:t;function X1e(t){const e=GH(t);return $H(t)(e.map(K1e))}const ml={test:J1e,parse:GH,createTransformer:$H,getAnimatableNone:X1e};function VH(t,e){return typeof t=="number"?n=>En(t,e,n):jr.test(t)?UH(t,e):jH(t,e)}const WH=(t,e)=>{const n=[...t],r=n.length,i=t.map((s,o)=>VH(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}},Y1e=(t,e)=>{const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=VH(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}},jH=(t,e)=>{const n=ml.createTransformer(e),r=Ny(t),i=Ny(e);return r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?sl(WH(r.values,i.values),n):o=>`${o>0?e:t}`},am=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},pL=(t,e)=>n=>En(t,e,n);function Q1e(t){return typeof t=="number"?pL:typeof t=="string"?jr.test(t)?UH:jH:Array.isArray(t)?WH:typeof t=="object"?Y1e:pL}function Z1e(t,e,n){const r=[],i=n||Q1e(t[0]),s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||fr:e;a=sl(l,a)}r.push(a)}return r}function JH(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(NC(s===e.length),s===1)return()=>e[0];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=Z1e(e,r,i),a=o.length,l=u=>{let c=0;if(a>1)for(;c<t.length-2&&!(u<t[c+1]);c++);const d=am(t[c],t[c+1],u);return o[c](d)};return n?u=>l(Lu(t[0],t[s-1],u)):l}function q1e(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=am(0,e,r);t.push(En(n,1,i))}}function e_e(t){const e=[0];return q1e(e,t.length-1),e}function t_e(t,e){return t.map(n=>n*e)}function n_e(t,e){return t.map(()=>e||DH).splice(0,t.length-1)}function Uy({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=k1e(r)?r.map(dL):dL(r),s={done:!1,value:e[0]},o=t_e(n&&n.length===e.length?n:e_e(e),t),a=JH(o,e,{ease:Array.isArray(i)?i:n_e(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}function KH(t,e){return e?t*(1e3/e):0}const r_e=5;function XH(t,e,n){const r=Math.max(e-r_e,0);return KH(n-t(r),e-r)}const QS=.001,i_e=.01,mL=10,s_e=.05,o_e=1;function a_e({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s;T1e(t<=ol(mL));let o=1-e;o=Lu(s_e,o_e,o),t=Lu(i_e,mL,ea(t)),o<1?(i=u=>{const c=u*o,d=c*t,p=c-n,m=DM(u,o),v=Math.exp(-d);return QS-p/m*v},s=u=>{const d=u*o*t,p=d*n+n,m=Math.pow(o,2)*Math.pow(u,2)*t,v=Math.exp(-d),y=DM(Math.pow(u,2),o);return(-i(u)+QS>0?-1:1)*((p-m)*v)/y}):(i=u=>{const c=Math.exp(-u*t),d=(u-n)*t+1;return-QS+c*d},s=u=>{const c=Math.exp(-u*t),d=(n-u)*(t*t);return c*d});const a=5/t,l=u_e(i,s,a);if(t=ol(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const l_e=12;function u_e(t,e,n){let r=n;for(let i=1;i<l_e;i++)r=r-t(r)/e(r);return r}function DM(t,e){return t*Math.sqrt(1-e*e)}const c_e=["duration","bounce"],f_e=["stiffness","damping","mass"];function gL(t,e){return e.some(n=>t[n]!==void 0)}function d_e(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!gL(t,f_e)&&gL(t,c_e)){const n=a_e(t);e={...e,...n,velocity:0,mass:1},e.isResolvedFromDuration=!0}return e}function YH({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:u,velocity:c,duration:d,isResolvedFromDuration:p}=d_e(r),m=c?-ea(c):0,v=l/(2*Math.sqrt(a*u)),y=s-i,x=ea(Math.sqrt(a/u)),g=Math.abs(y)<5;n||(n=g?.01:2),e||(e=g?.005:.5);let b;if(v<1){const S=DM(x,v);b=M=>{const C=Math.exp(-v*x*M);return s-C*((m+v*x*y)/S*Math.sin(S*M)+y*Math.cos(S*M))}}else if(v===1)b=S=>s-Math.exp(-x*S)*(y+(m+x*y)*S);else{const S=x*Math.sqrt(v*v-1);b=M=>{const C=Math.exp(-v*x*M),E=Math.min(S*M,300);return s-C*((m+v*x*y)*Math.sinh(E)+S*y*Math.cosh(E))/S}}return{calculatedDuration:p&&d||null,next:S=>{const M=b(S);if(p)o.done=S>=d;else{let C=m;S!==0&&(v<1?C=XH(b,S,M):C=0);const E=Math.abs(C)<=n,R=Math.abs(s-M)<=e;o.done=E&&R}return o.value=o.done?s:M,o}}}function vL({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:c}){const d=t[0],p={done:!1,value:d},m=I=>a!==void 0&&I<a||l!==void 0&&I>l,v=I=>a===void 0?l:l===void 0||Math.abs(a-I)<Math.abs(l-I)?a:l;let y=n*e;const x=d+y,g=o===void 0?x:o(x);g!==x&&(y=g-d);const b=I=>-y*Math.exp(-I/r),S=I=>g+b(I),M=I=>{const P=b(I),B=S(I);p.done=Math.abs(P)<=u,p.value=p.done?g:B};let C,E;const R=I=>{m(p.value)&&(C=I,E=YH({keyframes:[p.value,v(p.value)],velocity:XH(S,I,p.value),damping:i,stiffness:s,restDelta:u,restSpeed:c}))};return R(0),{calculatedDuration:null,next:I=>{let P=!1;return!E&&C===void 0&&(P=!0,M(I),R(I)),C!==void 0&&I>C?E.next(I-C):(!P&&M(I),p)}}}const h_e=t=>{const e=({timestamp:n})=>t(n);return{start:()=>_n.update(e,!0),stop:()=>pl.update(e),now:()=>Lr.isProcessing?Lr.timestamp:performance.now()}},yL=2e4;function xL(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<yL;)e+=n,r=t.next(e);return e>=yL?1/0:e}const p_e={decay:vL,inertia:vL,tween:Uy,keyframes:Uy,spring:YH};function zy({autoplay:t=!0,delay:e=0,driver:n=h_e,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:u,onComplete:c,onUpdate:d,...p}){let m=1,v=!1,y,x;const g=()=>{y&&y(),x=new Promise(ie=>{y=ie})};g();let b;const S=p_e[i]||Uy;let M;S!==Uy&&typeof r[0]!="number"&&(M=JH([0,100],r,{clamp:!1}),r=[0,100]);const C=S({...p,keyframes:r});let E;a==="mirror"&&(E=S({...p,keyframes:[...r].reverse(),velocity:-(p.velocity||0)}));let R="idle",I=null,P=null,B=null;C.calculatedDuration===null&&s&&(C.calculatedDuration=xL(C));const{calculatedDuration:O}=C;let H=1/0,U=1/0;O!==null&&(H=O+o,U=H*(s+1)-o);let V=0;const j=ie=>{if(P===null)return;m>0&&(P=Math.min(P,ie)),I!==null?V=I:V=(ie-P)*m;const re=V-e,se=re<0;V=Math.max(re,0),R==="finished"&&I===null&&(V=U);let le=V,Me=C;if(s){const We=V/H;let we=Math.floor(We),Be=We%1;!Be&&We>=1&&(Be=1),Be===1&&we--,we=Math.min(we,s+1);const ye=!!(we%2);ye&&(a==="reverse"?(Be=1-Be,o&&(Be-=o/H)):a==="mirror"&&(Me=E));let ue=Lu(0,1,Be);V>U&&(ue=a==="reverse"&&ye?1:0),le=ue*H}const be=se?{done:!1,value:r[0]}:Me.next(le);M&&(be.value=M(be.value));let{done:ee}=be;!se&&O!==null&&(ee=V>=U);const Ve=I===null&&(R==="finished"||R==="running"&&ee||m<0&&V<=0);return d&&d(be.value),Ve&&z(),be},Z=()=>{b&&b.stop(),b=void 0},ne=()=>{R="idle",Z(),g(),P=B=null},z=()=>{R="finished",c&&c(),Z(),g()},J=()=>{if(v)return;b||(b=n(j));const ie=b.now();l&&l(),R="running",I!==null?P=ie-I:P||(P=ie),B=P,I=null,b.start()};t&&J();const K={then(ie,re){return x.then(ie,re)},get time(){return ea(V)},set time(ie){ie=ol(ie),V=ie,I!==null||!b||m===0?I=ie:P=b.now()-ie/m},get duration(){const ie=C.calculatedDuration===null?xL(C):C.calculatedDuration;return ea(ie)},get speed(){return m},set speed(ie){ie===m||!b||(m=ie,K.time=ea(V))},get state(){return R},play:J,pause:()=>{R="paused",I=V},stop:()=>{v=!0,R!=="idle"&&(R="idle",u&&u(),ne())},cancel:()=>{B!==null&&j(B),ne()},complete:()=>{R="finished"},sample:ie=>(P=0,j(ie))};return K}const m_e=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),yv=10,g_e=2e4,v_e=(t,e)=>e.type==="spring"||t==="backgroundColor"||!TH(e.ease);function y_e(t,e,{onUpdate:n,onComplete:r,...i}){if(!(BH.waapi()&&m_e.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,a,l;const u=()=>{l=new Promise(x=>{a=x})};u();let{keyframes:c,duration:d=300,ease:p,times:m}=i;if(v_e(e,i)){const x=zy({...i,repeat:0,delay:0});let g={done:!1,value:c[0]};const b=[];let S=0;for(;!g.done&&S<g_e;)g=x.sample(S),b.push(g.value),S+=yv;m=void 0,c=b,d=S-yv,p="linear"}const v=R1e(t.owner.current,e,c,{...i,duration:d,ease:p,times:m}),y=()=>{_n.update(()=>v.cancel()),a(),u()};return v.onfinish=()=>{t.set(B1e(c,i)),r&&r(),y()},{then(x,g){return l.then(x,g)},get time(){return ea(v.currentTime||0)},set time(x){v.currentTime=ol(x)},get speed(){return v.playbackRate},set speed(x){v.playbackRate=x},get duration(){return ea(d)},play:()=>{o||v.play()},pause:()=>v.pause(),stop:()=>{if(o=!0,v.playState==="idle")return;const{currentTime:x}=v;if(x){const g=zy({...i,autoplay:!1});t.setWithVelocity(g.sample(x-yv).value,g.sample(x).value,yv)}y()},complete:()=>v.finish(),cancel:y}}function x_e({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const i=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:fr,pause:fr,stop:fr,then:s=>(s(),Promise.resolve()),cancel:fr,complete:fr});return e?zy({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const __e={type:"spring",stiffness:500,damping:25,restSpeed:10},S_e=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),b_e={type:"keyframes",duration:.8},w_e={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},M_e=(t,{keyframes:e})=>e.length>2?b_e:Wu.has(t)?t.startsWith("scale")?S_e(e[1]):__e:w_e,LM=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&ml.test(e)&&!e.startsWith("url(")),A_e=new Set(["brightness","contrast","saturate","opacity"]);function E_e(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(sm)||[];if(!r)return t;const i=n.replace(r,"");let s=A_e.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const C_e=/([a-z-]*)\(.*?\)/g,OM={...ml,getAnimatableNone:t=>{const e=t.match(C_e);return e?e.map(E_e).join(" "):t}},T_e={...fH,color:jr,backgroundColor:jr,outlineColor:jr,fill:jr,stroke:jr,borderColor:jr,borderTopColor:jr,borderRightColor:jr,borderBottomColor:jr,borderLeftColor:jr,filter:OM,WebkitFilter:OM},GC=t=>T_e[t];function $C(t,e){let n=GC(t);return n!==OM&&(n=ml),n.getAnimatableNone?n.getAnimatableNone(e):void 0}function P_e({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}function _L(t){return t===0||typeof t=="string"&&parseFloat(t)===0&&t.indexOf(" ")===-1}function SL(t){return typeof t=="number"?0:$C("",t)}function QH(t,e){return t[e]||t.default||t}function R_e(t,[...e]){for(let n=0;n<e.length;n++)e[n]===null&&(e[n]=n===0?t:e[n-1]);return e}function B_e(t,e,n,r){const i=LM(e,n);let s=r.from!==void 0?r.from:t.get();return s==="none"&&i&&typeof n=="string"?s=$C(e,n):_L(s)&&typeof n=="string"?s=SL(n):!Array.isArray(n)&&_L(n)&&typeof s=="string"&&(n=SL(s)),Array.isArray(n)?R_e(s,n):[s,n]}const VC=(t,e,n,r={})=>i=>{const s=QH(r,t)||{},o=s.delay||r.delay||0;let{elapsed:a=0}=r;a=a-ol(o);const l=B_e(e,t,n,s),u=l[0],c=l[l.length-1],d=LM(t,u),p=LM(t,c);let m={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:v=>{e.set(v),s.onUpdate&&s.onUpdate(v)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(P_e(s)||(m={...m,...M_e(t,m)}),m.duration&&(m.duration=ol(m.duration)),m.repeatDelay&&(m.repeatDelay=ol(m.repeatDelay)),!d||!p||P1e.current||s.type===!1)return x_e(m);if(e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const v=y_e(e,t,m);if(v)return v}return zy(m)};function Hy(t){return!!(mi(t)&&t.add)}const I_e=t=>/^\-?\d*\.?\d+$/.test(t),D_e=t=>/^0[^.\s]+$/.test(t);function WC(t,e){t.indexOf(e)===-1&&t.push(e)}function jC(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class JC{constructor(){this.subscriptions=[]}add(e){return WC(this.subscriptions,e),()=>jC(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const L_e=t=>!isNaN(parseFloat(t));class O_e{constructor(e,n={}){this.version="10.11.2",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=Lr;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,_n.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>_n.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=L_e(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new JC);const r=this.events[e].add(n);return e==="change"?()=>{r(),_n.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?KH(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function od(t,e){return new O_e(t,e)}const ZH=t=>e=>e.test(t),F_e={test:t=>t==="auto",parse:t=>t},qH=[ju,ct,po,Fa,Hxe,zxe,F_e],Oh=t=>qH.find(ZH(t)),k_e=[...qH,jr,ml],N_e=t=>k_e.find(ZH(t));function U_e(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,od(n))}function z_e(t,e){const n=Qx(t,e);let{transitionEnd:r={},transition:i={},...s}=n?t.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const o in s){const a=t1e(s[o]);U_e(t,o,a)}}function H_e(t,e,n){var r,i;const s=Object.keys(e).filter(a=>!t.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],u=e[l];let c=null;Array.isArray(u)&&(c=u[0]),c===null&&(c=(i=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&i!==void 0?i:e[l]),c!=null&&(typeof c=="string"&&(I_e(c)||D_e(c))?c=parseFloat(c):!N_e(c)&&ml.test(u)&&(c=$C(l,u)),t.addValue(l,od(c,{owner:t})),n[l]===void 0&&(n[l]=c),c!==null&&t.setBaseTarget(l,c))}}function G_e(t,e){return e?(e[t]||e.default||e).from:void 0}function $_e(t,e,n){const r={};for(const i in t){const s=G_e(i,e);if(s!==void 0)r[i]=s;else{const o=n.getValue(i);o&&(r[i]=o.get())}}return r}function V_e({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function eG(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(s=r);const u=[],c=i&&t.animationState&&t.animationState.getState()[i];for(const d in a){const p=t.getValue(d),m=a[d];if(!p||m===void 0||c&&V_e(c,d))continue;const v={delay:n,elapsed:0,...s};if(window.HandoffAppearAnimations&&!p.hasAnimated){const x=t.getProps()[C1e];x&&(v.elapsed=window.HandoffAppearAnimations(x,d,p,_n))}p.start(VC(d,p,m,t.shouldReduceMotion&&Wu.has(d)?{type:!1}:v));const y=p.animation;Hy(l)&&(l.add(d),y.then(()=>l.remove(d))),u.push(y)}return o&&Promise.all(u).then(()=>{o&&z_e(t,o)}),u}function FM(t,e,n={}){const r=Qx(t,e,n.custom);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(eG(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:c,staggerDirection:d}=i;return W_e(t,e,u+l,c,d,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,u]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>u())}else return Promise.all([s(),o(n.delay)])}function W_e(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(t.variantChildren).sort(j_e).forEach((u,c)=>{u.notify("AnimationStart",e),o.push(FM(u,e,{...s,delay:n+l(c)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function j_e(t,e){return t.sortNodePosition(e)}function J_e(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>FM(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=FM(t,e,n);else{const i=typeof e=="function"?Qx(t,e,n.custom):e;r=Promise.all(eG(t,i,n))}return r.then(()=>t.notify("AnimationComplete",e))}const K_e=[...EC].reverse(),X_e=EC.length;function Y_e(t){return e=>Promise.all(e.map(({animation:n,options:r})=>J_e(t,n,r)))}function Q_e(t){let e=Y_e(t);const n=q_e();let r=!0;const i=(l,u)=>{const c=Qx(t,u);if(c){const{transition:d,transitionEnd:p,...m}=c;l={...l,...m,...p}}return l};function s(l){e=l(t)}function o(l,u){const c=t.getProps(),d=t.getVariantContext(!0)||{},p=[],m=new Set;let v={},y=1/0;for(let g=0;g<X_e;g++){const b=K_e[g],S=n[b],M=c[b]!==void 0?c[b]:d[b],C=rm(M),E=b===u?S.isActive:null;E===!1&&(y=g);let R=M===d[b]&&M!==c[b]&&C;if(R&&r&&t.manuallyAnimateOnMount&&(R=!1),S.protectedKeys={...v},!S.isActive&&E===null||!M&&!S.prevProp||jx(M)||typeof M=="boolean")continue;const I=Z_e(S.prevProp,M);let P=I||b===u&&S.isActive&&!R&&C||g>y&&C;const B=Array.isArray(M)?M:[M];let O=B.reduce(i,{});E===!1&&(O={});const{prevResolvedValues:H={}}=S,U={...H,...O},V=j=>{P=!0,m.delete(j),S.needsAnimating[j]=!0};for(const j in U){const Z=O[j],ne=H[j];v.hasOwnProperty(j)||(Z!==ne?ky(Z)&&ky(ne)?!EH(Z,ne)||I?V(j):S.protectedKeys[j]=!0:Z!==void 0?V(j):m.add(j):Z!==void 0&&m.has(j)?V(j):S.protectedKeys[j]=!0)}S.prevProp=M,S.prevResolvedValues=O,S.isActive&&(v={...v,...O}),r&&t.blockInitialAnimation&&(P=!1),P&&!R&&p.push(...B.map(j=>({animation:j,options:{type:b,...l}})))}if(m.size){const g={};m.forEach(b=>{const S=t.getBaseTarget(b);S!==void 0&&(g[b]=S)}),p.push({animation:g})}let x=!!p.length;return r&&c.initial===!1&&!t.manuallyAnimateOnMount&&(x=!1),r=!1,x?e(p):Promise.resolve()}function a(l,u,c){var d;if(n[l].isActive===u)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(m=>{var v;return(v=m.animationState)===null||v===void 0?void 0:v.setActive(l,u)}),n[l].isActive=u;const p=o(c,l);for(const m in n)n[m].protectedKeys={};return p}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n}}function Z_e(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!EH(e,t):!1}function jl(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function q_e(){return{animate:jl(!0),whileInView:jl(),whileHover:jl(),whileTap:jl(),whileDrag:jl(),whileFocus:jl(),exit:jl()}}class eSe extends Al{constructor(e){super(e),e.animationState||(e.animationState=Q_e(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),jx(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let tSe=0;class nSe extends Al{constructor(){super(...arguments),this.id=tSe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const rSe={animation:{Feature:eSe},exit:{Feature:nSe}},bL=(t,e)=>Math.abs(t-e);function iSe(t,e){const n=bL(t.x,e.x),r=bL(t.y,e.y);return Math.sqrt(n**2+r**2)}class tG{constructor(e,n,{transformPagePoint:r}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=qS(this.lastMoveEventInfo,this.history),c=this.startEvent!==null,d=iSe(u.offset,{x:0,y:0})>=3;if(!c&&!d)return;const{point:p}=u,{timestamp:m}=Lr;this.history.push({...p,timestamp:m});const{onStart:v,onMove:y}=this.handlers;c||(v&&v(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,u)},this.handlePointerMove=(u,c)=>{this.lastMoveEvent=u,this.lastMoveEventInfo=ZS(c,this.transformPagePoint),_n.update(this.updatePoint,!0)},this.handlePointerUp=(u,c)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:d,onSessionEnd:p}=this.handlers,m=qS(u.type==="pointercancel"?this.lastMoveEventInfo:ZS(c,this.transformPagePoint),this.history);this.startEvent&&d&&d(u,m),p&&p(u,m)},!_H(e))return;this.handlers=n,this.transformPagePoint=r;const i=Xx(e),s=ZS(i,this.transformPagePoint),{point:o}=s,{timestamp:a}=Lr;this.history=[{...o,timestamp:a}];const{onSessionStart:l}=n;l&&l(e,qS(s,this.history)),this.removeListeners=sl(qo(window,"pointermove",this.handlePointerMove),qo(window,"pointerup",this.handlePointerUp),qo(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),pl.update(this.updatePoint)}}function ZS(t,e){return e?{point:e(t.point)}:t}function wL(t,e){return{x:t.x-e.x,y:t.y-e.y}}function qS({point:t},e){return{point:t,delta:wL(t,nG(e)),offset:wL(t,sSe(e)),velocity:oSe(e,.1)}}function sSe(t){return t[0]}function nG(t){return t[t.length-1]}function oSe(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=nG(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>ol(e)));)n--;if(!r)return{x:0,y:0};const s=ea(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Ni(t){return t.max-t.min}function kM(t,e=0,n=.01){return Math.abs(t-e)<=n}function ML(t,e,n,r=.5){t.origin=r,t.originPoint=En(e.min,e.max,t.origin),t.scale=Ni(n)/Ni(e),(kM(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=En(n.min,n.max,t.origin)-t.originPoint,(kM(t.translate)||isNaN(t.translate))&&(t.translate=0)}function xp(t,e,n,r){ML(t.x,e.x,n.x,r?r.originX:void 0),ML(t.y,e.y,n.y,r?r.originY:void 0)}function AL(t,e,n){t.min=n.min+e.min,t.max=t.min+Ni(e)}function aSe(t,e,n){AL(t.x,e.x,n.x),AL(t.y,e.y,n.y)}function EL(t,e,n){t.min=e.min-n.min,t.max=t.min+Ni(e)}function _p(t,e,n){EL(t.x,e.x,n.x),EL(t.y,e.y,n.y)}function lSe(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?En(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?En(n,t,r.max):Math.min(t,n)),t}function CL(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function uSe(t,{top:e,left:n,bottom:r,right:i}){return{x:CL(t.x,n,i),y:CL(t.y,e,r)}}function TL(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function cSe(t,e){return{x:TL(t.x,e.x),y:TL(t.y,e.y)}}function fSe(t,e){let n=.5;const r=Ni(t),i=Ni(e);return i>r?n=am(e.min,e.max-r,t.min):r>i&&(n=am(t.min,t.max-i,e.min)),Lu(0,1,n)}function dSe(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const NM=.35;function hSe(t=NM){return t===!1?t=0:t===!0&&(t=NM),{x:PL(t,"left","right"),y:PL(t,"top","bottom")}}function PL(t,e,n){return{min:RL(t,e),max:RL(t,n)}}function RL(t,e){return typeof t=="number"?t:t[e]||0}const BL=()=>({translate:0,scale:1,origin:0,originPoint:0}),Sp=()=>({x:BL(),y:BL()}),IL=()=>({min:0,max:0}),Jn=()=>({x:IL(),y:IL()});function oo(t){return[t("x"),t("y")]}function rG({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function pSe({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function mSe(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function eb(t){return t===void 0||t===1}function UM({scale:t,scaleX:e,scaleY:n}){return!eb(t)||!eb(e)||!eb(n)}function ql(t){return UM(t)||iG(t)||t.z||t.rotate||t.rotateX||t.rotateY}function iG(t){return DL(t.x)||DL(t.y)}function DL(t){return t&&t!=="0%"}function Gy(t,e,n){const r=t-n,i=e*r;return n+i}function LL(t,e,n,r,i){return i!==void 0&&(t=Gy(t,i,r)),Gy(t,n,r)+e}function zM(t,e=0,n=1,r,i){t.min=LL(t.min,e,n,r,i),t.max=LL(t.max,e,n,r,i)}function sG(t,{x:e,y:n}){zM(t.x,e.translate,e.scale,e.originPoint),zM(t.y,n.translate,n.scale,n.originPoint)}function gSe(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Cf(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,sG(t,o)),r&&ql(s.latestValues)&&Cf(t,s.latestValues))}e.x=OL(e.x),e.y=OL(e.y)}function OL(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Ha(t,e){t.min=t.min+e,t.max=t.max+e}function FL(t,e,[n,r,i]){const s=e[i]!==void 0?e[i]:.5,o=En(t.min,t.max,s);zM(t,e[n],e[r],o,e.scale)}const vSe=["x","scaleX","originX"],ySe=["y","scaleY","originY"];function Cf(t,e){FL(t.x,e,vSe),FL(t.y,e,ySe)}function oG(t,e){return rG(mSe(t.getBoundingClientRect(),e))}function xSe(t,e,n){const r=oG(t,n),{scroll:i}=e;return i&&(Ha(r.x,i.offset.x),Ha(r.y,i.offset.y)),r}const _Se=new WeakMap;class SSe{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Jn(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=l=>{this.stopAnimation(),n&&this.snapToCursor(Xx(l,"page").point)},s=(l,u)=>{const{drag:c,dragPropagation:d,onDragStart:p}=this.getProps();if(c&&!d&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=bH(c),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),oo(v=>{let y=this.getAxisMotionValue(v).get()||0;if(po.test(y)){const{projection:x}=this.visualElement;if(x&&x.layout){const g=x.layout.layoutBox[v];g&&(y=Ni(g)*(parseFloat(y)/100))}}this.originPoint[v]=y}),p&&_n.update(()=>p(l,u));const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},o=(l,u)=>{const{dragPropagation:c,dragDirectionLock:d,onDirectionLock:p,onDrag:m}=this.getProps();if(!c&&!this.openGlobalLock)return;const{offset:v}=u;if(d&&this.currentDirection===null){this.currentDirection=bSe(v),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",u.point,v),this.updateAxis("y",u.point,v),this.visualElement.render(),m&&m(l,u)},a=(l,u)=>this.stop(l,u);this.panSession=new tG(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&_n.update(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!xv(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=lSe(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),{layout:r}=this.visualElement.projection||{},i=this.constraints;e&&Af(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=uSe(r.layoutBox,e):this.constraints=!1,this.elastic=hSe(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&oo(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=dSe(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Af(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=xSe(r,i.root,this.visualElement.getTransformPagePoint());let o=cSe(i.layout.layoutBox,s);if(n){const a=n(pSe(o));this.hasMutatedConstraints=!!a,a&&(o=rG(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=oo(c=>{if(!xv(c,n,this.currentDirection))return;let d=l&&l[c]||{};o&&(d={min:0,max:0});const p=i?200:1e6,m=i?40:1e7,v={type:"inertia",velocity:r?e[c]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(c,v)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(VC(e,r,0,n))}stopAnimation(){oo(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){oo(n=>{const{drag:r}=this.getProps();if(!xv(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-En(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Af(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};oo(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();i[o]=fSe({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),oo(o=>{if(!xv(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(En(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;_Se.set(this.visualElement,this);const e=this.visualElement.current,n=qo(e,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Af(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=Yo(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(oo(c=>{const d=this.getAxisMotionValue(c);d&&(this.originPoint[c]+=l[c].translate,d.set(d.get()+l[c].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=NM,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function xv(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function bSe(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class wSe extends Al{constructor(e){super(e),this.removeGroupControls=fr,this.removeListeners=fr,this.controls=new SSe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||fr}unmount(){this.removeGroupControls(),this.removeListeners()}}const kL=t=>(e,n)=>{t&&_n.update(()=>t(e,n))};class MSe extends Al{constructor(){super(...arguments),this.removePointerDownListener=fr}onPointerDown(e){this.session=new tG(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:kL(e),onStart:kL(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&_n.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=qo(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function ASe(){const t=T.useContext(Vx);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=T.useId();return T.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}function NL(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Fh={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ct.test(t))t=parseFloat(t);else return t;const n=NL(t,e.target.x),r=NL(t,e.target.y);return`${n}% ${r}%`}},aG=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function ESe(t){const e=aG.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function HM(t,e,n=1){const[r,i]=ESe(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);return s?s.trim():TM(i)?HM(i,e,n+1):i}function CSe(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(i=>{const s=i.get();if(!TM(s))return;const o=HM(s,r);o&&i.set(o)});for(const i in e){const s=e[i];if(!TM(s))continue;const o=HM(s,r);o&&(e[i]=o,n||(n={}),n[i]===void 0&&(n[i]=s))}return{target:e,transitionEnd:n}}const UL="_$css",TSe={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=t.includes("var("),s=[];i&&(t=t.replace(aG,m=>(s.push(m),UL)));const o=ml.parse(t);if(o.length>5)return r;const a=ml.createTransformer(t),l=typeof o[0]!="number"?1:0,u=n.x.scale*e.x,c=n.y.scale*e.y;o[0+l]/=u,o[1+l]/=c;const d=En(u,c,.5);typeof o[2+l]=="number"&&(o[2+l]/=d),typeof o[3+l]=="number"&&(o[3+l]/=d);let p=a(o);if(i){let m=0;p=p.replace(UL,()=>{const v=s[m];return m++,v})}return p}};class PSe extends D.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;Lxe(RSe),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),gp.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||_n.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),!e.currentAnimation&&e.isLead()&&this.safeToRemove())}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function lG(t){const[e,n]=ASe(),r=T.useContext(PC);return D.createElement(PSe,{...t,layoutGroup:r,switchLayoutGroup:T.useContext(aH),isPresent:e,safeToRemove:n})}const RSe={borderRadius:{...Fh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Fh,borderTopRightRadius:Fh,borderBottomLeftRadius:Fh,borderBottomRightRadius:Fh,boxShadow:TSe},uG=["TopLeft","TopRight","BottomLeft","BottomRight"],BSe=uG.length,zL=t=>typeof t=="string"?parseFloat(t):t,HL=t=>typeof t=="number"||ct.test(t);function ISe(t,e,n,r,i,s){i?(t.opacity=En(0,n.opacity!==void 0?n.opacity:1,DSe(r)),t.opacityExit=En(e.opacity!==void 0?e.opacity:1,0,LSe(r))):s&&(t.opacity=En(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<BSe;o++){const a=`border${uG[o]}Radius`;let l=GL(e,a),u=GL(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||HL(l)===HL(u)?(t[a]=Math.max(En(zL(l),zL(u),r),0),(po.test(u)||po.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=En(e.rotate||0,n.rotate||0,r))}function GL(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const DSe=cG(0,.5,UC),LSe=cG(.5,.95,fr);function cG(t,e,n){return r=>r<t?0:r>e?1:n(am(t,e,r))}function $L(t,e){t.min=e.min,t.max=e.max}function ts(t,e){$L(t.x,e.x),$L(t.y,e.y)}function VL(t,e,n,r,i){return t-=e,t=Gy(t,1/n,r),i!==void 0&&(t=Gy(t,1/i,r)),t}function OSe(t,e=0,n=1,r=.5,i,s=t,o=t){if(po.test(e)&&(e=parseFloat(e),e=En(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=En(s.min,s.max,r);t===s&&(a-=e),t.min=VL(t.min,e,n,a,i),t.max=VL(t.max,e,n,a,i)}function WL(t,e,[n,r,i],s,o){OSe(t,e[n],e[r],e[i],e.scale,s,o)}const FSe=["x","scaleX","originX"],kSe=["y","scaleY","originY"];function jL(t,e,n,r){WL(t.x,e,FSe,n?n.x:void 0,r?r.x:void 0),WL(t.y,e,kSe,n?n.y:void 0,r?r.y:void 0)}function JL(t){return t.translate===0&&t.scale===1}function fG(t){return JL(t.x)&&JL(t.y)}function GM(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function KL(t){return Ni(t.x)/Ni(t.y)}class NSe{constructor(){this.members=[]}add(e){WC(this.members,e),e.scheduleRender()}remove(e){if(jC(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function XL(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:u,rotateY:c}=n;l&&(r+=`rotate(${l}deg) `),u&&(r+=`rotateX(${u}deg) `),c&&(r+=`rotateY(${c}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const USe=(t,e)=>t.depth-e.depth;class zSe{constructor(){this.children=[],this.isDirty=!1}add(e){WC(this.children,e),this.isDirty=!0}remove(e){jC(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(USe),this.isDirty=!1,this.children.forEach(e)}}function HSe(t,e){const n=performance.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(pl.read(r),t(s-e))};return _n.read(r,!0),()=>pl.read(r)}function GSe(t){window.MotionDebug&&window.MotionDebug.record(t)}function $Se(t){return t instanceof SVGElement&&t.tagName!=="svg"}function VSe(t,e,n){const r=mi(t)?t:od(t);return r.start(VC("",r,e,n)),r.animation}const YL=["","X","Y","Z"],QL=1e3;let WSe=0;const eu={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function dG({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o,a={},l=e==null?void 0:e()){this.id=WSe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{eu.totalNodes=eu.resolvedTargetDeltas=eu.recalculatedProjection=0,this.nodes.forEach(KSe),this.nodes.forEach(ZSe),this.nodes.forEach(qSe),this.nodes.forEach(XSe),GSe(eu)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.elementId=o,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0,o&&this.root.registerPotentialNode(o,this);for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new zSe)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new JC),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}registerPotentialNode(o,a){this.potentialNodes.set(o,a)}mount(o,a=!1){if(this.instance)return;this.isSVG=$Se(o),this.instance=o;const{layoutId:l,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.elementId&&this.root.potentialNodes.delete(this.elementId),a&&(u||l)&&(this.isLayoutDirty=!0),t){let d;const p=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=HSe(p,250),gp.hasAnimatedSinceResize&&(gp.hasAnimatedSinceResize=!1,this.nodes.forEach(qL))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||u)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p,hasRelativeTargetChanged:m,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||c.getDefaultTransition()||ibe,{onLayoutAnimationStart:x,onLayoutAnimationComplete:g}=c.getProps(),b=!this.targetLayout||!GM(this.targetLayout,v)||m,S=!p&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||S||p&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,S);const M={...QH(y,"layout"),onPlay:x,onComplete:g};(c.shouldReduceMotion||this.options.layoutRoot)&&(M.delay=0,M.type=!1),this.startAnimation(M)}else!p&&this.animationProgress===0&&qL(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,pl.preRender(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ebe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const d=this.path[c];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}didUpdate(){if(this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ZL);return}this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(sbe),this.potentialNodes.clear()),this.nodes.forEach(QSe),this.nodes.forEach(jSe),this.nodes.forEach(JSe),this.clearAllSnapshots(),VS.update(),VS.preRender(),VS.render())}clearAllSnapshots(){this.nodes.forEach(YSe),this.sharedNodes.forEach(tbe)}scheduleUpdateProjection(){_n.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){_n.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Jn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!fG(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;o&&(a||ql(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),obe(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Jn();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(Ha(a.x,l.offset.x),Ha(a.y,l.offset.y)),a}removeElementScroll(o){const a=Jn();ts(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:c,options:d}=u;if(u!==this.root&&c&&d.layoutScroll){if(c.isRoot){ts(a,o);const{scroll:p}=this.root;p&&(Ha(a.x,-p.offset.x),Ha(a.y,-p.offset.y))}Ha(a.x,c.offset.x),Ha(a.y,c.offset.y)}}return a}applyTransform(o,a=!1){const l=Jn();ts(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Cf(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),ql(c.latestValues)&&Cf(l,c.latestValues)}return ql(this.latestValues)&&Cf(l,this.latestValues),l}removeTransform(o){const a=Jn();ts(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!ql(u.latestValues))continue;UM(u.latestValues)&&u.updateSnapshot();const c=Jn(),d=u.measurePageBox();ts(c,d),jL(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return ql(this.latestValues)&&jL(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:d,layoutId:p}=this.options;if(!(!this.layout||!(d||p))){if(this.resolvedRelativeTargetAt=Lr.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout?(this.relativeParent=m,this.relativeTarget=Jn(),this.relativeTargetOrigin=Jn(),_p(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),ts(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Jn(),this.targetWithTransforms=Jn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.relativeParent.resolvedRelativeTargetAt!==Lr.timestamp&&this.relativeParent.resolveTargetDelta(!0),aSe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ts(this.target,this.layout.layoutBox),sG(this.target,this.targetDelta)):ts(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target?(this.relativeParent=m,this.relativeTarget=Jn(),this.relativeTargetOrigin=Jn(),_p(this.relativeTargetOrigin,this.target,m.target),ts(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}eu.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||UM(this.parent.latestValues)||iG(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Lr.timestamp&&(u=!1),u)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;ts(this.layoutCorrected,this.layout.layoutBox),gSe(this.layoutCorrected,this.treeScale,this.path,l);const{target:p}=a;if(!p)return;this.projectionDelta||(this.projectionDelta=Sp(),this.projectionDeltaWithTransform=Sp());const m=this.treeScale.x,v=this.treeScale.y,y=this.projectionTransform;xp(this.projectionDelta,this.layoutCorrected,p,this.latestValues),this.projectionTransform=XL(this.projectionDelta,this.treeScale),(this.projectionTransform!==y||this.treeScale.x!==m||this.treeScale.y!==v)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),eu.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},d=Sp();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=Jn(),m=l?l.source:void 0,v=this.layout?this.layout.source:void 0,y=m!==v,x=this.getStack(),g=!x||x.members.length<=1,b=!!(y&&!g&&this.options.crossfade===!0&&!this.path.some(rbe));this.animationProgress=0;let S;this.mixTargetDelta=M=>{const C=M/1e3;eO(d.x,o.x,C),eO(d.y,o.y,C),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(_p(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),nbe(this.relativeTarget,this.relativeTargetOrigin,p,C),S&&GM(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=Jn()),ts(S,this.relativeTarget)),y&&(this.animationValues=c,ISe(c,u,this.latestValues,C,b,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(pl.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=_n.update(()=>{gp.hasAnimatedSinceResize=!0,this.currentAnimation=VSe(0,QL,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(QL),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&hG(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Jn();const d=Ni(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const p=Ni(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}ts(a,l),Cf(a,c),xp(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new NSe),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const u={};for(let c=0;c<YL.length;c++){const d="rotate"+YL[c];l[d]&&(u[d]=l[d],o.setStaticValue(d,0))}o.render();for(const c in u)o.setStaticValue(c,u[c]);o.scheduleRender()}getProjectionStyles(o={}){var a,l;const u={};if(!this.instance||this.isSVG)return u;if(this.isVisible)u.visibility="";else return{visibility:"hidden"};const c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=jv(o.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=jv(o.pointerEvents)||""),this.hasProjected&&!ql(this.latestValues)&&(y.transform=c?c({},""):"none",this.hasProjected=!1),y}const p=d.animationValues||d.latestValues;this.applyTransformsToTarget(),u.transform=XL(this.projectionDeltaWithTransform,this.treeScale,p),c&&(u.transform=c(p,u.transform));const{x:m,y:v}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${v.origin*100}% 0`,d.animationValues?u.opacity=d===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=d===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const y in Oy){if(p[y]===void 0)continue;const{correct:x,applyTo:g}=Oy[y],b=u.transform==="none"?p[y]:x(p[y],d);if(g){const S=g.length;for(let M=0;M<S;M++)u[g[M]]=b}else u[y]=b}return this.options.layoutId&&(u.pointerEvents=d===this?jv(o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(ZL),this.root.sharedNodes.clear()}}}function jSe(t){t.updateLayout()}function JSe(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?oo(d=>{const p=o?n.measuredBox[d]:n.layoutBox[d],m=Ni(p);p.min=r[d].min,p.max=p.min+m}):hG(s,n.layoutBox,r)&&oo(d=>{const p=o?n.measuredBox[d]:n.layoutBox[d],m=Ni(r[d]);p.max=p.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+m)});const a=Sp();xp(a,r,n.layoutBox);const l=Sp();o?xp(l,t.applyTransform(i,!0),n.measuredBox):xp(l,r,n.layoutBox);const u=!fG(a);let c=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:p,layout:m}=d;if(p&&m){const v=Jn();_p(v,n.layoutBox,p.layoutBox);const y=Jn();_p(y,r,m.layoutBox),GM(v,y)||(c=!0),d.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=v,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function KSe(t){eu.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function XSe(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function YSe(t){t.clearSnapshot()}function ZL(t){t.clearMeasurements()}function QSe(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function qL(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0}function ZSe(t){t.resolveTargetDelta()}function qSe(t){t.calcProjection()}function ebe(t){t.resetRotation()}function tbe(t){t.removeLeadSnapshot()}function eO(t,e,n){t.translate=En(e.translate,0,n),t.scale=En(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function tO(t,e,n,r){t.min=En(e.min,n.min,r),t.max=En(e.max,n.max,r)}function nbe(t,e,n,r){tO(t.x,e.x,n.x,r),tO(t.y,e.y,n.y,r)}function rbe(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const ibe={duration:.45,ease:[.4,0,.1,1]};function sbe(t,e){let n=t.root;for(let s=t.path.length-1;s>=0;s--)if(t.path[s].instance){n=t.path[s];break}const i=(n&&n!==t.root?n.instance:document).querySelector(`[data-projection-id="${e}"]`);i&&t.mount(i,!0)}function nO(t){t.min=Math.round(t.min),t.max=Math.round(t.max)}function obe(t){nO(t.x),nO(t.y)}function hG(t,e,n){return t==="position"||t==="preserve-aspect"&&!kM(KL(e),KL(n),.2)}const abe=dG({attachResizeListener:(t,e)=>Yo(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),tb={current:void 0},pG=dG({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!tb.current){const t=new abe(0,{});t.mount(window),t.setOptions({layoutScroll:!0}),tb.current=t}return tb.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),lbe={pan:{Feature:MSe},drag:{Feature:wSe,ProjectionNode:pG,MeasureLayout:lG}},ube=new Set(["width","height","top","left","right","bottom","x","y"]),mG=t=>ube.has(t),cbe=t=>Object.keys(t).some(mG),rO=t=>t===ju||t===ct,iO=(t,e)=>parseFloat(t.split(", ")[e]),sO=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return iO(i[1],e);{const s=r.match(/^matrix\((.+)\)$/);return s?iO(s[1],t):0}},fbe=new Set(["x","y","z"]),dbe=Kx.filter(t=>!fbe.has(t));function hbe(t){const e=[];return dbe.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const oO={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:sO(4,13),y:sO(5,14)},pbe=(t,e,n)=>{const r=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(u=>{a[u]=oO[u](r,s)}),e.render();const l=e.measureViewportBox();return n.forEach(u=>{const c=e.getValue(u);c&&c.jump(a[u]),t[u]=oO[u](l,s)}),t},mbe=(t,e,n={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(mG);let s=[],o=!1;const a=[];if(i.forEach(l=>{const u=t.getValue(l);if(!t.hasValue(l))return;let c=n[l],d=Oh(c);const p=e[l];let m;if(ky(p)){const v=p.length,y=p[0]===null?1:0;c=p[y],d=Oh(c);for(let x=y;x<v&&p[x]!==null;x++)m?NC(Oh(p[x])===m):m=Oh(p[x])}else m=Oh(p);if(d!==m)if(rO(d)&&rO(m)){const v=u.get();typeof v=="string"&&u.set(parseFloat(v)),typeof p=="string"?e[l]=parseFloat(p):Array.isArray(p)&&m===ct&&(e[l]=p.map(parseFloat))}else d!=null&&d.transform&&(m!=null&&m.transform)&&(c===0||p===0)?c===0?u.set(m.transform(c)):e[l]=d.transform(p):(o||(s=hbe(t),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],u.jump(p))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,u=pbe(e,t,a);return s.length&&s.forEach(([c,d])=>{t.getValue(c).set(d)}),t.render(),Wx&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:r}}else return{target:e,transitionEnd:r}};function gbe(t,e,n,r){return cbe(e)?mbe(t,e,n,r):{target:e,transitionEnd:r}}const vbe=(t,e,n,r)=>{const i=CSe(t,e,r);return e=i.target,r=i.transitionEnd,gbe(t,e,n,r)},$M={current:null},gG={current:!1};function ybe(){if(gG.current=!0,!!Wx)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>$M.current=t.matches;t.addListener(e),e()}else $M.current=!1}function xbe(t,e,n){const{willChange:r}=e;for(const i in e){const s=e[i],o=n[i];if(mi(s))t.addValue(i,s),Hy(r)&&r.add(i);else if(mi(o))t.addValue(i,od(s,{owner:t})),Hy(r)&&r.remove(i);else if(o!==s)if(t.hasValue(i)){const a=t.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=t.getStaticValue(i);t.addValue(i,od(a!==void 0?a:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const aO=new WeakMap,vG=Object.keys(im),_be=vG.length,lO=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Sbe=CC.length;class bbe{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>_n.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=Jx(n),this.isVariantNode=oH(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...c}=this.scrapeMotionValuesFromProps(n,{});for(const d in c){const p=c[d];a[d]!==void 0&&mi(p)&&(p.set(a[d],!1),Hy(u)&&u.add(d))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,aO.set(e,this),this.projection&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),gG.current||ybe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:$M.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){aO.delete(this.current),this.projection&&this.projection.unmount(),pl.update(this.notifyUpdate),pl.render(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=Wu.has(e),i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&_n.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,s,o){let a,l;for(let u=0;u<_be;u++){const c=vG[u],{isEnabled:d,Feature:p,ProjectionNode:m,MeasureLayout:v}=im[c];m&&(a=m),d(n)&&(!this.features[c]&&p&&(this.features[c]=new p(this)),v&&(l=v))}if(!this.projection&&a){this.projection=new a(s,this.latestValues,this.parent&&this.parent.projection);const{layoutId:u,layout:c,drag:d,dragConstraints:p,layoutScroll:m,layoutRoot:v}=n;this.projection.setOptions({layoutId:u,layout:c,alwaysMeasureLayout:!!d||p&&Af(p),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:o,layoutScroll:m,layoutRoot:v})}return l}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update(this.props,this.prevProps):(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Jn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<lO.length;r++){const i=lO[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=xbe(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<Sbe;r++){const i=CC[r],s=this.props[i];(rm(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=od(n,{owner:this}),this.addValue(e,r)),r}readValue(e){return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=kC(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!mi(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new JC),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class yG extends bbe{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:i},s){let o=$_e(r,e||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),o&&(o=i(o))),s){H_e(this,r,o);const a=vbe(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function wbe(t){return window.getComputedStyle(t)}class Mbe extends yG{readValueFromInstance(e,n){if(Wu.has(n)){const r=GC(n);return r&&r.default||0}else{const r=wbe(e),i=(cH(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return oG(e,n)}build(e,n,r,i){BC(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n){return FC(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;mi(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){mH(e,n,r,i)}}class Abe extends yG{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Wu.has(n)){const r=GC(n);return r&&r.default||0}return n=gH.has(n)?n:OC(n),e.getAttribute(n)}measureInstanceViewportBox(){return Jn()}scrapeMotionValuesFromProps(e,n){return yH(e,n)}build(e,n,r,i){DC(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){vH(e,n,r,i)}mount(e){this.isSVGTag=LC(e.tagName),super.mount(e)}}const Ebe=(t,e)=>RC(t)?new Abe(e,{enableHardwareAcceleration:!1}):new Mbe(e,{enableHardwareAcceleration:!0}),Cbe={layout:{ProjectionNode:pG,MeasureLayout:lG}},Tbe={...rSe,...w1e,...lbe,...Cbe},KC=Ixe((t,e)=>o1e(t,e,Tbe,Ebe));function xG(){const t=T.useRef(!1);return Ly(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function Pbe(){const t=xG(),[e,n]=T.useState(0),r=T.useCallback(()=>{t.current&&n(e+1)},[e]);return[T.useCallback(()=>_n.postRender(r),[r]),e]}class Rbe extends T.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Bbe({children:t,isPresent:e}){const n=T.useId(),r=T.useRef(null),i=T.useRef({width:0,height:0,top:0,left:0});return T.useInsertionEffect(()=>{const{width:s,height:o,top:a,left:l}=i.current;if(e||!r.current||!s||!o)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),T.createElement(Rbe,{isPresent:e,childRef:r,sizeRef:i},T.cloneElement(t,{ref:r}))}const nb=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=TC(Ibe),l=T.useId(),u=T.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:c=>{a.set(c,!0);for(const d of a.values())if(!d)return;r&&r()},register:c=>(a.set(c,!1),()=>a.delete(c))}),s?void 0:[n]);return T.useMemo(()=>{a.forEach((c,d)=>a.set(d,!1))},[n]),T.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=T.createElement(Bbe,{isPresent:n},t)),T.createElement(Vx.Provider,{value:u},t)};function Ibe(){return new Map}function Dbe(t){return T.useEffect(()=>()=>t(),[])}const Vc=t=>t.key||"";function Lbe(t,e){t.forEach(n=>{const r=Vc(n);e.set(r,n)})}function Obe(t){const e=[];return T.Children.forEach(t,n=>{T.isValidElement(n)&&e.push(n)}),e}const Fbe=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{let[a]=Pbe();const l=T.useContext(PC).forceRender;l&&(a=l);const u=xG(),c=Obe(t);let d=c;const p=new Set,m=T.useRef(d),v=T.useRef(new Map).current,y=T.useRef(!0);if(Ly(()=>{y.current=!1,Lbe(c,v),m.current=d}),Dbe(()=>{y.current=!0,v.clear(),p.clear()}),y.current)return T.createElement(T.Fragment,null,d.map(S=>T.createElement(nb,{key:Vc(S),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:s,mode:o},S)));d=[...d];const x=m.current.map(Vc),g=c.map(Vc),b=x.length;for(let S=0;S<b;S++){const M=x[S];g.indexOf(M)===-1&&p.add(M)}return o==="wait"&&p.size&&(d=[]),p.forEach(S=>{if(g.indexOf(S)!==-1)return;const M=v.get(S);if(!M)return;const C=x.indexOf(S),E=()=>{v.delete(S),p.delete(S);const R=m.current.findIndex(I=>I.key===S);if(m.current.splice(R,1),!p.size){if(m.current=c,u.current===!1)return;a(),r&&r()}};d.splice(C,0,T.createElement(nb,{key:Vc(M),isPresent:!1,onExitComplete:E,custom:e,presenceAffectsLayout:s,mode:o},M))}),d=d.map(S=>{const M=S.key;return p.has(M)?S:T.createElement(nb,{key:Vc(S),isPresent:!0,presenceAffectsLayout:s,mode:o},S)}),T.createElement(T.Fragment,null,p.size?d:d.map(S=>T.cloneElement(S)))};var os={},Km={},kbe=dz,Nbe=Uae;function Ube(t,e){return t&&kbe(t,Nbe(e))}var XC=Ube,zbe=$u,Hbe=eC,Gbe=ha,$be="[object Object]",Vbe=Function.prototype,Wbe=Object.prototype,_G=Vbe.toString,jbe=Wbe.hasOwnProperty,Jbe=_G.call(Object);function Kbe(t){if(!Gbe(t)||zbe(t)!=$be)return!1;var e=Hbe(t);if(e===null)return!0;var n=jbe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&_G.call(n)==Jbe}var Xbe=Kbe;Object.defineProperty(Km,"__esModule",{value:!0});Km.flattenNames=void 0;var Ybe=rfe,Qbe=Zx(Ybe),Zbe=XC,qbe=Zx(Zbe),ewe=Xbe,twe=Zx(ewe),nwe=Lae,rwe=Zx(nwe);function Zx(t){return t&&t.__esModule?t:{default:t}}var iwe=Km.flattenNames=function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[];return(0,rwe.default)(e,function(r){Array.isArray(r)?t(r).map(function(i){return n.push(i)}):(0,twe.default)(r)?(0,qbe.default)(r,function(i,s){i===!0&&n.push(s),n.push(s+"-"+i)}):(0,Qbe.default)(r)&&n.push(r)}),n};Km.default=iwe;var Xm={},swe=Qce,owe=1,awe=4;function lwe(t){return swe(t,owe|awe)}var uwe=lwe;Object.defineProperty(Xm,"__esModule",{value:!0});Xm.mergeClasses=void 0;var cwe=XC,fwe=SG(cwe),dwe=uwe,hwe=SG(dwe),pwe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function SG(t){return t&&t.__esModule?t:{default:t}}var mwe=Xm.mergeClasses=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=e.default&&(0,hwe.default)(e.default)||{};return n.map(function(i){var s=e[i];return s&&(0,fwe.default)(s,function(o,a){r[a]||(r[a]={}),r[a]=pwe({},r[a],s[a])}),i}),r};Xm.default=mwe;var Ym={};Object.defineProperty(Ym,"__esModule",{value:!0});Ym.autoprefix=void 0;var gwe=XC,uO=ywe(gwe),vwe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function ywe(t){return t&&t.__esModule?t:{default:t}}var xwe={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var n=e&&e.split(" ");return{position:"absolute",top:n&&n[0],right:n&&n[1],bottom:n&&n[2],left:n&&n[3]}},extend:function(e,n){var r=n[e];return r||{extend:e}}},_we=Ym.autoprefix=function(e){var n={};return(0,uO.default)(e,function(r,i){var s={};(0,uO.default)(r,function(o,a){var l=xwe[a];l?s=vwe({},s,l(o)):s[a]=o}),n[i]=s}),n};Ym.default=_we;var Qm={};Object.defineProperty(Qm,"__esModule",{value:!0});Qm.hover=void 0;var Swe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bwe=T,rb=wwe(bwe);function wwe(t){return t&&t.__esModule?t:{default:t}}function Mwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cO(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Awe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Ewe=Qm.hover=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){Awe(i,r);function i(){var s,o,a,l;Mwe(this,i);for(var u=arguments.length,c=Array(u),d=0;d<u;d++)c[d]=arguments[d];return l=(o=(a=cO(this,(s=i.__proto__||Object.getPrototypeOf(i)).call.apply(s,[this].concat(c))),a),a.state={hover:!1},a.handleMouseOver=function(){return a.setState({hover:!0})},a.handleMouseOut=function(){return a.setState({hover:!1})},a.render=function(){return rb.default.createElement(n,{onMouseOver:a.handleMouseOver,onMouseOut:a.handleMouseOut},rb.default.createElement(e,Swe({},a.props,a.state)))},o),cO(a,l)}return i}(rb.default.Component)};Qm.default=Ewe;var Zm={};Object.defineProperty(Zm,"__esModule",{value:!0});Zm.active=void 0;var Cwe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Twe=T,ib=Pwe(Twe);function Pwe(t){return t&&t.__esModule?t:{default:t}}function Rwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fO(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Bwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Iwe=Zm.active=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){Bwe(i,r);function i(){var s,o,a,l;Rwe(this,i);for(var u=arguments.length,c=Array(u),d=0;d<u;d++)c[d]=arguments[d];return l=(o=(a=fO(this,(s=i.__proto__||Object.getPrototypeOf(i)).call.apply(s,[this].concat(c))),a),a.state={active:!1},a.handleMouseDown=function(){return a.setState({active:!0})},a.handleMouseUp=function(){return a.setState({active:!1})},a.render=function(){return ib.default.createElement(n,{onMouseDown:a.handleMouseDown,onMouseUp:a.handleMouseUp},ib.default.createElement(e,Cwe({},a.props,a.state)))},o),fO(a,l)}return i}(ib.default.Component)};Zm.default=Iwe;var YC={};Object.defineProperty(YC,"__esModule",{value:!0});var Dwe=function(e,n){var r={},i=function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;r[o]=a};return e===0&&i("first-child"),e===n-1&&i("last-child"),(e===0||e%2===0)&&i("even"),Math.abs(e%2)===1&&i("odd"),i("nth-child",e),r};YC.default=Dwe;Object.defineProperty(os,"__esModule",{value:!0});os.ReactCSS=os.loop=os.handleActive=QC=os.handleHover=os.hover=void 0;var Lwe=Km,Owe=Dd(Lwe),Fwe=Xm,kwe=Dd(Fwe),Nwe=Ym,Uwe=Dd(Nwe),zwe=Qm,bG=Dd(zwe),Hwe=Zm,Gwe=Dd(Hwe),$we=YC,Vwe=Dd($we);function Dd(t){return t&&t.__esModule?t:{default:t}}os.hover=bG.default;var QC=os.handleHover=bG.default;os.handleActive=Gwe.default;os.loop=Vwe.default;var Wwe=os.ReactCSS=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var s=(0,Owe.default)(r),o=(0,kwe.default)(e,s);return(0,Uwe.default)(o)},mt=os.default=Wwe,jwe=function(e,n,r,i,s){var o=s.clientWidth,a=s.clientHeight,l=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,u=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,c=l-(s.getBoundingClientRect().left+window.pageXOffset),d=u-(s.getBoundingClientRect().top+window.pageYOffset);if(r==="vertical"){var p=void 0;if(d<0?p=0:d>a?p=1:p=Math.round(d*100/a)/100,n.a!==p)return{h:n.h,s:n.s,l:n.l,a:p,source:"rgb"}}else{var m=void 0;if(c<0?m=0:c>o?m=1:m=Math.round(c*100/o)/100,i!==m)return{h:n.h,s:n.s,l:n.l,a:m,source:"rgb"}}return null},sb={},Jwe=function(e,n,r,i){if(typeof document>"u"&&!i)return null;var s=i?new i:document.createElement("canvas");s.width=r*2,s.height=r*2;var o=s.getContext("2d");return o?(o.fillStyle=e,o.fillRect(0,0,s.width,s.height),o.fillStyle=n,o.fillRect(0,0,r,r),o.translate(r,r),o.fillRect(0,0,r,r),s.toDataURL()):null},Kwe=function(e,n,r,i){var s=e+"-"+n+"-"+r+(i?"-server":"");if(sb[s])return sb[s];var o=Jwe(e,n,r,i);return sb[s]=o,o},dO=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ld=function(e){var n=e.white,r=e.grey,i=e.size,s=e.renderers,o=e.borderRadius,a=e.boxShadow,l=e.children,u=mt({default:{grid:{borderRadius:o,boxShadow:a,absolute:"0px 0px 0px 0px",background:"url("+Kwe(n,r,i,s.canvas)+") center left"}}});return T.isValidElement(l)?D.cloneElement(l,dO({},l.props,{style:dO({},l.props.style,u.grid)})):D.createElement("div",{style:u.grid})};Ld.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var Xwe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ywe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Qwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hO(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Zwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var ZC=function(t){Zwe(e,t);function e(){var n,r,i,s;Qwe(this,e);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return s=(r=(i=hO(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.handleChange=function(u){var c=jwe(u,i.props.hsl,i.props.direction,i.props.a,i.container);c&&typeof i.props.onChange=="function"&&i.props.onChange(c,u)},i.handleMouseDown=function(u){i.handleChange(u),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},i.unbindEventListeners=function(){window.removeEventListener("mousemove",i.handleChange),window.removeEventListener("mouseup",i.handleMouseUp)},r),hO(i,s)}return Ywe(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var r=this,i=this.props.rgb,s=mt({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:i.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)"},pointer:{left:0,top:i.a*100+"%"}},overwrite:Xwe({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return D.createElement("div",{style:s.alpha},D.createElement("div",{style:s.checkboard},D.createElement(Ld,{renderers:this.props.renderers})),D.createElement("div",{style:s.gradient}),D.createElement("div",{style:s.container,ref:function(a){return r.container=a},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},D.createElement("div",{style:s.pointer},this.props.pointer?D.createElement(this.props.pointer,this.props):D.createElement("div",{style:s.slider}))))}}]),e}(T.PureComponent||T.Component),qwe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function eMe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tMe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nMe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function rMe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var iMe=1,wG=38,sMe=40,oMe=[wG,sMe],aMe=function(e){return oMe.indexOf(e)>-1},lMe=function(e){return Number(String(e).replace(/%/g,""))},uMe=1,kt=function(t){rMe(e,t);function e(n){tMe(this,e);var r=nMe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.handleBlur=function(){r.state.blurValue&&r.setState({value:r.state.blurValue,blurValue:null})},r.handleChange=function(i){r.setUpdatedValue(i.target.value,i)},r.handleKeyDown=function(i){var s=lMe(i.target.value);if(!isNaN(s)&&aMe(i.keyCode)){var o=r.getArrowOffset(),a=i.keyCode===wG?s+o:s-o;r.setUpdatedValue(a,i)}},r.handleDrag=function(i){if(r.props.dragLabel){var s=Math.round(r.props.value+i.movementX);s>=0&&s<=r.props.dragMax&&r.props.onChange&&r.props.onChange(r.getValueObjectWithLabel(s),i)}},r.handleMouseDown=function(i){r.props.dragLabel&&(i.preventDefault(),r.handleDrag(i),window.addEventListener("mousemove",r.handleDrag),window.addEventListener("mouseup",r.handleMouseUp))},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleDrag),window.removeEventListener("mouseup",r.handleMouseUp)},r.state={value:String(n.value).toUpperCase(),blurValue:String(n.value).toUpperCase()},r.inputId="rc-editable-input-"+uMe++,r}return qwe(e,[{key:"componentDidUpdate",value:function(r,i){this.props.value!==this.state.value&&(r.value!==this.props.value||i.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(r){return eMe({},this.props.label,r)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||iMe}},{key:"setUpdatedValue",value:function(r,i){var s=this.props.label?this.getValueObjectWithLabel(r):r;this.props.onChange&&this.props.onChange(s,i),this.setState({value:r})}},{key:"render",value:function(){var r=this,i=mt({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return D.createElement("div",{style:i.wrap},D.createElement("input",{id:this.inputId,style:i.input,ref:function(o){return r.input=o},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?D.createElement("label",{htmlFor:this.inputId,style:i.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),e}(T.PureComponent||T.Component),cMe=function(e,n,r,i){var s=i.clientWidth,o=i.clientHeight,a=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,u=a-(i.getBoundingClientRect().left+window.pageXOffset),c=l-(i.getBoundingClientRect().top+window.pageYOffset);if(n==="vertical"){var d=void 0;if(c<0)d=359;else if(c>o)d=0;else{var p=-(c*100/o)+100;d=360*p/100}if(r.h!==d)return{h:d,s:r.s,l:r.l,a:r.a,source:"hsl"}}else{var m=void 0;if(u<0)m=0;else if(u>s)m=359;else{var v=u*100/s;m=360*v/100}if(r.h!==m)return{h:m,s:r.s,l:r.l,a:r.a,source:"hsl"}}return null},fMe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function dMe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pO(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function hMe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Od=function(t){hMe(e,t);function e(){var n,r,i,s;dMe(this,e);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return s=(r=(i=pO(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.handleChange=function(u){var c=cMe(u,i.props.direction,i.props.hsl,i.container);c&&typeof i.props.onChange=="function"&&i.props.onChange(c,u)},i.handleMouseDown=function(u){i.handleChange(u),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},r),pO(i,s)}return fMe(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.direction,s=i===void 0?"horizontal":i,o=mt({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:s==="vertical"});return D.createElement("div",{style:o.hue},D.createElement("div",{className:"hue-"+s,style:o.container,ref:function(l){return r.container=l},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},D.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),D.createElement("div",{style:o.pointer},this.props.pointer?D.createElement(this.props.pointer,this.props):D.createElement("div",{style:o.slider}))))}}]),e}(T.PureComponent||T.Component);function pMe(){this.__data__=[],this.size=0}function qm(t,e){return t===e||t!==t&&e!==e}function qx(t,e){for(var n=t.length;n--;)if(qm(t[n][0],e))return n;return-1}var mMe=Array.prototype,gMe=mMe.splice;function vMe(t){var e=this.__data__,n=qx(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():gMe.call(e,n,1),--this.size,!0}function yMe(t){var e=this.__data__,n=qx(e,t);return n<0?void 0:e[n][1]}function xMe(t){return qx(this.__data__,t)>-1}function _Me(t,e){var n=this.__data__,r=qx(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function ma(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ma.prototype.clear=pMe;ma.prototype.delete=vMe;ma.prototype.get=yMe;ma.prototype.has=xMe;ma.prototype.set=_Me;function SMe(){this.__data__=new ma,this.size=0}function bMe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function wMe(t){return this.__data__.get(t)}function MMe(t){return this.__data__.has(t)}var AMe=typeof global=="object"&&global&&global.Object===Object&&global;const MG=AMe;var EMe=typeof self=="object"&&self&&self.Object===Object&&self,CMe=MG||EMe||Function("return this")();const Ks=CMe;var TMe=Ks.Symbol;const gl=TMe;var AG=Object.prototype,PMe=AG.hasOwnProperty,RMe=AG.toString,kh=gl?gl.toStringTag:void 0;function BMe(t){var e=PMe.call(t,kh),n=t[kh];try{t[kh]=void 0;var r=!0}catch{}var i=RMe.call(t);return r&&(e?t[kh]=n:delete t[kh]),i}var IMe=Object.prototype,DMe=IMe.toString;function LMe(t){return DMe.call(t)}var OMe="[object Null]",FMe="[object Undefined]",mO=gl?gl.toStringTag:void 0;function Ju(t){return t==null?t===void 0?FMe:OMe:mO&&mO in Object(t)?BMe(t):LMe(t)}function hs(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var kMe="[object AsyncFunction]",NMe="[object Function]",UMe="[object GeneratorFunction]",zMe="[object Proxy]";function qC(t){if(!hs(t))return!1;var e=Ju(t);return e==NMe||e==UMe||e==kMe||e==zMe}var HMe=Ks["__core-js_shared__"];const ob=HMe;var gO=function(){var t=/[^.]+$/.exec(ob&&ob.keys&&ob.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function GMe(t){return!!gO&&gO in t}var $Me=Function.prototype,VMe=$Me.toString;function Ku(t){if(t!=null){try{return VMe.call(t)}catch{}try{return t+""}catch{}}return""}var WMe=/[\\^$.*+?()[\]{}|]/g,jMe=/^\[object .+?Constructor\]$/,JMe=Function.prototype,KMe=Object.prototype,XMe=JMe.toString,YMe=KMe.hasOwnProperty,QMe=RegExp("^"+XMe.call(YMe).replace(WMe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ZMe(t){if(!hs(t)||GMe(t))return!1;var e=qC(t)?QMe:jMe;return e.test(Ku(t))}function qMe(t,e){return t==null?void 0:t[e]}function Xu(t,e){var n=qMe(t,e);return ZMe(n)?n:void 0}var eAe=Xu(Ks,"Map");const lm=eAe;var tAe=Xu(Object,"create");const um=tAe;function nAe(){this.__data__=um?um(null):{},this.size=0}function rAe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var iAe="__lodash_hash_undefined__",sAe=Object.prototype,oAe=sAe.hasOwnProperty;function aAe(t){var e=this.__data__;if(um){var n=e[t];return n===iAe?void 0:n}return oAe.call(e,t)?e[t]:void 0}var lAe=Object.prototype,uAe=lAe.hasOwnProperty;function cAe(t){var e=this.__data__;return um?e[t]!==void 0:uAe.call(e,t)}var fAe="__lodash_hash_undefined__";function dAe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=um&&e===void 0?fAe:e,this}function Ou(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ou.prototype.clear=nAe;Ou.prototype.delete=rAe;Ou.prototype.get=aAe;Ou.prototype.has=cAe;Ou.prototype.set=dAe;function hAe(){this.size=0,this.__data__={hash:new Ou,map:new(lm||ma),string:new Ou}}function pAe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function e1(t,e){var n=t.__data__;return pAe(e)?n[typeof e=="string"?"string":"hash"]:n.map}function mAe(t){var e=e1(this,t).delete(t);return this.size-=e?1:0,e}function gAe(t){return e1(this,t).get(t)}function vAe(t){return e1(this,t).has(t)}function yAe(t,e){var n=e1(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function ga(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ga.prototype.clear=hAe;ga.prototype.delete=mAe;ga.prototype.get=gAe;ga.prototype.has=vAe;ga.prototype.set=yAe;var xAe=200;function _Ae(t,e){var n=this.__data__;if(n instanceof ma){var r=n.__data__;if(!lm||r.length<xAe-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new ga(r)}return n.set(t,e),this.size=n.size,this}function mo(t){var e=this.__data__=new ma(t);this.size=e.size}mo.prototype.clear=SMe;mo.prototype.delete=bMe;mo.prototype.get=wMe;mo.prototype.has=MMe;mo.prototype.set=_Ae;var SAe=function(){try{var t=Xu(Object,"defineProperty");return t({},"",{}),t}catch{}}();const $y=SAe;function eT(t,e,n){e=="__proto__"&&$y?$y(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function VM(t,e,n){(n!==void 0&&!qm(t[e],n)||n===void 0&&!(e in t))&&eT(t,e,n)}function bAe(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var l=o[t?a:++i];if(n(s[l],l,s)===!1)break}return e}}var wAe=bAe();const EG=wAe;var CG=typeof Ii=="object"&&Ii&&!Ii.nodeType&&Ii,vO=CG&&typeof Di=="object"&&Di&&!Di.nodeType&&Di,MAe=vO&&vO.exports===CG,yO=MAe?Ks.Buffer:void 0,xO=yO?yO.allocUnsafe:void 0;function AAe(t,e){if(e)return t.slice();var n=t.length,r=xO?xO(n):new t.constructor(n);return t.copy(r),r}var EAe=Ks.Uint8Array;const Vy=EAe;function CAe(t){var e=new t.constructor(t.byteLength);return new Vy(e).set(new Vy(t)),e}function TAe(t,e){var n=e?CAe(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function PAe(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var _O=Object.create,RAe=function(){function t(){}return function(e){if(!hs(e))return{};if(_O)return _O(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();const BAe=RAe;function TG(t,e){return function(n){return t(e(n))}}var IAe=TG(Object.getPrototypeOf,Object);const PG=IAe;var DAe=Object.prototype;function tT(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||DAe;return t===n}function LAe(t){return typeof t.constructor=="function"&&!tT(t)?BAe(PG(t)):{}}function vl(t){return t!=null&&typeof t=="object"}var OAe="[object Arguments]";function SO(t){return vl(t)&&Ju(t)==OAe}var RG=Object.prototype,FAe=RG.hasOwnProperty,kAe=RG.propertyIsEnumerable,NAe=SO(function(){return arguments}())?SO:function(t){return vl(t)&&FAe.call(t,"callee")&&!kAe.call(t,"callee")};const Wy=NAe;var UAe=Array.isArray;const Ui=UAe;var zAe=9007199254740991;function nT(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=zAe}function Fd(t){return t!=null&&nT(t.length)&&!qC(t)}function HAe(t){return vl(t)&&Fd(t)}function GAe(){return!1}var BG=typeof Ii=="object"&&Ii&&!Ii.nodeType&&Ii,bO=BG&&typeof Di=="object"&&Di&&!Di.nodeType&&Di,$Ae=bO&&bO.exports===BG,wO=$Ae?Ks.Buffer:void 0,VAe=wO?wO.isBuffer:void 0,WAe=VAe||GAe;const jy=WAe;var jAe="[object Object]",JAe=Function.prototype,KAe=Object.prototype,IG=JAe.toString,XAe=KAe.hasOwnProperty,YAe=IG.call(Object);function QAe(t){if(!vl(t)||Ju(t)!=jAe)return!1;var e=PG(t);if(e===null)return!0;var n=XAe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&IG.call(n)==YAe}var ZAe="[object Arguments]",qAe="[object Array]",eEe="[object Boolean]",tEe="[object Date]",nEe="[object Error]",rEe="[object Function]",iEe="[object Map]",sEe="[object Number]",oEe="[object Object]",aEe="[object RegExp]",lEe="[object Set]",uEe="[object String]",cEe="[object WeakMap]",fEe="[object ArrayBuffer]",dEe="[object DataView]",hEe="[object Float32Array]",pEe="[object Float64Array]",mEe="[object Int8Array]",gEe="[object Int16Array]",vEe="[object Int32Array]",yEe="[object Uint8Array]",xEe="[object Uint8ClampedArray]",_Ee="[object Uint16Array]",SEe="[object Uint32Array]",hn={};hn[hEe]=hn[pEe]=hn[mEe]=hn[gEe]=hn[vEe]=hn[yEe]=hn[xEe]=hn[_Ee]=hn[SEe]=!0;hn[ZAe]=hn[qAe]=hn[fEe]=hn[eEe]=hn[dEe]=hn[tEe]=hn[nEe]=hn[rEe]=hn[iEe]=hn[sEe]=hn[oEe]=hn[aEe]=hn[lEe]=hn[uEe]=hn[cEe]=!1;function bEe(t){return vl(t)&&nT(t.length)&&!!hn[Ju(t)]}function wEe(t){return function(e){return t(e)}}var DG=typeof Ii=="object"&&Ii&&!Ii.nodeType&&Ii,bp=DG&&typeof Di=="object"&&Di&&!Di.nodeType&&Di,MEe=bp&&bp.exports===DG,ab=MEe&&MG.process,AEe=function(){try{var t=bp&&bp.require&&bp.require("util").types;return t||ab&&ab.binding&&ab.binding("util")}catch{}}();const MO=AEe;var AO=MO&&MO.isTypedArray,EEe=AO?wEe(AO):bEe;const rT=EEe;function WM(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var CEe=Object.prototype,TEe=CEe.hasOwnProperty;function PEe(t,e,n){var r=t[e];(!(TEe.call(t,e)&&qm(r,n))||n===void 0&&!(e in t))&&eT(t,e,n)}function REe(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?eT(n,a,l):PEe(n,a,l)}return n}function BEe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var IEe=9007199254740991,DEe=/^(?:0|[1-9]\d*)$/;function iT(t,e){var n=typeof t;return e=e??IEe,!!e&&(n=="number"||n!="symbol"&&DEe.test(t))&&t>-1&&t%1==0&&t<e}var LEe=Object.prototype,OEe=LEe.hasOwnProperty;function LG(t,e){var n=Ui(t),r=!n&&Wy(t),i=!n&&!r&&jy(t),s=!n&&!r&&!i&&rT(t),o=n||r||i||s,a=o?BEe(t.length,String):[],l=a.length;for(var u in t)(e||OEe.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||iT(u,l)))&&a.push(u);return a}function FEe(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var kEe=Object.prototype,NEe=kEe.hasOwnProperty;function UEe(t){if(!hs(t))return FEe(t);var e=tT(t),n=[];for(var r in t)r=="constructor"&&(e||!NEe.call(t,r))||n.push(r);return n}function OG(t){return Fd(t)?LG(t,!0):UEe(t)}function zEe(t){return REe(t,OG(t))}function HEe(t,e,n,r,i,s,o){var a=WM(t,n),l=WM(e,n),u=o.get(l);if(u){VM(t,n,u);return}var c=s?s(a,l,n+"",t,e,o):void 0,d=c===void 0;if(d){var p=Ui(l),m=!p&&jy(l),v=!p&&!m&&rT(l);c=l,p||m||v?Ui(a)?c=a:HAe(a)?c=PAe(a):m?(d=!1,c=AAe(l,!0)):v?(d=!1,c=TAe(l,!0)):c=[]:QAe(l)||Wy(l)?(c=a,Wy(a)?c=zEe(a):(!hs(a)||qC(a))&&(c=LAe(l))):d=!1}d&&(o.set(l,c),i(c,l,r,s,o),o.delete(l)),VM(t,n,c)}function FG(t,e,n,r,i){t!==e&&EG(e,function(s,o){if(i||(i=new mo),hs(s))HEe(t,e,o,n,FG,r,i);else{var a=r?r(WM(t,o),s,o+"",t,e,i):void 0;a===void 0&&(a=s),VM(t,o,a)}},OG)}function t1(t){return t}function GEe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var EO=Math.max;function $Ee(t,e,n){return e=EO(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=EO(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(o),GEe(t,this,a)}}function VEe(t){return function(){return t}}var WEe=$y?function(t,e){return $y(t,"toString",{configurable:!0,enumerable:!1,value:VEe(e),writable:!0})}:t1;const jEe=WEe;var JEe=800,KEe=16,XEe=Date.now;function YEe(t){var e=0,n=0;return function(){var r=XEe(),i=KEe-(r-n);if(n=r,i>0){if(++e>=JEe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var QEe=YEe(jEe);const ZEe=QEe;function qEe(t,e){return ZEe($Ee(t,e,t1),t+"")}function eCe(t,e,n){if(!hs(n))return!1;var r=typeof e;return(r=="number"?Fd(n)&&iT(e,n.length):r=="string"&&e in n)?qm(n[e],t):!1}function tCe(t){return qEe(function(e,n){var r=-1,i=n.length,s=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,o&&eCe(n[0],n[1],o)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var a=n[r];a&&t(e,a,r,s)}return e})}var nCe=tCe(function(t,e,n){FG(t,e,n)});const gi=nCe;var eg=function(e){var n=e.zDepth,r=e.radius,i=e.background,s=e.children,o=e.styles,a=o===void 0?{}:o,l=mt(gi({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+n+"px "+n*4+"px rgba(0,0,0,.24)",borderRadius:r,background:i}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},a),{"zDepth-1":n===1});return D.createElement("div",{style:l.wrap},D.createElement("div",{style:l.bg}),D.createElement("div",{style:l.content},s))};eg.propTypes={background:Se.string,zDepth:Se.oneOf([0,1,2,3,4,5]),radius:Se.number,styles:Se.object};eg.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var rCe=function(){return Ks.Date.now()};const lb=rCe;var iCe=/\s/;function sCe(t){for(var e=t.length;e--&&iCe.test(t.charAt(e)););return e}var oCe=/^\s+/;function aCe(t){return t&&t.slice(0,sCe(t)+1).replace(oCe,"")}var lCe="[object Symbol]";function n1(t){return typeof t=="symbol"||vl(t)&&Ju(t)==lCe}var CO=0/0,uCe=/^[-+]0x[0-9a-f]+$/i,cCe=/^0b[01]+$/i,fCe=/^0o[0-7]+$/i,dCe=parseInt;function TO(t){if(typeof t=="number")return t;if(n1(t))return CO;if(hs(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=hs(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=aCe(t);var n=cCe.test(t);return n||fCe.test(t)?dCe(t.slice(2),n?2:8):uCe.test(t)?CO:+t}var hCe="Expected a function",pCe=Math.max,mCe=Math.min;function kG(t,e,n){var r,i,s,o,a,l,u=0,c=!1,d=!1,p=!0;if(typeof t!="function")throw new TypeError(hCe);e=TO(e)||0,hs(n)&&(c=!!n.leading,d="maxWait"in n,s=d?pCe(TO(n.maxWait)||0,e):s,p="trailing"in n?!!n.trailing:p);function m(E){var R=r,I=i;return r=i=void 0,u=E,o=t.apply(I,R),o}function v(E){return u=E,a=setTimeout(g,e),c?m(E):o}function y(E){var R=E-l,I=E-u,P=e-R;return d?mCe(P,s-I):P}function x(E){var R=E-l,I=E-u;return l===void 0||R>=e||R<0||d&&I>=s}function g(){var E=lb();if(x(E))return b(E);a=setTimeout(g,y(E))}function b(E){return a=void 0,p&&r?m(E):(r=i=void 0,o)}function S(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function M(){return a===void 0?o:b(lb())}function C(){var E=lb(),R=x(E);if(r=arguments,i=this,l=E,R){if(a===void 0)return v(l);if(d)return clearTimeout(a),a=setTimeout(g,e),m(l)}return a===void 0&&(a=setTimeout(g,e)),o}return C.cancel=S,C.flush=M,C}var gCe="Expected a function";function vCe(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(gCe);return hs(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),kG(t,e,{leading:r,maxWait:e,trailing:i})}var yCe=function(e,n,r){var i=r.getBoundingClientRect(),s=i.width,o=i.height,a=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,u=a-(r.getBoundingClientRect().left+window.pageXOffset),c=l-(r.getBoundingClientRect().top+window.pageYOffset);u<0?u=0:u>s&&(u=s),c<0?c=0:c>o&&(c=o);var d=u/s,p=1-c/o;return{h:n.h,s:d,v:p,a:n.a,source:"hsv"}},xCe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function _Ce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SCe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function bCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var r1=function(t){bCe(e,t);function e(n){_Ce(this,e);var r=SCe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.handleChange=function(i){typeof r.props.onChange=="function"&&r.throttle(r.props.onChange,yCe(i,r.props.hsl,r.container),i)},r.handleMouseDown=function(i){r.handleChange(i);var s=r.getContainerRenderWindow();s.addEventListener("mousemove",r.handleChange),s.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.throttle=vCe(function(i,s,o){i(s,o)},50),r}return xCe(e,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var r=this.container,i=window;!i.document.contains(r)&&i.parent!==i;)i=i.parent;return i}},{key:"unbindEventListeners",value:function(){var r=this.getContainerRenderWindow();r.removeEventListener("mousemove",this.handleChange),r.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.style||{},s=i.color,o=i.white,a=i.black,l=i.pointer,u=i.circle,c=mt({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:s,white:o,black:a,pointer:l,circle:u}},{custom:!!this.props.style});return D.createElement("div",{style:c.color,ref:function(p){return r.container=p},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},D.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),D.createElement("div",{style:c.white,className:"saturation-white"},D.createElement("div",{style:c.black,className:"saturation-black"}),D.createElement("div",{style:c.pointer},this.props.pointer?D.createElement(this.props.pointer,this.props):D.createElement("div",{style:c.circle}))))}}]),e}(T.PureComponent||T.Component);function wCe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var MCe=TG(Object.keys,Object);const ACe=MCe;var ECe=Object.prototype,CCe=ECe.hasOwnProperty;function TCe(t){if(!tT(t))return ACe(t);var e=[];for(var n in Object(t))CCe.call(t,n)&&n!="constructor"&&e.push(n);return e}function sT(t){return Fd(t)?LG(t):TCe(t)}function PCe(t,e){return t&&EG(t,e,sT)}function RCe(t,e){return function(n,r){if(n==null)return n;if(!Fd(n))return t(n,r);for(var i=n.length,s=e?i:-1,o=Object(n);(e?s--:++s<i)&&r(o[s],s,o)!==!1;);return n}}var BCe=RCe(PCe);const NG=BCe;function ICe(t){return typeof t=="function"?t:t1}function DCe(t,e){var n=Ui(t)?wCe:NG;return n(t,ICe(e))}function Jy(t){return Jy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jy(t)}var LCe=/^\s+/,OCe=/\s+$/;function Je(t,e){if(t=t||"",e=e||{},t instanceof Je)return t;if(!(this instanceof Je))return new Je(t,e);var n=FCe(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}Je.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),n,r,i,s,o,a;return n=e.r/255,r=e.g/255,i=e.b/255,n<=.03928?s=n/12.92:s=Math.pow((n+.055)/1.055,2.4),r<=.03928?o=r/12.92:o=Math.pow((r+.055)/1.055,2.4),i<=.03928?a=i/12.92:a=Math.pow((i+.055)/1.055,2.4),.2126*s+.7152*o+.0722*a},setAlpha:function(e){return this._a=UG(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=RO(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=RO(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+i+"%)":"hsva("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=PO(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=PO(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+i+"%)":"hsla("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return BO(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return zCe(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(yn(this._r,255)*100)+"%",g:Math.round(yn(this._g,255)*100)+"%",b:Math.round(yn(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(yn(this._r,255)*100)+"%, "+Math.round(yn(this._g,255)*100)+"%, "+Math.round(yn(this._b,255)*100)+"%)":"rgba("+Math.round(yn(this._r,255)*100)+"%, "+Math.round(yn(this._g,255)*100)+"%, "+Math.round(yn(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:ZCe[BO(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var n="#"+IO(this._r,this._g,this._b,this._a),r=n,i=this._gradientType?"GradientType = 1, ":"";if(e){var s=Je(e);r="#"+IO(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+n+",endColorstr="+r+")"},toString:function(e){var n=!!e;e=e||this._format;var r=!1,i=this._a<1&&this._a>=0,s=!n&&i&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return s?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return Je(this.toString())},_applyModification:function(e,n){var r=e.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(VCe,arguments)},brighten:function(){return this._applyModification(WCe,arguments)},darken:function(){return this._applyModification(jCe,arguments)},desaturate:function(){return this._applyModification(HCe,arguments)},saturate:function(){return this._applyModification(GCe,arguments)},greyscale:function(){return this._applyModification($Ce,arguments)},spin:function(){return this._applyModification(JCe,arguments)},_applyCombination:function(e,n){return e.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(YCe,arguments)},complement:function(){return this._applyCombination(KCe,arguments)},monochromatic:function(){return this._applyCombination(QCe,arguments)},splitcomplement:function(){return this._applyCombination(XCe,arguments)},triad:function(){return this._applyCombination(DO,[3])},tetrad:function(){return this._applyCombination(DO,[4])}};Je.fromRatio=function(t,e){if(Jy(t)=="object"){var n={};for(var r in t)t.hasOwnProperty(r)&&(r==="a"?n[r]=t[r]:n[r]=Xh(t[r]));t=n}return Je(t,e)};function FCe(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,s=null,o=!1,a=!1;return typeof t=="string"&&(t=nTe(t)),Jy(t)=="object"&&(Uo(t.r)&&Uo(t.g)&&Uo(t.b)?(e=kCe(t.r,t.g,t.b),o=!0,a=String(t.r).substr(-1)==="%"?"prgb":"rgb"):Uo(t.h)&&Uo(t.s)&&Uo(t.v)?(r=Xh(t.s),i=Xh(t.v),e=UCe(t.h,r,i),o=!0,a="hsv"):Uo(t.h)&&Uo(t.s)&&Uo(t.l)&&(r=Xh(t.s),s=Xh(t.l),e=NCe(t.h,r,s),o=!0,a="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=UG(n),{ok:o,format:t.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}function kCe(t,e,n){return{r:yn(t,255)*255,g:yn(e,255)*255,b:yn(n,255)*255}}function PO(t,e,n){t=yn(t,255),e=yn(e,255),n=yn(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),s,o,a=(r+i)/2;if(r==i)s=o=0;else{var l=r-i;switch(o=a>.5?l/(2-r-i):l/(r+i),r){case t:s=(e-n)/l+(e<n?6:0);break;case e:s=(n-t)/l+2;break;case n:s=(t-e)/l+4;break}s/=6}return{h:s,s:o,l:a}}function NCe(t,e,n){var r,i,s;t=yn(t,360),e=yn(e,100),n=yn(n,100);function o(u,c,d){return d<0&&(d+=1),d>1&&(d-=1),d<1/6?u+(c-u)*6*d:d<1/2?c:d<2/3?u+(c-u)*(2/3-d)*6:u}if(e===0)r=i=s=n;else{var a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;r=o(l,a,t+1/3),i=o(l,a,t),s=o(l,a,t-1/3)}return{r:r*255,g:i*255,b:s*255}}function RO(t,e,n){t=yn(t,255),e=yn(e,255),n=yn(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),s,o,a=r,l=r-i;if(o=r===0?0:l/r,r==i)s=0;else{switch(r){case t:s=(e-n)/l+(e<n?6:0);break;case e:s=(n-t)/l+2;break;case n:s=(t-e)/l+4;break}s/=6}return{h:s,s:o,v:a}}function UCe(t,e,n){t=yn(t,360)*6,e=yn(e,100),n=yn(n,100);var r=Math.floor(t),i=t-r,s=n*(1-e),o=n*(1-i*e),a=n*(1-(1-i)*e),l=r%6,u=[n,o,s,s,a,n][l],c=[a,n,n,o,s,s][l],d=[s,s,a,n,n,o][l];return{r:u*255,g:c*255,b:d*255}}function BO(t,e,n,r){var i=[Os(Math.round(t).toString(16)),Os(Math.round(e).toString(16)),Os(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function zCe(t,e,n,r,i){var s=[Os(Math.round(t).toString(16)),Os(Math.round(e).toString(16)),Os(Math.round(n).toString(16)),Os(zG(r))];return i&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function IO(t,e,n,r){var i=[Os(zG(r)),Os(Math.round(t).toString(16)),Os(Math.round(e).toString(16)),Os(Math.round(n).toString(16))];return i.join("")}Je.equals=function(t,e){return!t||!e?!1:Je(t).toRgbString()==Je(e).toRgbString()};Je.random=function(){return Je.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function HCe(t,e){e=e===0?0:e||10;var n=Je(t).toHsl();return n.s-=e/100,n.s=i1(n.s),Je(n)}function GCe(t,e){e=e===0?0:e||10;var n=Je(t).toHsl();return n.s+=e/100,n.s=i1(n.s),Je(n)}function $Ce(t){return Je(t).desaturate(100)}function VCe(t,e){e=e===0?0:e||10;var n=Je(t).toHsl();return n.l+=e/100,n.l=i1(n.l),Je(n)}function WCe(t,e){e=e===0?0:e||10;var n=Je(t).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),Je(n)}function jCe(t,e){e=e===0?0:e||10;var n=Je(t).toHsl();return n.l-=e/100,n.l=i1(n.l),Je(n)}function JCe(t,e){var n=Je(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,Je(n)}function KCe(t){var e=Je(t).toHsl();return e.h=(e.h+180)%360,Je(e)}function DO(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var n=Je(t).toHsl(),r=[Je(t)],i=360/e,s=1;s<e;s++)r.push(Je({h:(n.h+s*i)%360,s:n.s,l:n.l}));return r}function XCe(t){var e=Je(t).toHsl(),n=e.h;return[Je(t),Je({h:(n+72)%360,s:e.s,l:e.l}),Je({h:(n+216)%360,s:e.s,l:e.l})]}function YCe(t,e,n){e=e||6,n=n||30;var r=Je(t).toHsl(),i=360/n,s=[Je(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,s.push(Je(r));return s}function QCe(t,e){e=e||6;for(var n=Je(t).toHsv(),r=n.h,i=n.s,s=n.v,o=[],a=1/e;e--;)o.push(Je({h:r,s:i,v:s})),s=(s+a)%1;return o}Je.mix=function(t,e,n){n=n===0?0:n||50;var r=Je(t).toRgb(),i=Je(e).toRgb(),s=n/100,o={r:(i.r-r.r)*s+r.r,g:(i.g-r.g)*s+r.g,b:(i.b-r.b)*s+r.b,a:(i.a-r.a)*s+r.a};return Je(o)};Je.readability=function(t,e){var n=Je(t),r=Je(e);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};Je.isReadable=function(t,e,n){var r=Je.readability(t,e),i,s;switch(s=!1,i=rTe(n),i.level+i.size){case"AAsmall":case"AAAlarge":s=r>=4.5;break;case"AAlarge":s=r>=3;break;case"AAAsmall":s=r>=7;break}return s};Je.mostReadable=function(t,e,n){var r=null,i=0,s,o,a,l;n=n||{},o=n.includeFallbackColors,a=n.level,l=n.size;for(var u=0;u<e.length;u++)s=Je.readability(t,e[u]),s>i&&(i=s,r=Je(e[u]));return Je.isReadable(t,r,{level:a,size:l})||!o?r:(n.includeFallbackColors=!1,Je.mostReadable(t,["#fff","#000"],n))};var jM=Je.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},ZCe=Je.hexNames=qCe(jM);function qCe(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function UG(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function yn(t,e){eTe(t)&&(t="100%");var n=tTe(t);return t=Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function i1(t){return Math.min(1,Math.max(0,t))}function Ai(t){return parseInt(t,16)}function eTe(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function tTe(t){return typeof t=="string"&&t.indexOf("%")!=-1}function Os(t){return t.length==1?"0"+t:""+t}function Xh(t){return t<=1&&(t=t*100+"%"),t}function zG(t){return Math.round(parseFloat(t)*255).toString(16)}function LO(t){return Ai(t)/255}var Ps=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Uo(t){return!!Ps.CSS_UNIT.exec(t)}function nTe(t){t=t.replace(LCe,"").replace(OCe,"").toLowerCase();var e=!1;if(jM[t])t=jM[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=Ps.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=Ps.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Ps.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=Ps.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Ps.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=Ps.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Ps.hex8.exec(t))?{r:Ai(n[1]),g:Ai(n[2]),b:Ai(n[3]),a:LO(n[4]),format:e?"name":"hex8"}:(n=Ps.hex6.exec(t))?{r:Ai(n[1]),g:Ai(n[2]),b:Ai(n[3]),format:e?"name":"hex"}:(n=Ps.hex4.exec(t))?{r:Ai(n[1]+""+n[1]),g:Ai(n[2]+""+n[2]),b:Ai(n[3]+""+n[3]),a:LO(n[4]+""+n[4]),format:e?"name":"hex8"}:(n=Ps.hex3.exec(t))?{r:Ai(n[1]+""+n[1]),g:Ai(n[2]+""+n[2]),b:Ai(n[3]+""+n[3]),format:e?"name":"hex"}:!1}function rTe(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:e,size:n}}var OO=function(e){var n=["r","g","b","a","h","s","l","v"],r=0,i=0;return DCe(n,function(s){if(e[s]&&(r+=1,isNaN(e[s])||(i+=1),s==="s"||s==="l")){var o=/^\d+%$/;o.test(e[s])&&(i+=1)}}),r===i?e:!1},Yh=function(e,n){var r=e.hex?Je(e.hex):Je(e),i=r.toHsl(),s=r.toHsv(),o=r.toRgb(),a=r.toHex();i.s===0&&(i.h=n||0,s.h=n||0);var l=a==="000000"&&o.a===0;return{hsl:i,hex:l?"transparent":"#"+a,rgb:o,hsv:s,oldHue:e.h||n||i.h,source:e.source}},El=function(e){if(e==="transparent")return!0;var n=String(e).charAt(0)==="#"?1:0;return e.length!==4+n&&e.length<7+n&&Je(e).isValid()},oT=function(e){if(!e)return"#fff";var n=Yh(e);if(n.hex==="transparent")return"rgba(0,0,0,0.4)";var r=(n.rgb.r*299+n.rgb.g*587+n.rgb.b*114)/1e3;return r>=128?"#000":"#fff"},ub=function(e,n){var r=e.replace("°","");return Je(n+" ("+r+")")._ok},Nh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iTe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function sTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oTe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function aTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var vi=function(e){var n=function(r){aTe(i,r);function i(s){sTe(this,i);var o=oTe(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return o.handleChange=function(a,l){var u=OO(a);if(u){var c=Yh(a,a.h||o.state.oldHue);o.setState(c),o.props.onChangeComplete&&o.debounce(o.props.onChangeComplete,c,l),o.props.onChange&&o.props.onChange(c,l)}},o.handleSwatchHover=function(a,l){var u=OO(a);if(u){var c=Yh(a,a.h||o.state.oldHue);o.props.onSwatchHover&&o.props.onSwatchHover(c,l)}},o.state=Nh({},Yh(s.color,0)),o.debounce=kG(function(a,l,u){a(l,u)},100),o}return iTe(i,[{key:"render",value:function(){var o={};return this.props.onSwatchHover&&(o.onSwatchHover=this.handleSwatchHover),D.createElement(e,Nh({},this.props,this.state,{onChange:this.handleChange},o))}}],[{key:"getDerivedStateFromProps",value:function(o,a){return Nh({},Yh(o.color,a.oldHue))}}]),i}(T.PureComponent||T.Component);return n.propTypes=Nh({},e.propTypes),n.defaultProps=Nh({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),n},lTe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uTe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function cTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FO(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function fTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var dTe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){fTe(i,r);function i(){var s,o,a,l;cTe(this,i);for(var u=arguments.length,c=Array(u),d=0;d<u;d++)c[d]=arguments[d];return l=(o=(a=FO(this,(s=i.__proto__||Object.getPrototypeOf(i)).call.apply(s,[this].concat(c))),a),a.state={focus:!1},a.handleFocus=function(){return a.setState({focus:!0})},a.handleBlur=function(){return a.setState({focus:!1})},o),FO(a,l)}return uTe(i,[{key:"render",value:function(){return D.createElement(n,{onFocus:this.handleFocus,onBlur:this.handleBlur},D.createElement(e,lTe({},this.props,this.state)))}}]),i}(D.Component)},kO=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hTe=13,pTe=function(e){var n=e.color,r=e.style,i=e.onClick,s=i===void 0?function(){}:i,o=e.onHover,a=e.title,l=a===void 0?n:a,u=e.children,c=e.focus,d=e.focusStyle,p=d===void 0?{}:d,m=n==="transparent",v=mt({default:{swatch:kO({background:n,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},r,c?p:{})}}),y=function(M){return s(n,M)},x=function(M){return M.keyCode===hTe&&s(n,M)},g=function(M){return o(n,M)},b={};return o&&(b.onMouseOver=g),D.createElement("div",kO({style:v.swatch,onClick:y,title:l,tabIndex:0,onKeyDown:x},b),u,m&&D.createElement(Ld,{borderRadius:v.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};const Yu=dTe(pTe);var mTe=function(e){var n=e.direction,r=mt({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return D.createElement("div",{style:r.picker})},gTe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},HG=function(e){var n=e.rgb,r=e.hsl,i=e.width,s=e.height,o=e.onChange,a=e.direction,l=e.style,u=e.renderers,c=e.pointer,d=e.className,p=d===void 0?"":d,m=mt({default:{picker:{position:"relative",width:i,height:s},alpha:{radius:"2px",style:l}}});return D.createElement("div",{style:m.picker,className:"alpha-picker "+p},D.createElement(ZC,gTe({},m.alpha,{rgb:n,hsl:r,pointer:c,renderers:u,onChange:o,direction:a})))};HG.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:mTe};vi(HG);function GG(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var vTe="__lodash_hash_undefined__";function yTe(t){return this.__data__.set(t,vTe),this}function xTe(t){return this.__data__.has(t)}function Ky(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new ga;++e<n;)this.add(t[e])}Ky.prototype.add=Ky.prototype.push=yTe;Ky.prototype.has=xTe;function _Te(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function STe(t,e){return t.has(e)}var bTe=1,wTe=2;function $G(t,e,n,r,i,s){var o=n&bTe,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var u=s.get(t),c=s.get(e);if(u&&c)return u==e&&c==t;var d=-1,p=!0,m=n&wTe?new Ky:void 0;for(s.set(t,e),s.set(e,t);++d<a;){var v=t[d],y=e[d];if(r)var x=o?r(y,v,d,e,t,s):r(v,y,d,t,e,s);if(x!==void 0){if(x)continue;p=!1;break}if(m){if(!_Te(e,function(g,b){if(!STe(m,b)&&(v===g||i(v,g,n,r,s)))return m.push(b)})){p=!1;break}}else if(!(v===y||i(v,y,n,r,s))){p=!1;break}}return s.delete(t),s.delete(e),p}function MTe(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}function ATe(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var ETe=1,CTe=2,TTe="[object Boolean]",PTe="[object Date]",RTe="[object Error]",BTe="[object Map]",ITe="[object Number]",DTe="[object RegExp]",LTe="[object Set]",OTe="[object String]",FTe="[object Symbol]",kTe="[object ArrayBuffer]",NTe="[object DataView]",NO=gl?gl.prototype:void 0,cb=NO?NO.valueOf:void 0;function UTe(t,e,n,r,i,s,o){switch(n){case NTe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case kTe:return!(t.byteLength!=e.byteLength||!s(new Vy(t),new Vy(e)));case TTe:case PTe:case ITe:return qm(+t,+e);case RTe:return t.name==e.name&&t.message==e.message;case DTe:case OTe:return t==e+"";case BTe:var a=MTe;case LTe:var l=r&ETe;if(a||(a=ATe),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;r|=CTe,o.set(t,e);var c=$G(a(t),a(e),r,i,s,o);return o.delete(t),c;case FTe:if(cb)return cb.call(t)==cb.call(e)}return!1}function zTe(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function HTe(t,e,n){var r=e(t);return Ui(t)?r:zTe(r,n(t))}function GTe(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}function $Te(){return[]}var VTe=Object.prototype,WTe=VTe.propertyIsEnumerable,UO=Object.getOwnPropertySymbols,jTe=UO?function(t){return t==null?[]:(t=Object(t),GTe(UO(t),function(e){return WTe.call(t,e)}))}:$Te;const JTe=jTe;function zO(t){return HTe(t,sT,JTe)}var KTe=1,XTe=Object.prototype,YTe=XTe.hasOwnProperty;function QTe(t,e,n,r,i,s){var o=n&KTe,a=zO(t),l=a.length,u=zO(e),c=u.length;if(l!=c&&!o)return!1;for(var d=l;d--;){var p=a[d];if(!(o?p in e:YTe.call(e,p)))return!1}var m=s.get(t),v=s.get(e);if(m&&v)return m==e&&v==t;var y=!0;s.set(t,e),s.set(e,t);for(var x=o;++d<l;){p=a[d];var g=t[p],b=e[p];if(r)var S=o?r(b,g,p,e,t,s):r(g,b,p,t,e,s);if(!(S===void 0?g===b||i(g,b,n,r,s):S)){y=!1;break}x||(x=p=="constructor")}if(y&&!x){var M=t.constructor,C=e.constructor;M!=C&&"constructor"in t&&"constructor"in e&&!(typeof M=="function"&&M instanceof M&&typeof C=="function"&&C instanceof C)&&(y=!1)}return s.delete(t),s.delete(e),y}var ZTe=Xu(Ks,"DataView");const JM=ZTe;var qTe=Xu(Ks,"Promise");const KM=qTe;var e2e=Xu(Ks,"Set");const XM=e2e;var t2e=Xu(Ks,"WeakMap");const YM=t2e;var HO="[object Map]",n2e="[object Object]",GO="[object Promise]",$O="[object Set]",VO="[object WeakMap]",WO="[object DataView]",r2e=Ku(JM),i2e=Ku(lm),s2e=Ku(KM),o2e=Ku(XM),a2e=Ku(YM),tu=Ju;(JM&&tu(new JM(new ArrayBuffer(1)))!=WO||lm&&tu(new lm)!=HO||KM&&tu(KM.resolve())!=GO||XM&&tu(new XM)!=$O||YM&&tu(new YM)!=VO)&&(tu=function(t){var e=Ju(t),n=e==n2e?t.constructor:void 0,r=n?Ku(n):"";if(r)switch(r){case r2e:return WO;case i2e:return HO;case s2e:return GO;case o2e:return $O;case a2e:return VO}return e});const jO=tu;var l2e=1,JO="[object Arguments]",KO="[object Array]",_v="[object Object]",u2e=Object.prototype,XO=u2e.hasOwnProperty;function c2e(t,e,n,r,i,s){var o=Ui(t),a=Ui(e),l=o?KO:jO(t),u=a?KO:jO(e);l=l==JO?_v:l,u=u==JO?_v:u;var c=l==_v,d=u==_v,p=l==u;if(p&&jy(t)){if(!jy(e))return!1;o=!0,c=!1}if(p&&!c)return s||(s=new mo),o||rT(t)?$G(t,e,n,r,i,s):UTe(t,e,l,n,r,i,s);if(!(n&l2e)){var m=c&&XO.call(t,"__wrapped__"),v=d&&XO.call(e,"__wrapped__");if(m||v){var y=m?t.value():t,x=v?e.value():e;return s||(s=new mo),i(y,x,n,r,s)}}return p?(s||(s=new mo),QTe(t,e,n,r,i,s)):!1}function aT(t,e,n,r,i){return t===e?!0:t==null||e==null||!vl(t)&&!vl(e)?t!==t&&e!==e:c2e(t,e,n,r,aT,i)}var f2e=1,d2e=2;function h2e(t,e,n,r){var i=n.length,s=i,o=!r;if(t==null)return!s;for(t=Object(t);i--;){var a=n[i];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<s;){a=n[i];var l=a[0],u=t[l],c=a[1];if(o&&a[2]){if(u===void 0&&!(l in t))return!1}else{var d=new mo;if(r)var p=r(u,c,l,t,e,d);if(!(p===void 0?aT(c,u,f2e|d2e,r,d):p))return!1}}return!0}function VG(t){return t===t&&!hs(t)}function p2e(t){for(var e=sT(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,VG(i)]}return e}function WG(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function m2e(t){var e=p2e(t);return e.length==1&&e[0][2]?WG(e[0][0],e[0][1]):function(n){return n===t||h2e(n,t,e)}}var g2e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,v2e=/^\w*$/;function lT(t,e){if(Ui(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||n1(t)?!0:v2e.test(t)||!g2e.test(t)||e!=null&&t in Object(e)}var y2e="Expected a function";function uT(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(y2e);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(uT.Cache||ga),n}uT.Cache=ga;var x2e=500;function _2e(t){var e=uT(t,function(r){return n.size===x2e&&n.clear(),r}),n=e.cache;return e}var S2e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,b2e=/\\(\\)?/g,w2e=_2e(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(S2e,function(n,r,i,s){e.push(i?s.replace(b2e,"$1"):r||n)}),e});const M2e=w2e;var A2e=1/0,YO=gl?gl.prototype:void 0,QO=YO?YO.toString:void 0;function jG(t){if(typeof t=="string")return t;if(Ui(t))return GG(t,jG)+"";if(n1(t))return QO?QO.call(t):"";var e=t+"";return e=="0"&&1/t==-A2e?"-0":e}function E2e(t){return t==null?"":jG(t)}function JG(t,e){return Ui(t)?t:lT(t,e)?[t]:M2e(E2e(t))}var C2e=1/0;function s1(t){if(typeof t=="string"||n1(t))return t;var e=t+"";return e=="0"&&1/t==-C2e?"-0":e}function KG(t,e){e=JG(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[s1(e[n++])];return n&&n==r?t:void 0}function T2e(t,e,n){var r=t==null?void 0:KG(t,e);return r===void 0?n:r}function P2e(t,e){return t!=null&&e in Object(t)}function R2e(t,e,n){e=JG(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var o=s1(e[r]);if(!(s=t!=null&&n(t,o)))break;t=t[o]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&nT(i)&&iT(o,i)&&(Ui(t)||Wy(t)))}function B2e(t,e){return t!=null&&R2e(t,e,P2e)}var I2e=1,D2e=2;function L2e(t,e){return lT(t)&&VG(e)?WG(s1(t),e):function(n){var r=T2e(n,t);return r===void 0&&r===e?B2e(n,t):aT(e,r,I2e|D2e)}}function O2e(t){return function(e){return e==null?void 0:e[t]}}function F2e(t){return function(e){return KG(e,t)}}function k2e(t){return lT(t)?O2e(s1(t)):F2e(t)}function N2e(t){return typeof t=="function"?t:t==null?t1:typeof t=="object"?Ui(t)?L2e(t[0],t[1]):m2e(t):k2e(t)}function U2e(t,e){var n=-1,r=Fd(t)?Array(t.length):[];return NG(t,function(i,s,o){r[++n]=e(i,s,o)}),r}function Qu(t,e){var n=Ui(t)?GG:U2e;return n(t,N2e(e))}var z2e=function(e){var n=e.colors,r=e.onClick,i=e.onSwatchHover,s=mt({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return D.createElement("div",{style:s.swatches},Qu(n,function(o){return D.createElement(Yu,{key:o,color:o,style:s.swatch,onClick:r,onHover:i,focusStyle:{boxShadow:"0 0 4px "+o}})}),D.createElement("div",{style:s.clear}))},cT=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.hex,s=e.colors,o=e.width,a=e.triangle,l=e.styles,u=l===void 0?{}:l,c=e.className,d=c===void 0?"":c,p=i==="transparent",m=function(x,g){El(x)&&n({hex:x,source:"hex"},g)},v=mt(gi({default:{card:{width:o,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:i,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:oT(i),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+i+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},u),{"hide-triangle":a==="hide"});return D.createElement("div",{style:v.card,className:"block-picker "+d},D.createElement("div",{style:v.triangle}),D.createElement("div",{style:v.head},p&&D.createElement(Ld,{borderRadius:"6px 6px 0 0"}),D.createElement("div",{style:v.label},i)),D.createElement("div",{style:v.body},D.createElement(z2e,{colors:s,onClick:m,onSwatchHover:r}),D.createElement(kt,{style:{input:v.input},value:i,onChange:m})))};cT.propTypes={width:Se.oneOfType([Se.string,Se.number]),colors:Se.arrayOf(Se.string),triangle:Se.oneOf(["top","hide"]),styles:Se.object};cT.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};vi(cT);var Wc={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},jc={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},Jc={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},Kc={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},Xc={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},Yc={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},Qc={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},Zc={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},qc={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},Qh={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},ef={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},tf={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},nf={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},rf={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},sf={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},of={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},af={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},lf={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},XG=function(e){var n=e.color,r=e.onClick,i=e.onSwatchHover,s=e.hover,o=e.active,a=e.circleSize,l=e.circleSpacing,u=mt({default:{swatch:{width:a,height:a,marginRight:l,marginBottom:l,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(a/2+1)+"px "+n,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+n}}},{hover:s,active:o});return D.createElement("div",{style:u.swatch},D.createElement(Yu,{style:u.Swatch,color:n,onClick:r,onHover:i,focusStyle:{boxShadow:u.Swatch.boxShadow+", 0 0 5px "+n}}))};XG.defaultProps={circleSize:28,circleSpacing:14};const H2e=QC(XG);var fT=function(e){var n=e.width,r=e.onChange,i=e.onSwatchHover,s=e.colors,o=e.hex,a=e.circleSize,l=e.styles,u=l===void 0?{}:l,c=e.circleSpacing,d=e.className,p=d===void 0?"":d,m=mt(gi({default:{card:{width:n,display:"flex",flexWrap:"wrap",marginRight:-c,marginBottom:-c}}},u)),v=function(x,g){return r({hex:x,source:"hex"},g)};return D.createElement("div",{style:m.card,className:"circle-picker "+p},Qu(s,function(y){return D.createElement(H2e,{key:y,color:y,onClick:v,onSwatchHover:i,active:o===y.toLowerCase(),circleSize:a,circleSpacing:c})}))};fT.propTypes={width:Se.oneOfType([Se.string,Se.number]),circleSize:Se.number,circleSpacing:Se.number,styles:Se.object};fT.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[Wc[500],jc[500],Jc[500],Kc[500],Xc[500],Yc[500],Qc[500],Zc[500],qc[500],Qh[500],ef[500],tf[500],nf[500],rf[500],sf[500],of[500],af[500],lf[500]],styles:{}};const G2e=vi(fT);function ZO(t){return t===void 0}var YG={};Object.defineProperty(YG,"__esModule",{value:!0});var qO=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$2e=T,eF=V2e($2e);function V2e(t){return t&&t.__esModule?t:{default:t}}function W2e(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var Sv=24,j2e=YG.default=function(t){var e=t.fill,n=e===void 0?"currentColor":e,r=t.width,i=r===void 0?Sv:r,s=t.height,o=s===void 0?Sv:s,a=t.style,l=a===void 0?{}:a,u=W2e(t,["fill","width","height","style"]);return eF.default.createElement("svg",qO({viewBox:"0 0 "+Sv+" "+Sv,style:qO({fill:n,width:i,height:o},l)},u),eF.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))},J2e=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function K2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function X2e(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Y2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var QG=function(t){Y2e(e,t);function e(n){K2e(this,e);var r=X2e(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.toggleViews=function(){r.state.view==="hex"?r.setState({view:"rgb"}):r.state.view==="rgb"?r.setState({view:"hsl"}):r.state.view==="hsl"&&(r.props.hsl.a===1?r.setState({view:"hex"}):r.setState({view:"rgb"}))},r.handleChange=function(i,s){i.hex?El(i.hex)&&r.props.onChange({hex:i.hex,source:"hex"},s):i.r||i.g||i.b?r.props.onChange({r:i.r||r.props.rgb.r,g:i.g||r.props.rgb.g,b:i.b||r.props.rgb.b,source:"rgb"},s):i.a?(i.a<0?i.a=0:i.a>1&&(i.a=1),r.props.onChange({h:r.props.hsl.h,s:r.props.hsl.s,l:r.props.hsl.l,a:Math.round(i.a*100)/100,source:"rgb"},s)):(i.h||i.s||i.l)&&(typeof i.s=="string"&&i.s.includes("%")&&(i.s=i.s.replace("%","")),typeof i.l=="string"&&i.l.includes("%")&&(i.l=i.l.replace("%","")),i.s==1?i.s=.01:i.l==1&&(i.l=.01),r.props.onChange({h:i.h||r.props.hsl.h,s:Number(ZO(i.s)?r.props.hsl.s:i.s),l:Number(ZO(i.l)?r.props.hsl.l:i.l),source:"hsl"},s))},r.showHighlight=function(i){i.currentTarget.style.background="#eee"},r.hideHighlight=function(i){i.currentTarget.style.background="transparent"},n.hsl.a!==1&&n.view==="hex"?r.state={view:"rgb"}:r.state={view:n.view},r}return J2e(e,[{key:"render",value:function(){var r=this,i=mt({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),s=void 0;return this.state.view==="hex"?s=D.createElement("div",{style:i.fields,className:"flexbox-fix"},D.createElement("div",{style:i.field},D.createElement(kt,{style:{input:i.input,label:i.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?s=D.createElement("div",{style:i.fields,className:"flexbox-fix"},D.createElement("div",{style:i.field},D.createElement(kt,{style:{input:i.input,label:i.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),D.createElement("div",{style:i.field},D.createElement(kt,{style:{input:i.input,label:i.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),D.createElement("div",{style:i.field},D.createElement(kt,{style:{input:i.input,label:i.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),D.createElement("div",{style:i.alpha},D.createElement(kt,{style:{input:i.input,label:i.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(s=D.createElement("div",{style:i.fields,className:"flexbox-fix"},D.createElement("div",{style:i.field},D.createElement(kt,{style:{input:i.input,label:i.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),D.createElement("div",{style:i.field},D.createElement(kt,{style:{input:i.input,label:i.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),D.createElement("div",{style:i.field},D.createElement(kt,{style:{input:i.input,label:i.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),D.createElement("div",{style:i.alpha},D.createElement(kt,{style:{input:i.input,label:i.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),D.createElement("div",{style:i.wrap,className:"flexbox-fix"},s,D.createElement("div",{style:i.toggle},D.createElement("div",{style:i.icon,onClick:this.toggleViews,ref:function(a){return r.icon=a}},D.createElement(j2e,{style:i.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.hsl.a!==1&&i.view==="hex"?{view:"rgb"}:null}}]),e}(D.Component);QG.defaultProps={view:"hex"};var tF=function(){var e=mt({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return D.createElement("div",{style:e.picker})},Q2e=function(){var e=mt({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return D.createElement("div",{style:e.picker})},dT=function(e){var n=e.width,r=e.onChange,i=e.disableAlpha,s=e.rgb,o=e.hsl,a=e.hsv,l=e.hex,u=e.renderers,c=e.styles,d=c===void 0?{}:c,p=e.className,m=p===void 0?"":p,v=e.defaultView,y=mt(gi({default:{picker:{width:n,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+s.r+", "+s.g+", "+s.b+", "+s.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},d),{disableAlpha:i});return D.createElement("div",{style:y.picker,className:"chrome-picker "+m},D.createElement("div",{style:y.saturation},D.createElement(r1,{style:y.Saturation,hsl:o,hsv:a,pointer:Q2e,onChange:r})),D.createElement("div",{style:y.body},D.createElement("div",{style:y.controls,className:"flexbox-fix"},D.createElement("div",{style:y.color},D.createElement("div",{style:y.swatch},D.createElement("div",{style:y.active}),D.createElement(Ld,{renderers:u}))),D.createElement("div",{style:y.toggles},D.createElement("div",{style:y.hue},D.createElement(Od,{style:y.Hue,hsl:o,pointer:tF,onChange:r})),D.createElement("div",{style:y.alpha},D.createElement(ZC,{style:y.Alpha,rgb:s,hsl:o,pointer:tF,renderers:u,onChange:r})))),D.createElement(QG,{rgb:s,hsl:o,hex:l,view:v,onChange:r,disableAlpha:i})))};dT.propTypes={width:Se.oneOfType([Se.string,Se.number]),disableAlpha:Se.bool,styles:Se.object,defaultView:Se.oneOf(["hex","rgb","hsl"])};dT.defaultProps={width:225,disableAlpha:!1,styles:{}};vi(dT);var Z2e=function(e){var n=e.color,r=e.onClick,i=r===void 0?function(){}:r,s=e.onSwatchHover,o=e.active,a=mt({default:{color:{background:n,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:oT(n),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:o,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return D.createElement(Yu,{style:a.color,color:n,onClick:i,onHover:s,focusStyle:{boxShadow:"0 0 4px "+n}},D.createElement("div",{style:a.dot}))},q2e=function(e){var n=e.hex,r=e.rgb,i=e.onChange,s=mt({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:n},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),o=function(l,u){l.r||l.g||l.b?i({r:l.r||r.r,g:l.g||r.g,b:l.b||r.b,source:"rgb"},u):i({hex:l.hex,source:"hex"},u)};return D.createElement("div",{style:s.fields,className:"flexbox-fix"},D.createElement("div",{style:s.active}),D.createElement(kt,{style:{wrap:s.HEXwrap,input:s.HEXinput,label:s.HEXlabel},label:"hex",value:n,onChange:o}),D.createElement(kt,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"r",value:r.r,onChange:o}),D.createElement(kt,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"g",value:r.g,onChange:o}),D.createElement(kt,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"b",value:r.b,onChange:o}))},hT=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.colors,s=e.hex,o=e.rgb,a=e.styles,l=a===void 0?{}:a,u=e.className,c=u===void 0?"":u,d=mt(gi({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},l)),p=function(v,y){v.hex?El(v.hex)&&n({hex:v.hex,source:"hex"},y):n(v,y)};return D.createElement(eg,{style:d.Compact,styles:l},D.createElement("div",{style:d.compact,className:"compact-picker "+c},D.createElement("div",null,Qu(i,function(m){return D.createElement(Z2e,{key:m,color:m,active:m.toLowerCase()===s,onClick:p,onSwatchHover:r})}),D.createElement("div",{style:d.clear})),D.createElement(q2e,{hex:s,rgb:o,onChange:p})))};hT.propTypes={colors:Se.arrayOf(Se.string),styles:Se.object};hT.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};vi(hT);var ePe=function(e){var n=e.hover,r=e.color,i=e.onClick,s=e.onSwatchHover,o={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},a=mt({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:o}},{hover:n});return D.createElement("div",{style:a.swatch},D.createElement(Yu,{color:r,onClick:i,onHover:s,focusStyle:o}))};const tPe=QC(ePe);var pT=function(e){var n=e.width,r=e.colors,i=e.onChange,s=e.onSwatchHover,o=e.triangle,a=e.styles,l=a===void 0?{}:a,u=e.className,c=u===void 0?"":u,d=mt(gi({default:{card:{width:n,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},l),{"hide-triangle":o==="hide","top-left-triangle":o==="top-left","top-right-triangle":o==="top-right","bottom-left-triangle":o==="bottom-left","bottom-right-triangle":o==="bottom-right"}),p=function(v,y){return i({hex:v,source:"hex"},y)};return D.createElement("div",{style:d.card,className:"github-picker "+c},D.createElement("div",{style:d.triangleShadow}),D.createElement("div",{style:d.triangle}),Qu(r,function(m){return D.createElement(tPe,{color:m,key:m,onClick:p,onSwatchHover:s})}))};pT.propTypes={width:Se.oneOfType([Se.string,Se.number]),colors:Se.arrayOf(Se.string),triangle:Se.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:Se.object};pT.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};vi(pT);var nPe=function(e){var n=e.direction,r=mt({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return D.createElement("div",{style:r.picker})},rPe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mT=function(e){var n=e.width,r=e.height,i=e.onChange,s=e.hsl,o=e.direction,a=e.pointer,l=e.styles,u=l===void 0?{}:l,c=e.className,d=c===void 0?"":c,p=mt(gi({default:{picker:{position:"relative",width:n,height:r},hue:{radius:"2px"}}},u)),m=function(y){return i({a:1,h:y.h,l:.5,s:1})};return D.createElement("div",{style:p.picker,className:"hue-picker "+d},D.createElement(Od,rPe({},p.hue,{hsl:s,pointer:a,onChange:m,direction:o})))};mT.propTypes={styles:Se.object};mT.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:nPe,styles:{}};vi(mT);var iPe=function(e){var n=e.onChange,r=e.hex,i=e.rgb,s=e.styles,o=s===void 0?{}:s,a=e.className,l=a===void 0?"":a,u=mt(gi({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+r,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},o)),c=function(p,m){p.hex?El(p.hex)&&n({hex:p.hex,source:"hex"},m):(p.r||p.g||p.b)&&n({r:p.r||i.r,g:p.g||i.g,b:p.b||i.b,source:"rgb"},m)};return D.createElement(eg,{styles:o},D.createElement("div",{style:u.material,className:"material-picker "+l},D.createElement(kt,{style:{wrap:u.HEXwrap,input:u.HEXinput,label:u.HEXlabel},label:"hex",value:r,onChange:c}),D.createElement("div",{style:u.split,className:"flexbox-fix"},D.createElement("div",{style:u.third},D.createElement(kt,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"r",value:i.r,onChange:c})),D.createElement("div",{style:u.third},D.createElement(kt,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"g",value:i.g,onChange:c})),D.createElement("div",{style:u.third},D.createElement(kt,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"b",value:i.b,onChange:c})))))};vi(iPe);var sPe=function(e){var n=e.onChange,r=e.rgb,i=e.hsv,s=e.hex,o=mt({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),a=function(u,c){u["#"]?El(u["#"])&&n({hex:u["#"],source:"hex"},c):u.r||u.g||u.b?n({r:u.r||r.r,g:u.g||r.g,b:u.b||r.b,source:"rgb"},c):(u.h||u.s||u.v)&&n({h:u.h||i.h,s:u.s||i.s,v:u.v||i.v,source:"hsv"},c)};return D.createElement("div",{style:o.fields},D.createElement(kt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"h",value:Math.round(i.h),onChange:a}),D.createElement(kt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"s",value:Math.round(i.s*100),onChange:a}),D.createElement(kt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"v",value:Math.round(i.v*100),onChange:a}),D.createElement("div",{style:o.divider}),D.createElement(kt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"r",value:r.r,onChange:a}),D.createElement(kt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"g",value:r.g,onChange:a}),D.createElement(kt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"b",value:r.b,onChange:a}),D.createElement("div",{style:o.divider}),D.createElement(kt,{style:{wrap:o.HEXwrap,input:o.HEXinput,label:o.HEXlabel},label:"#",value:s.replace("#",""),onChange:a}),D.createElement("div",{style:o.fieldSymbols},D.createElement("div",{style:o.symbol},"°"),D.createElement("div",{style:o.symbol},"%"),D.createElement("div",{style:o.symbol},"%")))},oPe=function(e){var n=e.hsl,r=mt({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":n.l>.5});return D.createElement("div",{style:r.picker})},aPe=function(){var e=mt({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return D.createElement("div",{style:e.pointer},D.createElement("div",{style:e.left},D.createElement("div",{style:e.leftInside})),D.createElement("div",{style:e.right},D.createElement("div",{style:e.rightInside})))},nF=function(e){var n=e.onClick,r=e.label,i=e.children,s=e.active,o=mt({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:s});return D.createElement("div",{style:o.button,onClick:n},r||i)},lPe=function(e){var n=e.rgb,r=e.currentColor,i=mt({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+n.r+","+n.g+", "+n.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:r,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return D.createElement("div",null,D.createElement("div",{style:i.label},"new"),D.createElement("div",{style:i.swatches},D.createElement("div",{style:i.new}),D.createElement("div",{style:i.current})),D.createElement("div",{style:i.label},"current"))},uPe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function cPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fPe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function dPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var gT=function(t){dPe(e,t);function e(n){cPe(this,e);var r=fPe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.state={currentColor:n.hex},r}return uPe(e,[{key:"render",value:function(){var r=this.props,i=r.styles,s=i===void 0?{}:i,o=r.className,a=o===void 0?"":o,l=mt(gi({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},s));return D.createElement("div",{style:l.picker,className:"photoshop-picker "+a},D.createElement("div",{style:l.head},this.props.header),D.createElement("div",{style:l.body,className:"flexbox-fix"},D.createElement("div",{style:l.saturation},D.createElement(r1,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:oPe,onChange:this.props.onChange})),D.createElement("div",{style:l.hue},D.createElement(Od,{direction:"vertical",hsl:this.props.hsl,pointer:aPe,onChange:this.props.onChange})),D.createElement("div",{style:l.controls},D.createElement("div",{style:l.top,className:"flexbox-fix"},D.createElement("div",{style:l.previews},D.createElement(lPe,{rgb:this.props.rgb,currentColor:this.state.currentColor})),D.createElement("div",{style:l.actions},D.createElement(nF,{label:"OK",onClick:this.props.onAccept,active:!0}),D.createElement(nF,{label:"Cancel",onClick:this.props.onCancel}),D.createElement(sPe,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),e}(D.Component);gT.propTypes={header:Se.string,styles:Se.object};gT.defaultProps={header:"Color Picker",styles:{}};vi(gT);var hPe=function(e){var n=e.onChange,r=e.rgb,i=e.hsl,s=e.hex,o=e.disableAlpha,a=mt({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:o}),l=function(c,d){c.hex?El(c.hex)&&n({hex:c.hex,source:"hex"},d):c.r||c.g||c.b?n({r:c.r||r.r,g:c.g||r.g,b:c.b||r.b,a:r.a,source:"rgb"},d):c.a&&(c.a<0?c.a=0:c.a>100&&(c.a=100),c.a/=100,n({h:i.h,s:i.s,l:i.l,a:c.a,source:"rgb"},d))};return D.createElement("div",{style:a.fields,className:"flexbox-fix"},D.createElement("div",{style:a.double},D.createElement(kt,{style:{input:a.input,label:a.label},label:"hex",value:s.replace("#",""),onChange:l})),D.createElement("div",{style:a.single},D.createElement(kt,{style:{input:a.input,label:a.label},label:"r",value:r.r,onChange:l,dragLabel:"true",dragMax:"255"})),D.createElement("div",{style:a.single},D.createElement(kt,{style:{input:a.input,label:a.label},label:"g",value:r.g,onChange:l,dragLabel:"true",dragMax:"255"})),D.createElement("div",{style:a.single},D.createElement(kt,{style:{input:a.input,label:a.label},label:"b",value:r.b,onChange:l,dragLabel:"true",dragMax:"255"})),D.createElement("div",{style:a.alpha},D.createElement(kt,{style:{input:a.input,label:a.label},label:"a",value:Math.round(r.a*100),onChange:l,dragLabel:"true",dragMax:"100"})))},pPe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ZG=function(e){var n=e.colors,r=e.onClick,i=r===void 0?function(){}:r,s=e.onSwatchHover,o=mt({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!n||!n.length}),a=function(u,c){i({hex:u,source:"hex"},c)};return D.createElement("div",{style:o.colors,className:"flexbox-fix"},n.map(function(l){var u=typeof l=="string"?{color:l}:l,c=""+u.color+(u.title||"");return D.createElement("div",{key:c,style:o.swatchWrap},D.createElement(Yu,pPe({},u,{style:o.swatch,onClick:a,onHover:s,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+u.color}})))}))};ZG.propTypes={colors:Se.arrayOf(Se.oneOfType([Se.string,Se.shape({color:Se.string,title:Se.string})])).isRequired};var mPe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vT=function(e){var n=e.width,r=e.rgb,i=e.hex,s=e.hsv,o=e.hsl,a=e.onChange,l=e.onSwatchHover,u=e.disableAlpha,c=e.presetColors,d=e.renderers,p=e.styles,m=p===void 0?{}:p,v=e.className,y=v===void 0?"":v,x=mt(gi({default:mPe({picker:{width:n,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+r.r+","+r.g+","+r.b+","+r.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},m),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},m),{disableAlpha:u});return D.createElement("div",{style:x.picker,className:"sketch-picker "+y},D.createElement("div",{style:x.saturation},D.createElement(r1,{style:x.Saturation,hsl:o,hsv:s,onChange:a})),D.createElement("div",{style:x.controls,className:"flexbox-fix"},D.createElement("div",{style:x.sliders},D.createElement("div",{style:x.hue},D.createElement(Od,{style:x.Hue,hsl:o,onChange:a})),D.createElement("div",{style:x.alpha},D.createElement(ZC,{style:x.Alpha,rgb:r,hsl:o,renderers:d,onChange:a}))),D.createElement("div",{style:x.color},D.createElement(Ld,null),D.createElement("div",{style:x.activeColor}))),D.createElement(hPe,{rgb:r,hsl:o,hex:i,onChange:a,disableAlpha:u}),D.createElement(ZG,{colors:c,onClick:a,onSwatchHover:l}))};vT.propTypes={disableAlpha:Se.bool,width:Se.oneOfType([Se.string,Se.number]),styles:Se.object};vT.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};vi(vT);var Uh=function(e){var n=e.hsl,r=e.offset,i=e.onClick,s=i===void 0?function(){}:i,o=e.active,a=e.first,l=e.last,u=mt({default:{swatch:{height:"12px",background:"hsl("+n.h+", 50%, "+r*100+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:o,first:a,last:l}),c=function(p){return s({h:n.h,s:.5,l:r,source:"hsl"},p)};return D.createElement("div",{style:u.swatch,onClick:c})},gPe=function(e){var n=e.onClick,r=e.hsl,i=mt({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),s=.1;return D.createElement("div",{style:i.swatches},D.createElement("div",{style:i.swatch},D.createElement(Uh,{hsl:r,offset:".80",active:Math.abs(r.l-.8)<s&&Math.abs(r.s-.5)<s,onClick:n,first:!0})),D.createElement("div",{style:i.swatch},D.createElement(Uh,{hsl:r,offset:".65",active:Math.abs(r.l-.65)<s&&Math.abs(r.s-.5)<s,onClick:n})),D.createElement("div",{style:i.swatch},D.createElement(Uh,{hsl:r,offset:".50",active:Math.abs(r.l-.5)<s&&Math.abs(r.s-.5)<s,onClick:n})),D.createElement("div",{style:i.swatch},D.createElement(Uh,{hsl:r,offset:".35",active:Math.abs(r.l-.35)<s&&Math.abs(r.s-.5)<s,onClick:n})),D.createElement("div",{style:i.swatch},D.createElement(Uh,{hsl:r,offset:".20",active:Math.abs(r.l-.2)<s&&Math.abs(r.s-.5)<s,onClick:n,last:!0})),D.createElement("div",{style:i.clear}))},vPe=function(){var e=mt({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return D.createElement("div",{style:e.picker})},yT=function(e){var n=e.hsl,r=e.onChange,i=e.pointer,s=e.styles,o=s===void 0?{}:s,a=e.className,l=a===void 0?"":a,u=mt(gi({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},o));return D.createElement("div",{style:u.wrap||{},className:"slider-picker "+l},D.createElement("div",{style:u.hue},D.createElement(Od,{style:u.Hue,hsl:n,pointer:i,onChange:r})),D.createElement("div",{style:u.swatches},D.createElement(gPe,{hsl:n,onClick:r})))};yT.propTypes={styles:Se.object};yT.defaultProps={pointer:vPe,styles:{}};vi(yT);var qG={};Object.defineProperty(qG,"__esModule",{value:!0});var rF=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yPe=T,iF=xPe(yPe);function xPe(t){return t&&t.__esModule?t:{default:t}}function _Pe(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var bv=24,SPe=qG.default=function(t){var e=t.fill,n=e===void 0?"currentColor":e,r=t.width,i=r===void 0?bv:r,s=t.height,o=s===void 0?bv:s,a=t.style,l=a===void 0?{}:a,u=_Pe(t,["fill","width","height","style"]);return iF.default.createElement("svg",rF({viewBox:"0 0 "+bv+" "+bv,style:rF({fill:n,width:i,height:o},l)},u),iF.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))},bPe=function(e){var n=e.color,r=e.onClick,i=r===void 0?function(){}:r,s=e.onSwatchHover,o=e.first,a=e.last,l=e.active,u=mt({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:n,marginBottom:"1px"},check:{color:oT(n),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:o,last:a,active:l,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return D.createElement(Yu,{color:n,style:u.color,onClick:i,onHover:s,focusStyle:{boxShadow:"0 0 4px "+n}},D.createElement("div",{style:u.check},D.createElement(SPe,null)))},wPe=function(e){var n=e.onClick,r=e.onSwatchHover,i=e.group,s=e.active,o=mt({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return D.createElement("div",{style:o.group},Qu(i,function(a,l){return D.createElement(bPe,{key:a,color:a,active:a.toLowerCase()===s,first:l===0,last:l===i.length-1,onClick:n,onSwatchHover:r})}))},xT=function(e){var n=e.width,r=e.height,i=e.onChange,s=e.onSwatchHover,o=e.colors,a=e.hex,l=e.styles,u=l===void 0?{}:l,c=e.className,d=c===void 0?"":c,p=mt(gi({default:{picker:{width:n,height:r},overflow:{height:r,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},u)),m=function(y,x){return i({hex:y,source:"hex"},x)};return D.createElement("div",{style:p.picker,className:"swatches-picker "+d},D.createElement(eg,null,D.createElement("div",{style:p.overflow},D.createElement("div",{style:p.body},Qu(o,function(v){return D.createElement(wPe,{key:v.toString(),group:v,active:a,onClick:m,onSwatchHover:s})}),D.createElement("div",{style:p.clear})))))};xT.propTypes={width:Se.oneOfType([Se.string,Se.number]),height:Se.oneOfType([Se.string,Se.number]),colors:Se.arrayOf(Se.arrayOf(Se.string)),styles:Se.object};xT.defaultProps={width:320,height:240,colors:[[Wc[900],Wc[700],Wc[500],Wc[300],Wc[100]],[jc[900],jc[700],jc[500],jc[300],jc[100]],[Jc[900],Jc[700],Jc[500],Jc[300],Jc[100]],[Kc[900],Kc[700],Kc[500],Kc[300],Kc[100]],[Xc[900],Xc[700],Xc[500],Xc[300],Xc[100]],[Yc[900],Yc[700],Yc[500],Yc[300],Yc[100]],[Qc[900],Qc[700],Qc[500],Qc[300],Qc[100]],[Zc[900],Zc[700],Zc[500],Zc[300],Zc[100]],[qc[900],qc[700],qc[500],qc[300],qc[100]],["#194D33",Qh[700],Qh[500],Qh[300],Qh[100]],[ef[900],ef[700],ef[500],ef[300],ef[100]],[tf[900],tf[700],tf[500],tf[300],tf[100]],[nf[900],nf[700],nf[500],nf[300],nf[100]],[rf[900],rf[700],rf[500],rf[300],rf[100]],[sf[900],sf[700],sf[500],sf[300],sf[100]],[of[900],of[700],of[500],of[300],of[100]],[af[900],af[700],af[500],af[300],af[100]],[lf[900],lf[700],lf[500],lf[300],lf[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};vi(xT);var _T=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.hex,s=e.colors,o=e.width,a=e.triangle,l=e.styles,u=l===void 0?{}:l,c=e.className,d=c===void 0?"":c,p=mt(gi({default:{card:{width:o,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},u),{"hide-triangle":a==="hide","top-left-triangle":a==="top-left","top-right-triangle":a==="top-right"}),m=function(y,x){El(y)&&n({hex:y,source:"hex"},x)};return D.createElement("div",{style:p.card,className:"twitter-picker "+d},D.createElement("div",{style:p.triangleShadow}),D.createElement("div",{style:p.triangle}),D.createElement("div",{style:p.body},Qu(s,function(v,y){return D.createElement(Yu,{key:y,color:v,hex:v,style:p.swatch,onClick:m,onHover:r,focusStyle:{boxShadow:"0 0 4px "+v}})}),D.createElement("div",{style:p.hash},"#"),D.createElement(kt,{label:null,style:{input:p.input},value:i.replace("#",""),onChange:m}),D.createElement("div",{style:p.clear})))};_T.propTypes={width:Se.oneOfType([Se.string,Se.number]),triangle:Se.oneOf(["hide","top-left","top-right"]),colors:Se.arrayOf(Se.string),styles:Se.object};_T.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};vi(_T);var ST=function(e){var n=mt({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(e.hsl.h)+", "+Math.round(e.hsl.s*100)+"%, "+Math.round(e.hsl.l*100)+"%)"}}});return D.createElement("div",{style:n.picker})};ST.propTypes={hsl:Se.shape({h:Se.number,s:Se.number,l:Se.number,a:Se.number})};ST.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var bT=function(e){var n=mt({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(e.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return D.createElement("div",{style:n.picker})};bT.propTypes={hsl:Se.shape({h:Se.number,s:Se.number,l:Se.number,a:Se.number})};bT.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var MPe=function(e){var n=e.onChange,r=e.rgb,i=e.hsl,s=e.hex,o=e.hsv,a=function(m,v){if(m.hex)El(m.hex)&&n({hex:m.hex,source:"hex"},v);else if(m.rgb){var y=m.rgb.split(",");ub(m.rgb,"rgb")&&n({r:y[0],g:y[1],b:y[2],a:1,source:"rgb"},v)}else if(m.hsv){var x=m.hsv.split(",");ub(m.hsv,"hsv")&&(x[2]=x[2].replace("%",""),x[1]=x[1].replace("%",""),x[0]=x[0].replace("°",""),x[1]==1?x[1]=.01:x[2]==1&&(x[2]=.01),n({h:Number(x[0]),s:Number(x[1]),v:Number(x[2]),source:"hsv"},v))}else if(m.hsl){var g=m.hsl.split(",");ub(m.hsl,"hsl")&&(g[2]=g[2].replace("%",""),g[1]=g[1].replace("%",""),g[0]=g[0].replace("°",""),d[1]==1?d[1]=.01:d[2]==1&&(d[2]=.01),n({h:Number(g[0]),s:Number(g[1]),v:Number(g[2]),source:"hsl"},v))}},l=mt({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),u=r.r+", "+r.g+", "+r.b,c=Math.round(i.h)+"°, "+Math.round(i.s*100)+"%, "+Math.round(i.l*100)+"%",d=Math.round(o.h)+"°, "+Math.round(o.s*100)+"%, "+Math.round(o.v*100)+"%";return D.createElement("div",{style:l.wrap,className:"flexbox-fix"},D.createElement("div",{style:l.fields},D.createElement("div",{style:l.double},D.createElement(kt,{style:{input:l.input,label:l.label},label:"hex",value:s,onChange:a})),D.createElement("div",{style:l.column},D.createElement("div",{style:l.single},D.createElement(kt,{style:{input:l.input2,label:l.label2},label:"rgb",value:u,onChange:a})),D.createElement("div",{style:l.single},D.createElement(kt,{style:{input:l.input2,label:l.label2},label:"hsv",value:d,onChange:a})),D.createElement("div",{style:l.single},D.createElement(kt,{style:{input:l.input2,label:l.label2},label:"hsl",value:c,onChange:a})))))},wT=function(e){var n=e.width,r=e.onChange,i=e.rgb,s=e.hsl,o=e.hsv,a=e.hex,l=e.header,u=e.styles,c=u===void 0?{}:u,d=e.className,p=d===void 0?"":d,m=mt(gi({default:{picker:{width:n,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+i.r+", "+i.g+", "+i.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},c));return D.createElement("div",{style:m.picker,className:"google-picker "+p},D.createElement("div",{style:m.head},l),D.createElement("div",{style:m.swatch}),D.createElement("div",{style:m.saturation},D.createElement(r1,{hsl:s,hsv:o,pointer:ST,onChange:r})),D.createElement("div",{style:m.body},D.createElement("div",{style:m.controls,className:"flexbox-fix"},D.createElement("div",{style:m.hue},D.createElement(Od,{style:m.Hue,hsl:s,radius:"4px",pointer:bT,onChange:r}))),D.createElement(MPe,{rgb:i,hsl:s,hex:a,hsv:o,onChange:r})))};wT.propTypes={width:Se.oneOfType([Se.string,Se.number]),styles:Se.object,header:Se.string};wT.defaultProps={width:652,styles:{},header:"Color picker"};vi(wT);function APe(){const t=Nm(Ci),e={type:"spring",duration:.8},n={initial:{x:-100,opacity:0,transition:{...e,delay:.5}},animate:{x:0,opacity:1,transition:{...e,delay:0}},exit:{x:-100,opacity:0,transition:{...e,delay:0}}};return Rt("div",{className:"container",children:[Rt(KC.header,{initial:{opacity:0,y:-120},animate:{opacity:1,y:0},transition:{type:"spring",duration:1.8,delay:1},children:[W("img",{src:"decals/044.png",width:"60",height:"60",alt:"brand"}),W("hr",{className:"border-line-btm"})]}),W(Fbe,{children:t.intro?W(EPe,{config:n},"main"):W(CPe,{config:n},"custom")})]})}function EPe({config:t}){return T.createElement(KC.section,{...t,key:"main"},Rt("div",{className:"section--container",children:[W("div",{children:W("h1",{children:"Let's Ride."})}),W("div",{className:"support--content",children:Rt("div",{children:[Rt("p",{children:["Create your unique and exclusive cafe racer with our brand-new 3D customization tool. ",W("strong",{children:"Unleash your imagination"})," and define your own ride."]}),Rt("button",{style:{background:"black"},onClick:()=>{Ci.intro=!1,Ci.parts[0].value=!0},children:["CUSTOMIZE IT ",W(Sxe,{size:"1.3em"})]})]})})]}))}function CPe({config:t}){const e=Nm(Ci),n=i=>{const s=e.parts.map(o=>o.value?{...o,color:i.hex}:o);Ci.parts=s},r=(i,s)=>{const o=e.parts.map(a=>a.id===i.id?{...i,value:s}:a);Ci.parts=o};return T.createElement(KC.section,{...t,key:"custom"},Rt("div",{className:"customizer",children:[W("div",{className:"decals",children:W("div",{className:"decals--container",children:e.decals.map(i=>W("div",{className:"decal",onClick:()=>Ci.selectedDecal=i,children:W("img",{src:i+".png",alt:"brand"})},i))})}),Rt("button",{className:"share",style:{background:e.parts[0].color},onClick:()=>{const i=document.createElement("a");i.setAttribute("download","canvas.png"),i.setAttribute("href",document.querySelector("canvas").toDataURL("image/png").replace("image/png","image/octet-stream")),i.click()},children:["DOWNLOAD",W(xxe,{size:"1.3em"})]}),Rt("button",{className:"exit",style:{background:e.parts[0].color},onClick:()=>{Ci.intro=!0,Ci.parts.map(i=>{i.value=!1})},children:["GO BACK",W(_xe,{size:"1.3em"})]}),W("div",{className:"parts",children:Rt("div",{className:"parts--container",children:[e.parts.map((i,s)=>Rt("div",{className:"part",children:[Rt("label",{className:"toggler-wrapper style-22",children:[W("input",{className:"part",type:"checkbox",checked:i.value,onChange:o=>r(i,o.target.checked)}),W("div",{className:"toggler-slider",style:{background:e.parts[0].color},children:W("div",{className:"toggler-knob"})})]}),i.label]},i.id)),W("div",{children:W(G2e,{onChange:n})})]})})]}))}const TPe=fb.createRoot(document.querySelector("#root"));TPe.render(Rt(v6,{children:[W(gxe,{}),W(APe,{})]}))});export default PPe();
//# sourceMappingURL=index-e05efca4.js.map
